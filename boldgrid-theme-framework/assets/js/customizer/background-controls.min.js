var BOLDGRID=BOLDGRID||{};BOLDGRID.CUSTOMIZER=BOLDGRID.CUSTOMIZER||{},function(o){"use strict";BOLDGRID.CUSTOMIZER.Background={};var t=BOLDGRID.CUSTOMIZER.Background,i=o(window);o(function(){i.on("boldgrid_customizer_refresh",r)});var r=function(){u(),e();var i=o("#customize-control-boldgrid_background_color"),r=o("#customize-control-boldgrid_background_pattern"),d=o("#customize-control-boldgrid-background-type");t.$background_color_picker_color=i.find(".wp-color-result");var l=r.find("#boldgrid_background_pattern input"),g=r.find(".boldgrid-pattern-wrapper"),_=r.find(".remove-selected-pattern");i.find(".wp-picker-clear").on("click",function(){wp.customize.control("boldgrid_background_color").setting(""),a()}),a(),c(),n(),_.on("click",function(){g.removeAttr("data-pattern-selected"),_.attr("disabled","disabled"),o("#boldgrid_background_pattern .active-pattern").removeClass("active-pattern"),l.val("").change()}),o(".patternpreview").on("click",function(){var t=o(this);o(".pattern-wrapper .active-pattern").removeClass("active-pattern"),t.toggleClass("active-pattern");var i=t.css("background-image");l.val(i).change(),g.attr("data-pattern-selected",1),_.removeAttr("disabled","disabled")}),o("#boldgrid-background-type").buttonset(),o(".accordion-section-content, .wp-full-overlay-sidebar-content").on("scroll",function(){var t=o(this),i=t.scrollTop();i>75&&"pattern"===wp.customize("boldgrid_background_type")()?t.addClass("boldgrid-sticky-customizer"):t.removeClass("boldgrid-sticky-customizer")}),d.on("change","input",function(){var t=o(this);"image"===t.val()?(o("#customize-control-boldgrid_background_color").hide(),o("#customize-control-boldgrid_background_pattern").hide()):(o("#customize-control-boldgrid_background_color").show(),o("#customize-control-boldgrid_background_pattern").show())}),d.find("input:checked").change()},a=function(){var i=o(wp.customize.previewer.container),r=wp.customize("boldgrid_background_color")();""===r&&setTimeout(function(){var o=i.find("iframe").contents(),r=o.find("body").css("background-color");t.$background_color_picker_color.css("background-color",r),c(r)},100)},c=function(t){if(t||(t=wp.customize("boldgrid_background_color")()),o("#customizer_boldgrid_background_color").remove(),t){var i="";i+='<style id="customizer_boldgrid_background_color">',i+="#customize-control-boldgrid_background_pattern .patternpreview{background-color:"+t+";}",i+="</style>",o("head").append(o(i))}},n=function(){wp.customize("boldgrid_background_color",function(o){o.bind(function(){c()})})},e=function(){var o=wp.customize("background_image")(),t=wp.customize("background_attachment")(),i=wp.customize("boldgrid_background_type")();"pattern"===i?(wp.customize.control("boldgrid_background_pattern").activate({duration:0}),wp.customize.control("boldgrid_background_color").activate({duration:0}),wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_image_size").deactivate({duration:0}),wp.customize.control("background_image").deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0}),d().deactivate({duration:0})):(wp.customize.control("boldgrid_background_image_size").activate({duration:0}),wp.customize.control("boldgrid_background_horizontal_position").activate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").activate({duration:0}),wp.customize.control("background_image").activate({duration:0}),d().activate({duration:0}),wp.customize.control("background_repeat").activate({duration:0}),o?(wp.customize.control("boldgrid_background_horizontal_position").activate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").activate({duration:0}),wp.customize.control("boldgrid_background_image_size").activate({duration:0}),d().activate({duration:0}),wp.customize.control("background_repeat").activate({duration:0})):(wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_image_size").deactivate({duration:0}),d().deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0})),"parallax"===t&&(wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0})))},d=function(){return wp.customize.control("background_attachment")?wp.customize.control("background_attachment"):wp.customize.control("boldgrid_background_attachment")},u=function(){var t=["background_image","background_attachment","background_repeat","boldgrid_background_image_size","boldgrid_background_horizontal_position","boldgrid_background_type","boldgrid_background_vertical_position"];o.each(t,function(){wp.customize(this,function(o){o.bind(e)})})}}(jQuery),function(o){wp.customize("logo_shadow_switch",function(o){o.bind(function(){t()})});var t=function(){var o=wp.customize("logo_shadow_switch").get(),t=wp.customize.control("logo_shadow_vertical"),i=wp.customize.control("logo_shadow_horizontal"),r=wp.customize.control("logo_shadow_color"),a=wp.customize.control("logo_shadow_blur");1!=o?(t.deactivate({duration:0}),i.deactivate({duration:0}),r.deactivate({duration:0}),a.deactivate({duration:0})):(t.activate({duration:0}),i.activate({duration:0}),r.activate({duration:0}),a.activate({duration:0}))},i=function(){var o=wp.customize("boldgrid_logo_setting").get();""!==o?(_.each(wp.customize.section("title_tagline").controls(),function(o){o.deactivate({duration:0})}),wp.customize.control("boldgrid_logo_setting").activate({duration:0}),wp.customize.control("site_icon").activate({duration:0}),wp.customize.control("blogname").activate({duration:0}),wp.customize.control("logo_margin_bottom").activate({duration:0}),wp.customize.control("logo_margin_left").activate({duration:0}),wp.customize.control("logo_margin_top").activate({duration:0}),wp.customize.control("boldgrid_logo_size").activate({duration:0}),wp.customize.control("boldgrid_position_toggle").activate({duration:0}),wp.customize.control("boldgrid_position_toggle").priority(55),wp.customize.control("logo_margin_left").priority(55),wp.customize.control("logo_margin_bottom").priority(55),wp.customize.control("logo_margin_top").priority(55),wp.customize.control("boldgrid_logo_size").priority(50)):(wp.customize.control("boldgrid_logo_size").deactivate({duration:0}),wp.customize.control("boldgrid_position_toggle").priority(10),wp.customize.control("logo_margin_left").priority(10),wp.customize.control("logo_margin_bottom").priority(10),wp.customize.control("logo_margin_top").priority(10))},r=function(){var o=wp.customize("boldgrid_font_toggle").get(),t=wp.customize.control("logo_font_family"),i=wp.customize.control("logo_font_size"),r=wp.customize.control("logo_text_decoration"),a=wp.customize.control("logo_text_decoration_hover"),c=wp.customize.control("logo_text_transform");1!=o&&(t.deactivate({duration:0}),i.deactivate({duration:0}),r.deactivate({duration:0}),a.deactivate({duration:0}),c.deactivate({duration:0}))},a=function(){var o=wp.customize("boldgrid_position_toggle").get(),t=wp.customize.control("logo_letter_spacing"),i=wp.customize.control("logo_line_height"),r=wp.customize.control("logo_margin_bottom"),a=wp.customize.control("logo_margin_top"),c=wp.customize.control("logo_margin_left");1!=o&&(t.deactivate({duration:0}),i.deactivate({duration:0}),r.deactivate({duration:0}),a.deactivate({duration:0}),c.deactivate({duration:0}))};o(window).on("message",function(o){var c=o.originalEvent;if("string"==typeof c.data&&"{"===c.data[0]){var n=JSON.parse(c.data);"synced"===n.id&&(t(),i(),r(),a())}})}(jQuery);