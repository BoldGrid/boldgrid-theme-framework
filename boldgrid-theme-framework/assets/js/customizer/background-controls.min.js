var BOLDGRID=BOLDGRID||{};BOLDGRID.CUSTOMIZER=BOLDGRID.CUSTOMIZER||{},function(o){"use strict";BOLDGRID.CUSTOMIZER.Background={};var t=BOLDGRID.CUSTOMIZER.Background,i=o(window);o(function(){i.on("boldgrid_customizer_refresh",r),a()});var r=function(){_(),u();var i=o("#customize-control-boldgrid_background_color"),r=o("#customize-control-boldgrid_background_pattern"),a=o("#customize-control-boldgrid-background-type");t.$background_color_picker_color=i.find(".wp-color-result");var l=r.find("#boldgrid_background_pattern input"),g=r.find(".boldgrid-pattern-wrapper"),s=r.find(".remove-selected-pattern");c(),e(),n(),d(),s.on("click",function(){g.removeAttr("data-pattern-selected"),s.attr("disabled","disabled"),o("#boldgrid_background_pattern .active-pattern").removeClass("active-pattern"),l.val("").change()}),o(".patternpreview").on("click",function(){var t=o(this);o(".pattern-wrapper .active-pattern").removeClass("active-pattern"),t.toggleClass("active-pattern");var i=t.css("background-image");l.val(i).change(),g.attr("data-pattern-selected",1),s.removeAttr("disabled","disabled")}),o("#boldgrid-background-type").buttonset(),o(".accordion-section-content, .wp-full-overlay-sidebar-content").on("scroll",function(){var t=o(this);t.scrollTop()>75&&"pattern"===wp.customize("boldgrid_background_type")()?t.addClass("boldgrid-sticky-customizer"):t.removeClass("boldgrid-sticky-customizer")}),a.on("change","input",function(){"image"===o(this).val()?(o("#customize-control-boldgrid_background_color").hide(),o("#customize-control-boldgrid_background_pattern").hide()):(o("#customize-control-boldgrid_background_color").show(),o("#customize-control-boldgrid_background_pattern").show())}),a.find("input:checked").change()},a=function(){var t=!1;wp.customize.section("background_image").expanded.bind(function(i){i&&!t&&(t=!0,o(".patternpreview").each(function(){var t=o(this);t.css("background-image","url("+t.data("background")+")")}))})},c=function(){var i=o(wp.customize.previewer.container);""===wp.customize("boldgrid_background_color")()&&setTimeout(function(){var o=i.find("iframe").contents().find("body").css("background-color");t.$background_color_picker_color.css("background-color",o),e(o)},100)},e=function(t){if(t||(t=wp.customize("boldgrid_background_color")()),o("#customizer_boldgrid_background_color").remove(),t){var i="";i+='<style id="customizer_boldgrid_background_color">',i+="#customize-control-boldgrid_background_pattern .patternpreview{background-color:"+t.split(":").pop()+";}",i+="</style>",o("head").append(o(i))}},n=function(){wp.customize("boldgrid_background_color",function(o){o.bind(function(){e()})})},d=function(){wp.customize("boldgrid_color_palette",function(o){o.bind(function(){e()})})},u=function(){var o=wp.customize("background_image")(),t=wp.customize("background_attachment")();"pattern"===wp.customize("boldgrid_background_type")()?(wp.customize.control("boldgrid_background_pattern").activate({duration:0}),wp.customize.control("boldgrid_background_color").activate({duration:0}),wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_image_size").deactivate({duration:0}),wp.customize.control("background_image").deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0}),g().deactivate({duration:0})):(wp.customize.control("boldgrid_background_image_size").activate({duration:0}),wp.customize.control("boldgrid_background_horizontal_position").activate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").activate({duration:0}),wp.customize.control("background_image").activate({duration:0}),g().activate({duration:0}),wp.customize.control("background_repeat").activate({duration:0}),o?(wp.customize.control("boldgrid_background_horizontal_position").activate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").activate({duration:0}),wp.customize.control("bgtfw_background_overlay").activate({duration:0}),wp.customize.control("boldgrid_background_image_size").activate({duration:0}),g().activate({duration:0}),wp.customize.control("background_repeat").activate({duration:0}),l()):(wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_image_size").deactivate({duration:0}),wp.customize.control("bgtfw_background_overlay").deactivate({duration:0}),l(),g().deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0})),"parallax"===t&&(wp.customize.control("boldgrid_background_horizontal_position").deactivate({duration:0}),wp.customize.control("boldgrid_background_vertical_position").deactivate({duration:0}),wp.customize.control("background_repeat").deactivate({duration:0})))},l=function(){wp.customize("bgtfw_background_overlay")()?(wp.customize.control("bgtfw_background_overlay_color").activate({duration:0}),wp.customize.control("bgtfw_background_overlay_alpha").activate({duration:0})):(wp.customize.control("bgtfw_background_overlay_color").deactivate({duration:0}),wp.customize.control("bgtfw_background_overlay_alpha").deactivate({duration:0}))},g=function(){return wp.customize.control("background_attachment")?wp.customize.control("background_attachment"):wp.customize.control("boldgrid_background_attachment")},_=function(){o.each(["background_image","background_attachment","background_repeat","bgtfw_background_overlay","boldgrid_background_image_size","boldgrid_background_horizontal_position","boldgrid_background_type","boldgrid_background_vertical_position"],function(){wp.customize(this,function(o){o.bind(u)})})}}(jQuery),function(o){wp.customize("logo_shadow_switch",function(o){o.bind(function(){t()})});var t=function(){var o=wp.customize("logo_shadow_switch").get(),t=wp.customize.control("logo_shadow_vertical"),i=wp.customize.control("logo_shadow_horizontal"),r=wp.customize.control("logo_shadow_color"),a=wp.customize.control("logo_shadow_blur");1!=o?(t.deactivate({duration:0}),i.deactivate({duration:0}),r.deactivate({duration:0}),a.deactivate({duration:0})):(t.activate({duration:0}),i.activate({duration:0}),r.activate({duration:0}),a.activate({duration:0}))};o(window).on("message",function(o){var i,r,a,c,e,n,d,u,l,g,s,p,b=o.originalEvent;"string"==typeof b.data&&"{"===b.data[0]&&("synced"===JSON.parse(b.data).id&&"undefined"!=typeof _bgtfwTypography&&(t(),""!==wp.customize("boldgrid_logo_setting").get()?(_.each(wp.customize.section("title_tagline").controls(),function(o){o.deactivate({duration:0})}),wp.customize.control("boldgrid_logo_setting").activate({duration:0}),wp.customize.control("site_icon").activate({duration:0}),wp.customize.control("blogname").activate({duration:0}),wp.customize.control("logo_margin_bottom").activate({duration:0}),wp.customize.control("logo_margin_left").activate({duration:0}),wp.customize.control("logo_margin_top").activate({duration:0}),wp.customize.control("boldgrid_logo_size").activate({duration:0}),wp.customize.control("boldgrid_position_toggle").activate({duration:0}),wp.customize.control("boldgrid_position_toggle").priority(55),wp.customize.control("logo_margin_left").priority(55),wp.customize.control("logo_margin_bottom").priority(55),wp.customize.control("logo_margin_top").priority(55),wp.customize.control("boldgrid_logo_size").priority(50)):(wp.customize.control("boldgrid_logo_size").deactivate({duration:0}),wp.customize.control("boldgrid_position_toggle").priority(10),wp.customize.control("logo_margin_left").priority(10),wp.customize.control("logo_margin_bottom").priority(10),wp.customize.control("logo_margin_top").priority(10)),d=wp.customize("boldgrid_font_toggle").get(),u=wp.customize.control("logo_font_family"),l=wp.customize.control("logo_font_size"),g=wp.customize.control("logo_text_decoration"),s=wp.customize.control("logo_text_decoration_hover"),p=wp.customize.control("logo_text_transform"),1!=d&&(u.deactivate({duration:0}),l.deactivate({duration:0}),g.deactivate({duration:0}),s.deactivate({duration:0}),p.deactivate({duration:0})),i=wp.customize("boldgrid_position_toggle").get(),r=wp.customize.control("logo_letter_spacing"),a=wp.customize.control("logo_line_height"),c=wp.customize.control("logo_margin_bottom"),e=wp.customize.control("logo_margin_top"),n=wp.customize.control("logo_margin_left"),1!=i&&(r.deactivate({duration:0}),a.deactivate({duration:0}),c.deactivate({duration:0}),e.deactivate({duration:0}),n.deactivate({duration:0}))))})}(jQuery);