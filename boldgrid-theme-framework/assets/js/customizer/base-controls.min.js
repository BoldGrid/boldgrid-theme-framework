import WidgetSectionUpdate from"./widget/section-update";import BlogPagePanelExpand from"./design/blog/blog-page/panel-expand.js";import BlogPostsPanelExpand from"./design/blog/posts/panel-expand.js";import HomepageSectionExpand from"./design/homepage/section-expand.js";import{Control as GenericControls}from"./generic/control.js";import{Required}from"./required.js";import SectionExtendTitle from"./menus/extend-title";import HamburgerControlToggle from"./menus/hamburger-control-toggle";!function(e){var t,n,o,i,a,r,s;t=wp.customize,(new Required).init();(new WidgetSectionUpdate).init(),new BlogPagePanelExpand,new BlogPostsPanelExpand,new HomepageSectionExpand,new SectionExtendTitle,(new GenericControls).init(),new HamburgerControlToggle;t.bind("pane-contents-reflowed",function(){var n,o;n=[],t.section.each(function(e){"bgtfw_section"===e.params.type&&void 0!==e.params.section&&n.push(e)}),n.sort(t.utils.prioritySort).reverse(),e.each(n,function(t,n){e("#sub-accordion-section-"+n.params.section).children(".section-meta").after(n.headContainer)}),o=[],t.panel.each(function(e){"bgtfw_panel"===e.params.type&&void 0!==e.params.panel&&o.push(e)}),o.sort(t.utils.prioritySort).reverse(),e.each(o,function(t,n){e("#sub-accordion-panel-"+n.params.panel).children(".panel-meta").after(n.headContainer)})}),n=wp.customize.Panel.prototype.embed,o=wp.customize.Panel.prototype.isContextuallyActive,i=wp.customize.Panel.prototype.attachEvents,wp.customize.Panel=wp.customize.Panel.extend({attachEvents:function(){var e;"bgtfw_panel"===this.params.type&&void 0!==this.params.panel?(i.call(this),(e=this).expanded.bind(function(n){var o=t.panel(e.params.panel);n?o.contentContainer.addClass("current-panel-parent"):o.contentContainer.removeClass("current-panel-parent")}),e.container.find(".customize-panel-back").off("click keydown").on("click keydown",function(n){t.utils.isKeydownButNotEnterEvent(n)||(n.preventDefault(),e.expanded()&&t.panel(e.params.panel).expand())})):i.call(this)},embed:function(){"bgtfw_panel"===this.params.type&&void 0!==this.params.panel?(n.call(this),this,e("#sub-accordion-panel-"+this.params.panel).append(this.headContainer)):n.call(this)},isContextuallyActive:function(){var e,n,i;return"bgtfw_panel"!==this.params.type?o.call(this):(e=this,n=this._children("panel","section"),t.panel.each(function(t){t.params.panel&&t.params.panel===e.id&&n.push(t)}),n.sort(t.utils.prioritySort),i=0,_(n).each(function(e){e.active()&&e.isContextuallyActive()&&(i+=1)}),0!==i)}}),wp.customize.controlConstructor["kirki-typography"]=wp.customize.controlConstructor["kirki-typography"].extend({renderFontSelector:function(){wp.customize.controlConstructor["kirki-typography"].__super__.renderFontSelector.apply(this,arguments),e(this.selector+" .font-family select").selectWoo()}}),wp.customize.controlConstructor["bgtfw-menu-hamburgers"]=wp.customize.Control.extend({ready:function(){var t=this;t.container.find(".bgtfw-hamburger-col, .tray, input").on("click touchend",function(n){var o=e(n.target).find(".bgtfw-hamburger-col");o.length||(o=e(n.target).closest(".bgtfw-hamburger-col")),t.container.find(".bgtfw-hamburger-col").removeClass("hamburger-selected"),o.addClass("hamburger-selected")}),t.container.find(".bgtfw-hamburger-col").on("mouseover",function(t){e(t.target).find(".hamburger").addClass("is-active")}),t.container.find(".bgtfw-hamburger-col").on("mouseout",function(t){e(t.target).find(".hamburger").removeClass("is-active")})}}),a=wp.customize.Section.prototype.embed,r=wp.customize.Section.prototype.isContextuallyActive,s=wp.customize.Section.prototype.attachEvents,wp.customize.Section=wp.customize.Section.extend({attachEvents:function(){var e;"bgtfw_section"===this.params.type&&void 0!==this.params.section?(s.call(this),(e=this).expanded.bind(function(n){var o=t.section(e.params.section);n?o.contentContainer.addClass("current-section-parent"):o.contentContainer.removeClass("current-section-parent")}),e.container.find(".customize-section-back").off("click keydown").on("click keydown",function(n){t.utils.isKeydownButNotEnterEvent(n)||(n.preventDefault(),e.expanded()&&t.section(e.params.section).expand())})):s.call(this)},embed:function(){"bgtfw_section"===this.params.type&&void 0!==this.params.section?(a.call(this),this,e("#sub-accordion-section-"+this.params.section).append(this.headContainer)):a.call(this)},isContextuallyActive:function(){var e,n,o;return"bgtfw_section"!==this.params.type?r.call(this):(e=this,n=this._children("section","control"),t.section.each(function(t){t.params.section&&t.params.section===e.id&&n.push(t)}),n.sort(t.utils.prioritySort),o=0,_(n).each(function(e){void 0!==e.isContextuallyActive&&e.active()&&e.isContextuallyActive()?o+=1:e.active()&&(o+=1)}),0!==o)}})}(jQuery);