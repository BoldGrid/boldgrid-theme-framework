const api=wp.customize,_embed=api.Panel.prototype.embed,_isContextuallyActive=api.Panel.prototype.isContextuallyActive,_attachEvents=api.Panel.prototype.attachEvents;export default{attachEvents(){var e;_attachEvents.call(this),"bgtfw_panel"===this.params.type&&void 0!==this.params.panel&&((e=this).expanded.bind(function(a){var t=api.panel(e.params.panel);a?t.contentContainer.addClass("current-panel-parent"):t.contentContainer.removeClass("current-panel-parent")}),e.container.find(".customize-panel-back").off("click keydown").on("click keydown",function(a){api.utils.isKeydownButNotEnterEvent(a)||(a.preventDefault(),e.expanded()&&api.panel(e.params.panel).expand())}))},embed(){_embed.call(this),"bgtfw_panel"===this.params.type&&void 0!==this.params.panel&&(this,$("#sub-accordion-panel-"+this.params.panel).append(this.headContainer))},isContextuallyActive(){var e,a,t;return"bgtfw_panel"!==this.params.type?_isContextuallyActive.call(this):(e=this,a=this._children("panel","section"),api.panel.each(function(t){t.params.panel&&t.params.panel===e.id&&a.push(t)}),a.sort(api.utils.prioritySort),t=0,_(a).each(function(e){e.active()&&e.isContextuallyActive()&&(t+=1)}),0!==t)},collapseChildren(){var e=this._children("panel","section");_(e).each(function(e){e.expanded()&&e.collapse()})},bgtfwFocus(){this.expanded()?this.collapseChildren():this.focus()}};