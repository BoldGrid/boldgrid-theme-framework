!function(i){var o=i("body"),t=i("#boldgrid-override-styles");i(function(){p(),g(),n(),e(),i(".site-description").addClass(_typographyClasses)}),wp.customize("blogname",function(o){parent.wp.customize("boldgrid_logo_setting")&&!parent.wp.customize("boldgrid_logo_setting").get()&&o.bind(function(o){i(".site-title a").text(o)})}),wp.customize("blogdescription",function(o){o.bind(function(o){o?i(".site-description").text(o).removeClass("invisible"):i(".site-description").text("").addClass("invisible")})}),wp.customize("custom_theme_css",function(o){o.bind(function(o){i("#boldgrid-custom-css").html(o)})}),wp.customize("boldgrid_background_vertical_position",function(i){i.bind(s)}),wp.customize("boldgrid_background_horizontal_position",function(i){i.bind(c)}),wp.customize("boldgrid_background_pattern",function(i){i.bind(u)}),wp.customize("boldgrid_background_color",function(i){i.bind(u)}),wp.customize("boldgrid_background_type",function(i){i.bind(a)}),wp.customize("background_attachment",function(i){i.bind(r)}),wp.customize("background_image",function(i){i.bind(l)}),wp.customize("background_repeat",function(i){i.bind(b)}),wp.customize("boldgrid_background_image_size",function(i){i.bind(d)});var n=function(){i(".post-edit-link").on("click",function(){parent.location=i(this).attr("href")})},e=function(){i(".overlay-help.fade-in").fadeIn(),i("#close-help-popup, .dismiss-overlay-help").on("click",function(){i(this).closest(".overlay-help").fadeOut(),parent.jQuery("#accordion-section-boldgrid_customizer_help_panel").removeClass("active")})},a=function(i){"pattern"===i?u():(o.css({"background-image":"","background-size":"","background-repeat":"","background-attachment":""}),p()),t.remove()},d=function(i){o.css("background-size",i)},r=function(t){if("parallax"===t)o.addClass("boldgrid-customizer-parallax-effect"),o.css("background-attachment","fixed"),o.css({"background-position":"0px 0px","background-attachment":"fixed"}),o.data("stellar-background-ratio","0.2"),o.stellar(),o.data("plugin_stellar")&&o.data("plugin_stellar").init();else{var n=i("body").data("plugin_stellar");n&&n.destroy(),d(wp.customize("boldgrid_background_image_size")()),o.css({"background-attachment":t}),s(),c(),b(),o.removeClass("boldgrid-customizer-parallax-effect")}},s=function(){var i=wp.customize("boldgrid_background_vertical_position")(),t=o.css("background-position"),n=t.split(" ")[0]+" "+5*i+"px";o.css("background-position",n)},c=function(){var i=wp.customize("boldgrid_background_horizontal_position")(),t=o.css("background-position"),n=5*i+"px "+t.split(" ")[1];o.css("background-position",n)},u=function(){var i=wp.customize("boldgrid_background_color")(),n=wp.customize("boldgrid_background_pattern")();i&&"none"!==i||(i=""),n||(n="none"),t.remove(),o.css({"background-image":n,"background-size":"auto","background-repeat":"repeat","background-attachment":"scroll","background-color":i})},l=function(i){i=i?"url("+i+")":"",o.css({"background-image":i})},b=function(){o.css({"background-repeat":wp.customize("background_repeat")()})},p=function(){i("#custom-background-css").remove();var o=wp.customize("background_attachment")(),t=wp.customize("boldgrid_background_image_size")(),n=wp.customize("boldgrid_background_type")();if(u(),"pattern"!==n){r(o),d(t);var e=wp.customize("background_image")();l(e),"parallax"!==o&&(s(),c(),b())}},g=function(){wp.customize.bind("ready",_.defer(function(){parseInt(wp.customize("hide_partner_attribution")())&&i(".reseller-attribution-link").addClass("hidden"),parseInt(wp.customize("hide_boldgrid_attribution")())&&i(".boldgrid-attribution-link").addClass("hidden"),parseInt(wp.customize("hide_wordpress_attribution")())&&i(".wordpress-attribution-link").addClass("hidden")}))};wp.customize("hide_boldgrid_attribution",function(o){o.bind(function(o){o?i(".boldgrid-attribution-link").addClass("hidden"):i(".boldgrid-attribution-link").removeClass("hidden")})}),wp.customize("hide_wordpress_attribution",function(o){o.bind(function(o){o?i(".wordpress-attribution-link").addClass("hidden"):i(".wordpress-attribution-link").removeClass("hidden")})}),wp.customize("hide_partner_attribution",function(o){o.bind(function(o){o?i(".reseller-attribution-link").addClass("hidden"):i(".reseller-attribution-link").removeClass("hidden")})})}(jQuery);