!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=class{getColor(t){return t.split(":").pop()}getColorNumber(t){return t.split(":").shift()}};const i=jQuery;var r,a,s,d,c=class{constructor(){this.classControls=[{name:"bgtfw_header_links",selector:"#navi-wrap",properties:["link-color"]},{name:"bgtfw_footer_color",selector:"#colophon, .footer-content",properties:["background-color","text-default"]},{name:"bgtfw_tagline_color",selector:".site-description",properties:["color"]},{name:"bgtfw_site_title_color",selector:".site-title",properties:["color"]},{name:"bgtfw_footer_links",selector:".footer-content",properties:["link-color"]}]}init(){return i(()=>this._onLoad()),this}outputColor(t,e,n){let r,a=i(e),s=new RegExp("color-?([\\d]|neutral)-("+n.join("|")+")(\\s+|$)","g");(t=parent.wp.customize(t)())&&"none"!==t||(t=""),a.removeClass((t,e)=>(e.match(s)||[]).join(" ")),r=(new o).getColorNumber(t),a.addClass(_.map(n,t=>{let e=r;return-1===r.indexOf("neutral")&&-1===t.indexOf("link-color")&&(e=r.replace("-","")),e+"-"+t}).join(" "))}getHeadingCSS(t){const e=(new o).getColor(t);let n="";return e&&(n=`\n\t\t\t\t.palette-primary h1,\n\t\t\t\t.palette-primary h2,\n\t\t\t\t.palette-primary h3,\n\t\t\t\t.palette-primary h4,\n\t\t\t\t.palette-primary h5,\n\t\t\t\t.palette-primary h6\n\t\t\t\t{\n\t\t\t\t\tcolor: ${e};\n\t\t\t\t}\n\t\t\t`),n}updateDynamicStyles(t,e){const n=i("head");let o=n.find("#"+t);return o.length?o.html(e):((o=i('<style type="text/css" id="'+t+'">')).html(e),n.append(o)),o}_onLoad(){this._bindConfiguredControls(),this._bindHeadingColor()}_bindConfiguredControls(){for(const t of this.classControls)wp.customize(t.name,e=>{e.bind(()=>this.outputColor(t.name,t.selector,t.properties))})}_bindHeadingColor(){wp.customize("bgtfw_headings_color",t=>{t.bind(t=>{const e=this.getHeadingCSS(t);this.updateDynamicStyles("bgtfw_headings_color",e)})})}},l=l||{};l.Customizer=l.Customizer||{},l.Customizer.Util=l.Customizer.Util||{},l.Customizer.Widgets=l.Customizer.Widgets||{},l.Customizer.Util.bgtfwIsJSON=function(t){return!(!_.isString(t)||/^\s*$/.test(t))&&(t=(t=(t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t))},l.Customizer.Util.bgtfwParseJSON=function(t){var e;if(l.Customizer.Util.bgtfwIsJSON(t))try{if((e=JSON.parse(t))&&_.isObject(e))return e}catch(t){return!1}return!1},l.Customizer.Util.getInitialPalettes=function(t){var e,n,o;return _.isUndefined(t)&&(t=wp.customize("boldgrid_color_palette")()),!(!(e=l.Customizer.Util.bgtfwParseJSON(t))||_.isUndefined(e.state)||_.isUndefined(e.state.palettes)||_.isUndefined(e.state["active-palette"])||(o=e.state["active-palette"],_.isUndefined(e.state.palettes[o])||(o=e.state.palettes[o],_.isUndefined(o.colors)||(n=o.colors,_.isUndefined(o["neutral-color"])||n.push(o["neutral-color"]),!n.length))))&&n},r=jQuery,a=r("body"),s=r("#boldgrid-override-styles"),d=(new c).init(),r(function(){var t,e,n,o,i,c,u,p,m,f,g,b,h,w,z;t=function(){wp.customize("bgtfw_fixed_header")()?BoldGrid.header_fixed.calc():BoldGrid.custom_header.calc()},o=function(){r(".post-edit-link").on("click",function(){parent.location=r(this).attr("href")})},i=function(t){"pattern"===t?e():(a.css({"background-image":"","background-size":"","background-repeat":"","background-attachment":""}),b()),s.remove()},c=function(t){a.css("background-size",t)},u=function(t){var e;"parallax"===t?(a.addClass("boldgrid-customizer-parallax-effect"),a.css("background-attachment","fixed"),a.css({"background-position":"0px 0px","background-attachment":"fixed"}),a.data("stellar-background-ratio","0.2"),a.stellar(),a.data("plugin_stellar")&&a.data("plugin_stellar").init()):((e=r("body").data("plugin_stellar"))&&e.destroy(),c(wp.customize("boldgrid_background_image_size")()),a.css({"background-attachment":t}),p(),m(),g(),a.removeClass("boldgrid-customizer-parallax-effect"))},p=function(){var t,e;t=wp.customize("boldgrid_background_vertical_position")(),e=a.css("background-position").split(" ")[0]+" "+5*t+"px",a.css("background-position",e)},m=function(){var t;t=5*wp.customize("boldgrid_background_horizontal_position")()+"px "+a.css("background-position").split(" ")[1],a.css("background-position",t)},n=function(t,e){var n=[];_.each(_typographyOptions,function(t,o){"headings"===t.type&&n.push(e+" "+o)}),n=n.join(", "),d.outputColor(t,r(n).not(".site-description"),["color"])},e=function(){var t;(t=wp.customize("boldgrid_background_pattern")())||(t="none"),s.remove(),a.css({"background-image":t,"background-size":"auto","background-repeat":"repeat","background-attachment":"scroll"}),d.outputColor("boldgrid_background_color","body",["background-color","text-default"])},f=function(t){t=t?"url("+t+")":"",a.css({"background-image":t})},g=function(){a.css({"background-repeat":wp.customize("background_repeat")()})},b=function(){var t,n,o;r("#custom-background-css").remove(),e(),"pattern"!==wp.customize("boldgrid_background_type")()&&(t=wp.customize("background_attachment")(),n=wp.customize("boldgrid_background_image_size")(),u(t),c(n),o=wp.customize("background_image")(),f(o),"parallax"!==t&&(p(),m(),g()))},h=function(){var t;wp.customize.bind("ready",_.defer(function(){_.isFunction(parent.wp.customize.section)&&(t=parent.wp.customize.section("boldgrid_footer_panel").controls(),_(t).each(function(t){var e;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(t.id)&&parseInt(wp.customize(t.id)())&&(e="."+t.id.replace("hide_","").replace(/_/g,"-")+"-link",r(e).addClass("hidden"))})),w()}))},w=function(){r(".attribution-theme-mods > .link").removeClass("no-separator").filter(":visible").last().addClass("no-separator")},_.isFunction(parent.wp.customize.section)&&(z=parent.wp.customize.section("boldgrid_footer_panel").controls(),_(z).each(function(t){var e;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(t.id)&&wp.customize(t.id,function(n){e="."+t.id.replace(/hide_/,"").replace(/_/g,"-")+"-link",n.bind(function(t){t?r(e).addClass("hidden"):r(e).removeClass("hidden"),w()})})})),b(),h(),o(),r(".site-description").addClass(_typographyClasses),wp.customize("blogname",function(e){e.bind(function(e){r(".site-title a").text(e),t()})}),wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){"custom_logo"!==e.partial.id&&"custom_header"!==e.partial.id||t()}),r.each(["external_header_video","header_video"],function(t,e){wp.customize(e,function(t){t.bind(function(){wp.customize.preview.send("url",window.location.href)})})}),r.each(["bgtfw_site_title_typography","bgtfw_tagline_typography"],function(e,n){wp.customize(n,function(e){e.bind(function(n){r.each(["font-size","line-height","font-family","font-weight"],function(o,i){e[i]!==n[i]&&t()})})})}),wp.customize("blogdescription",function(e){e.bind(function(e){e?r(".site-description").text(e).removeClass("invisible"):r(".site-description").text("").addClass("invisible"),t()})}),wp.customize("bgtfw_header_layout_position",function(e){e.bind(function(e){var n;r("body").removeClass("header-top header-left header-right").addClass(e),"header-left"!==e&&"header-right"!==e||(n=wp.customize("bgtfw_header_width")(),parent.kirkiSetSettingValue.set("bgtfw_header_width",n)),t()})}),wp.customize("bgtfw_fixed_header",function(e){e.bind(function(e){var n=r("body");e?n.addClass("header-fixed"):n.removeClass("header-fixed"),t()})}),wp.customize("bgtfw_header_top_layouts",function(e){e.bind(function(e){r("#masthead").removeClass(function(t,e){return(e.match(/(^|\s)layout-\S+/g)||[]).join(" ")}).addClass(e),t()})}),wp.customize("bgtfw_header_width",function(e){e.bind(function(){t()})}),wp.customize("bgtfw_footer_layouts",function(t){t.bind(function(t){r("#colophon").removeClass(function(t,e){return(e.match(/(^|\s)layout-\S+/g)||[]).join(" ")}).addClass(t)})}),wp.customize("boldgrid_color_palette",function(t){t.bind(function(t){var e,n;e=parent.$(".colors-wrapper"),(n=l.Customizer.Util.getInitialPalettes(t))&&_(e).each(function(t){var e=r(t).find("input");_(e).each(function(t,e){var o,i,a;i=(o=r(t).val()).substring(0,o.indexOf(":")+1)+n[e],r(t).val(i),r(t).next().find(".color-palette-color").css("background",n[e]).text(n[e]),r(t).is(":checked")&&(a=r(t).data("customize-setting-link"),_.isUndefined(a)||parent.wp.customize(a).set(i))})})})}),wp.customize("custom_theme_css",function(t){t.bind(function(t){r("#boldgrid-custom-css").html(t)})}),wp.customize("boldgrid_background_vertical_position",function(t){t.bind(p)}),wp.customize("boldgrid_background_horizontal_position",function(t){t.bind(m)}),wp.customize("boldgrid_background_pattern",function(t){t.bind(e)}),wp.customize("boldgrid_background_color",function(t){t.bind(e)}),wp.customize("bgtfw_header_color",function(t){t.bind(function(t){var e,n,o,i,r;d.outputColor("bgtfw_header_color","#masthead, #navi",["background-color","text-default"]),i=t.split(":").pop(),o=".header-left #main-menu, .header-right #main-menu { background-color: "+(r=parent.net.brehaut.Color(i)).setAlpha(.7).toString()+"; }",o+="@media (min-width: 768px) {",o+=".sm-clean ul, .sm-clean ul a, .sm-clean ul a:hover, .sm-clean ul a:focus, .sm-clean ul a:active, .sm-clean ul a.highlighted, .sm-clean span.scroll-up, .sm-clean span.scroll-down, .sm-clean span.scroll-up:hover, .sm-clean span.scroll-down:hover { background-color:"+r.setAlpha(.4).toString()+";}",o+=".sm-clean ul { border: 1px solid "+r.setAlpha(.4).toString()+";}",o+=".sm-clean > li > ul:before, .sm-clean > li > ul:after { border-color: transparent transparent "+r.setAlpha(.4).toString()+" transparent;}",o+="}",document.getElementById("bgtfw-menu-colors")?document.getElementById("bgtfw-menu-colors").innerHTML=o:(n=document.head||document.getElementsByTagName("head")[0],(e=document.createElement("style")).type="text/css",e.id="bgtfw-menu-colors",e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o)),n.appendChild(e))})}),wp.customize("bgtfw_header_headings_color",function(t){t.bind(function(){n("bgtfw_header_headings_color","#navi-wrap > :not(.bgtfw-widget-row)")})}),wp.customize("bgtfw_footer_headings_color",function(t){t.bind(function(){n("bgtfw_footer_headings_color",".site-footer :not(.bgtfw-widget-row)")})}),wp.customize("boldgrid_background_type",function(t){t.bind(i)}),wp.customize("background_attachment",function(t){t.bind(u)}),wp.customize("background_image",function(t){t.bind(f)}),wp.customize("background_repeat",function(t){t.bind(g)}),wp.customize("boldgrid_background_image_size",function(t){t.bind(c)}),r(document).on("customize-preview-menu-refreshed",function(t,e){r.each(e.newContainer.closest("[data-is-parent-column]"),function(){l.Customizer.Widgets.updatePartial(r(this)),"secondary-menu"===e.container_id&&""!==wp.customize("bgtfw_header_container")()&&document.getElementById(e.container_id).classList.add(wp.customize("bgtfw_header_container")())})}),wp.customize.selectiveRefresh.bind("partial-content-rendered",function(t){"boldgrid_header_widgets"!==t.partial.id&&"boldgrid_footer_widgets"!==t.partial.id||l.Customizer.Widgets.updatePartial(t.container)}),l.Customizer.Widgets.updatePartial=function(t){t.find(".comment-reply-link").addClass("btn button-primary color1-text-contrast").css("transition","all .5s"),t.find(".widget_rss ul").addClass("media-list"),t.find(".widget_meta ul, .widget_recent_entries ul, .widget_archive ul, .widget_categories ul, .widget_nav_menu ul, .widget_pages ul").addClass("nav"),t.find(".widget_recent_comments ul#recentcomments").css({"list-style":"none","padding-left":"0"}),t.find(".widget_recent_comments ul#recentcomments li").css("padding","5px 15px"),t.find("table#wp-calendar").addClass("table table-striped"),t.find('.sidebar select, select[name="archive-dropdown"]').addClass("form-control"),t.find(".sidebar .button").removeClass("button").addClass("btn button-primary"),t.find(".woocommerce.widget .ui-slider").css("display","none"),t.find(".woocommerce.widget .ui-slider").css("display","block"),t.find(".woocommerce.widget .ui-slider").addClass("color1-background-color").children().addClass("color2-background-color"),t.find(".button").removeClass("button").addClass("btn button-primary"),t.find(".button.alt").removeClass("button alt").addClass("btn button-secondary")},r(document).on("customize-preview-menu-refreshed",function(t,e){_.isUndefined(BoldGrid)||"main"===e.wpNavMenuArgs.theme_location&&(_.isUndefined(BoldGrid.standard_menu_enabled)||BoldGrid.standard_menu_enabled.init(e.newContainer))})})}]);