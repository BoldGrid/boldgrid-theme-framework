!function(o){var i=o("body"),t=o("#boldgrid-override-styles");o(function(){p(),b(),n(),o(".site-description").addClass(_typographyClasses)}),wp.customize("blogname",function(i){parent.wp.customize("boldgrid_logo_setting")&&!parent.wp.customize("boldgrid_logo_setting").get()&&i.bind(function(i){o(".site-title a").text(i)})}),wp.customize("blogdescription",function(i){i.bind(function(i){i?o(".site-description").text(i).removeClass("invisible"):o(".site-description").text("").addClass("invisible")})}),wp.customize("custom_theme_css",function(i){i.bind(function(i){o("#boldgrid-custom-css").html(i)})}),wp.customize("boldgrid_background_vertical_position",function(o){o.bind(r)}),wp.customize("boldgrid_background_horizontal_position",function(o){o.bind(s)}),wp.customize("boldgrid_background_pattern",function(o){o.bind(d)}),wp.customize("boldgrid_background_color",function(o){o.bind(d)}),wp.customize("boldgrid_background_type",function(o){o.bind(e)}),wp.customize("background_attachment",function(o){o.bind(c)}),wp.customize("background_image",function(o){o.bind(u)}),wp.customize("background_repeat",function(o){o.bind(l)}),wp.customize("boldgrid_background_image_size",function(o){o.bind(a)});var n=function(){o(".post-edit-link").on("click",function(){parent.location=o(this).attr("href")})},e=function(o){"pattern"===o?d():(i.css({"background-image":"","background-size":"","background-repeat":"","background-attachment":""}),p()),t.remove()},a=function(o){i.css("background-size",o)},c=function(t){if("parallax"===t)i.addClass("boldgrid-customizer-parallax-effect"),i.css("background-attachment","fixed"),i.css({"background-position":"0px 0px","background-attachment":"fixed"}),i.data("stellar-background-ratio","0.2"),i.stellar(),i.data("plugin_stellar")&&i.data("plugin_stellar").init();else{var n=o("body").data("plugin_stellar");n&&n.destroy(),a(wp.customize("boldgrid_background_image_size")()),i.css({"background-attachment":t}),r(),s(),l(),i.removeClass("boldgrid-customizer-parallax-effect")}},r=function(){var o=wp.customize("boldgrid_background_vertical_position")(),t=i.css("background-position"),n=t.split(" ")[0]+" "+5*o+"px";i.css("background-position",n)},s=function(){var o=wp.customize("boldgrid_background_horizontal_position")(),t=i.css("background-position"),n=5*o+"px "+t.split(" ")[1];i.css("background-position",n)},d=function(){var o=wp.customize("boldgrid_background_color")(),n=wp.customize("boldgrid_background_pattern")();o&&"none"!==o||(o=""),n||(n="none"),t.remove(),i.css({"background-image":n,"background-size":"auto","background-repeat":"repeat","background-attachment":"scroll","background-color":o})},u=function(o){o=o?"url("+o+")":"",i.css({"background-image":o})},l=function(){i.css({"background-repeat":wp.customize("background_repeat")()})},p=function(){o("#custom-background-css").remove();var i=wp.customize("background_attachment")(),t=wp.customize("boldgrid_background_image_size")(),n=wp.customize("boldgrid_background_type")();if(d(),"pattern"!==n){c(i),a(t);var e=wp.customize("background_image")();u(e),"parallax"!==i&&(r(),s(),l())}},b=function(){var i;wp.customize.bind("ready",_.defer(function(){_.isFunction(parent.wp.customize.section)&&(i=parent.wp.customize.section("boldgrid_footer_panel").controls(),_(i).each(function(i){var t,n=new RegExp(/^(hide_)+\w*(_attribution)+$/,"m");n.test(i.id)&&parseInt(wp.customize(i.id)())&&(t="."+i.id.replace("hide_","").replace(/_/g,"-")+"-link",o(t).addClass("hidden"))})),g()}))},g=function(){o(".attribution-theme-mods > .link").removeClass("no-separator").filter(":visible").last().addClass("no-separator")};if(_.isFunction(parent.wp.customize.section)){var m=parent.wp.customize.section("boldgrid_footer_panel").controls();_(m).each(function(i){var t,n=new RegExp(/^(hide_)+\w*(_attribution)+$/,"m");n.test(i.id)&&wp.customize(i.id,function(n){t="."+i.id.replace(/hide_/,"").replace(/_/g,"-")+"-link",n.bind(function(i){i?o(t).addClass("hidden"):o(t).removeClass("hidden"),g()})})})}}(jQuery);