!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=class{getColor(e){return e.split(":").pop()}getColorNumber(e){return e.split(":").shift()}};const r=jQuery;var i=class{constructor(){this.classControls=[{name:"bgtfw_header_links",selector:"#navi-wrap",properties:["link-color"]},{name:"bgtfw_footer_color",selector:"#colophon, .footer-content",properties:["background-color","text-default"]},{name:"bgtfw_tagline_color",selector:".site-description",properties:["color"]},{name:"bgtfw_site_title_color",selector:".site-title",properties:["color"]},{name:"bgtfw_footer_links",selector:".footer-content",properties:["link-color"]}]}init(){return r(()=>this._onLoad()),this}outputColor(e,t,n){let i,a=r(t),s=new RegExp("color-?([\\d]|neutral)-("+n.join("|")+")(\\s+|$)","g");(e=parent.wp.customize(e)())&&"none"!==e||(e=""),a.removeClass((e,t)=>(t.match(s)||[]).join(" ")),i=(new o).getColorNumber(e),a.addClass(_.map(n,e=>{let t=i;return-1===i.indexOf("neutral")&&-1===e.indexOf("link-color")&&(t=i.replace("-","")),t+"-"+e}).join(" "))}getHeadingCSS(e){const t=(new o).getColor(e);let n="",r=[];return t&&(n=`\n\t\t\t\t${r=this.getHeadingColorSelectors().join(", ")} {\n\t\t\t\t\tcolor: ${t};\n\t\t\t\t}\n\t\t\t`),n}getHeadingColorSelectors(){const e=[];return _.each(_typographyOptions,function(t,n){"headings"===t.type&&e.push(n)}),e}updateDynamicStyles(e,t){const n=r("head");let o=n.find("#"+e);return o.length?o.html(t):((o=r('<style type="text/css" id="'+e+'">')).html(t),n.append(o)),o}setHeadingColors(){const e=this.getHeadingCSS(wp.customize("bgtfw_headings_color")());this.updateDynamicStyles("bgtfw_headings_color",e)}_onLoad(){this.setHeadingColors(),this._bindConfiguredControls(),this._bindHeadingColor()}_bindConfiguredControls(){for(const e of this.classControls)wp.customize(e.name,t=>{t.bind(()=>this.outputColor(e.name,e.selector,e.properties))})}_bindHeadingColor(){wp.customize("bgtfw_headings_color",e=>{e.bind(()=>this.setHeadingColors())})}};const a=wp.customize,s=jQuery;var d=class{constructor(e=null,t=null){Object.assign(this,{id:e,fn:t}),s(()=>this._onLoad())}_bindControl(){a(this.id,e=>e.bind(e=>"function"==typeof this.fn?this.fn.call(this,e):this.bound(e)))}_onLoad(){this._bindControl()}bound(e){}};wp.customize;const l=jQuery;var c=class extends d{constructor(e=null,t=null,n=null,o=(()=>{})){super(...arguments),Object.assign(this,{id:e,element:t,remove:n,cb:o})}bound(e){l(this.element).removeClass(this.remove).addClass(e)&&this.cb()}};wp.customize;const u=jQuery;var g=class extends c{bound(e){e?u(this.element).addClass(this.remove):u(this.element).removeClass(this.remove)&&this.cb()}};const p=wp.customize,b=parent.wp.customize;var f,m,h,w,C=C||{};C.Customizer=C.Customizer||{},C.Customizer.Util=C.Customizer.Util||{},C.Customizer.Widgets=C.Customizer.Widgets||{},C.Customizer.Util.bgtfwIsJSON=function(e){return!(!_.isString(e)||/^\s*$/.test(e))&&(e=(e=(e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e))},C.Customizer.Util.bgtfwParseJSON=function(e){var t;if(C.Customizer.Util.bgtfwIsJSON(e))try{if((t=JSON.parse(e))&&_.isObject(t))return t}catch(e){return!1}return!1},C.Customizer.Util.getInitialPalettes=function(e){var t,n,o;return _.isUndefined(e)&&(e=p("boldgrid_color_palette")()),!(!(t=C.Customizer.Util.bgtfwParseJSON(e))||_.isUndefined(t.state)||_.isUndefined(t.state.palettes)||_.isUndefined(t.state["active-palette"])||(o=t.state["active-palette"],_.isUndefined(t.state.palettes[o])||(o=t.state.palettes[o],_.isUndefined(o.colors)||(n=o.colors,_.isUndefined(o["neutral-color"])||n.push(o["neutral-color"]),!n.length))))&&n},f=jQuery,m=f("body"),h=f("#boldgrid-override-styles"),w=(new i).init(),f(function(){var e,t,n,o,r,i,a,s,l,u,v,k,y,x;let z=BoldGrid.custom_header.calc;n=function(){f(".post-edit-link").on("click",function(){parent.location=f(this).attr("href")})},o=function(t){"pattern"===t?e():(m.css({"background-image":"","background-size":"","background-repeat":"no-repeat","background-attachment":""}),v()),h.remove()},r=function(e){m.css("background-size",e)},i=function(e){var t;"parallax"===e?(m.addClass("boldgrid-customizer-parallax-effect"),m.css("background-attachment","fixed"),m.css({"background-position":"0px 0px","background-attachment":"fixed"}),m.data("stellar-background-ratio","0.2"),m.stellar(),m.data("plugin_stellar")&&m.data("plugin_stellar").init()):((t=f("body").data("plugin_stellar"))&&t.destroy(),r(p("boldgrid_background_image_size")()),m.css({"background-attachment":e}),a(),s(),u(),m.removeClass("boldgrid-customizer-parallax-effect"))},a=function(){var e,t;e=p("boldgrid_background_vertical_position")(),t=m.css("background-position").split(" ")[0]+" "+5*e+"px",m.css("background-position",t)},s=function(){var e;e=5*p("boldgrid_background_horizontal_position")()+"px "+m.css("background-position").split(" ")[1],m.css("background-position",e)},t=function(e,t){var n=[];_.each(_typographyOptions,function(e,o){"headings"===e.type&&n.push(t+" "+o)}),n=n.join(", "),w.outputColor(e,f(n).not(".site-description"),["color"])},e=function(){var e;(e=p("boldgrid_background_pattern")())||(e="none"),h.remove(),m.css({"background-image":e,"background-size":"auto","background-repeat":"repeat","background-attachment":"scroll"}),w.outputColor("boldgrid_background_color","body",["background-color","text-default"])},l=function(e){e=e?"url("+e+")":"",m.css({"background-image":e})},u=function(){m.css({"background-repeat":p("background_repeat")()})},v=function(){var t,n,o,d;f("#custom-background-css").remove(),"pattern"===(o=p("boldgrid_background_type")())&&e(),"pattern"!==o&&(t=p("background_attachment")(),n=p("boldgrid_background_image_size")(),i(t),r(n),d=p("background_image")(),l(d),"parallax"!==t&&(a(),s(),u()))},k=function(){var e;p.bind("ready",_.defer(function(){_.isFunction(b.section)&&(e=b.section("boldgrid_footer_panel").controls(),_(e).each(function(e){var t;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(e.id)&&parseInt(p(e.id)())&&(t="."+e.id.replace("hide_","").replace(/_/g,"-")+"-link",f(t).addClass("hidden"))})),y()}))},y=function(){f(".attribution-theme-mods > .link").removeClass("no-separator").filter(":visible").last().addClass("no-separator")},_.isFunction(b.section)&&(x=b.section("boldgrid_footer_panel").controls(),_(x).each(function(e){var t;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(e.id)&&p(e.id,function(n){t="."+e.id.replace(/hide_/,"").replace(/_/g,"-")+"-link",n.bind(function(e){f(t).toggleClass("hidden",e),y()})})})),v(),k(),n(),f(".site-description").addClass(_typographyClasses),p("external_header_video","header_video",function(...e){e.map(e=>e.bind(()=>p.preview.send("url",window.location.href)))}),p("bgtfw_site_title_typography","bgtfw_tagline_typography",(...e)=>{e.map(e=>{let t=["font-size","line-height","font-family","font-weight"];e.bind(_.throttle(n=>{_.each(t,_.once(t=>e[t]===n[t]||z()))},250))})}),p("boldgrid_color_palette",function(e){e.bind(function(e){var t,n;t=parent.$(".colors-wrapper"),(n=C.Customizer.Util.getInitialPalettes(e))&&_(t).each(function(e){var t=f(e).find("input");_(t).each(function(e,t){var o,r,i;r=(o=f(e).val()).substring(0,o.indexOf(":")+1)+n[t],f(e).val(r),f(e).next().find(".color-palette-color").css("background",n[t]).text(n[t]),f(e).is(":checked")&&(i=f(e).data("customize-setting-link"),_.isUndefined(i)||b(i).set(r))})})})}),p("bgtfw_header_color",function(e){e.bind(function(e){var t,n,o,r,i;w.outputColor("bgtfw_header_color","#masthead, #navi",["background-color","text-default"]),r=e.split(":").pop(),o=".header-left #main-menu, .header-right #main-menu { background-color: "+(i=parent.net.brehaut.Color(r)).setAlpha(.7).toString()+"; }",o+="@media (min-width: 768px) {",o+=".sm-clean ul, .sm-clean ul a, .sm-clean ul a:hover, .sm-clean ul a:focus, .sm-clean ul a:active, .sm-clean ul a.highlighted, .sm-clean span.scroll-up, .sm-clean span.scroll-down, .sm-clean span.scroll-up:hover, .sm-clean span.scroll-down:hover { background-color:"+i.setAlpha(.4).toString()+";}",o+=".sm-clean ul { border: 1px solid "+i.setAlpha(.4).toString()+";}",o+=".sm-clean > li > ul:before, .sm-clean > li > ul:after { border-color: transparent transparent "+i.setAlpha(.4).toString()+" transparent;}",o+="}",document.getElementById("bgtfw-menu-colors")?document.getElementById("bgtfw-menu-colors").innerHTML=o:(n=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.id="bgtfw-menu-colors",t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)),n.appendChild(t))})}),new c("header_container","#navi, #secondary-menu","container",z),new g("bgtfw_fixed_header","body","header-fixed",z);let S=(e,t)=>(t.match(/(^|\s)layout-\S+/g)||[]).join(" ");new c("bgtfw_footer_layouts","#colophon",S),new c("bgtfw_header_top_layouts","#masthead",S,z),new d("bgtfw_header_width",z),new d("bgtfw_header_headings_color",()=>t("bgtfw_header_headings_color","#navi-wrap > :not(.bgtfw-widget-row)")),new d("bgtfw_footer_headings_color",()=>t("bgtfw_footer_headings_color",".site-footer :not(.bgtfw-widget-row)")),new d("blogname",e=>f(".site-title a").text(e)&&z()),new d("blogdescription",e=>{f(".site-description").text(e).toggleClass("invisible",!e)&&z()}),new d("boldgrid_background_vertical_position",a),new d("boldgrid_background_horizontal_position",s),new d("boldgrid_background_pattern",e),new d("boldgrid_background_color",e),new d("boldgrid_background_type",o),new d("background_attachment",i),new d("background_image",l),new d("background_repeat",u),new d("boldgrid_background_image_size",r),new c("bgtfw_header_layout_position","body","header-top header-left header-right",e=>{"header-top"!==e&&parent.kirkiSetSettingValue.set("bgtfw_header_width",p("bgtfw_header_width")()),z()}),f(document).on("customize-preview-menu-refreshed",function(e,t){f.each(t.newContainer.closest("[data-is-parent-column]"),function(){C.Customizer.Widgets.updatePartial(f(this)),"secondary-menu"===t.container_id&&""!==p("bgtfw_header_container")()&&document.getElementById(t.container_id).classList.add(p("bgtfw_header_container")())})}),p.selectiveRefresh.bind("partial-content-rendered",function(e){"boldgrid_header_widgets"!==e.partial.id&&"boldgrid_footer_widgets"!==e.partial.id||C.Customizer.Widgets.updatePartial(e.container),z()}),C.Customizer.Widgets.updatePartial=function(e){e.find(".comment-reply-link").addClass("btn button-primary color1-text-contrast").css("transition","all .5s"),e.find(".widget_rss ul").addClass("media-list"),e.find(".widget_meta ul, .widget_recent_entries ul, .widget_archive ul, .widget_categories ul, .widget_nav_menu ul, .widget_pages ul").addClass("nav"),e.find(".widget_recent_comments ul#recentcomments").css({"list-style":"none","padding-left":"0"}),e.find(".widget_recent_comments ul#recentcomments li").css("padding","5px 15px"),e.find('.sidebar select, select[name="archive-dropdown"]').addClass("form-control"),e.find(".sidebar .button").removeClass("button").addClass("btn button-primary"),e.find(".woocommerce.widget .ui-slider").css("display","none"),e.find(".woocommerce.widget .ui-slider").css("display","block"),e.find(".woocommerce.widget .ui-slider").addClass("color1-background-color").children().addClass("color2-background-color"),e.find(".button").removeClass("button").addClass("btn button-primary"),e.find(".button.alt").removeClass("button alt").addClass("btn button-secondary")},f(document).on("customize-preview-menu-refreshed",function(e,t){_.isUndefined(BoldGrid)||"main"===t.wpNavMenuArgs.theme_location&&(_.isUndefined(BoldGrid.standard_menu_enabled)||BoldGrid.standard_menu_enabled.init(t.newContainer))})})}]);