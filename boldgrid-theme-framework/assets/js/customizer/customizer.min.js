!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=class{getColor(e){return e.split(":").pop()}getColorNumber(e){return e.split(":").shift()}};const i=jQuery;var r,a,s,d,c=class{constructor(){this.classControls=[{name:"bgtfw_header_links",selector:"#navi-wrap",properties:["link-color"]},{name:"bgtfw_footer_color",selector:"#colophon, .footer-content",properties:["background-color","text-default"]},{name:"bgtfw_tagline_color",selector:".site-description",properties:["color"]},{name:"bgtfw_site_title_color",selector:".site-title",properties:["color"]},{name:"bgtfw_footer_links",selector:".footer-content",properties:["link-color"]}]}init(){return i(()=>this._onLoad()),this}outputColor(e,t,o){let r,a=i(t),s=new RegExp("color-?([\\d]|neutral)-("+o.join("|")+")(\\s+|$)","g");(e=parent.wp.customize(e)())&&"none"!==e||(e=""),a.removeClass((e,t)=>(t.match(s)||[]).join(" ")),r=(new n).getColorNumber(e),a.addClass(_.map(o,e=>{let t=r;return-1===r.indexOf("neutral")&&-1===e.indexOf("link-color")&&(t=r.replace("-","")),t+"-"+e}).join(" "))}getHeadingCSS(e){const t=(new n).getColor(e);let o="",i=[];return t&&(o=`\n\t\t\t\t${i=this.getHeadingColorSelectors().join(", ")} {\n\t\t\t\t\tcolor: ${t};\n\t\t\t\t}\n\t\t\t`),o}getHeadingColorSelectors(){const e=[];return _.each(_typographyOptions,function(t,o){"headings"===t.type&&e.push(o)}),e}updateDynamicStyles(e,t){const o=i("head");let n=o.find("#"+e);return n.length?n.html(t):((n=i('<style type="text/css" id="'+e+'">')).html(t),o.append(n)),n}setHeadingColors(){const e=this.getHeadingCSS(wp.customize("bgtfw_headings_color")());this.updateDynamicStyles("bgtfw_headings_color",e)}_onLoad(){this.setHeadingColors(),this._bindConfiguredControls(),this._bindHeadingColor()}_bindConfiguredControls(){for(const e of this.classControls)wp.customize(e.name,t=>{t.bind(()=>this.outputColor(e.name,e.selector,e.properties))})}_bindHeadingColor(){wp.customize("bgtfw_headings_color",e=>{e.bind(()=>this.setHeadingColors())})}},l=l||{};l.Customizer=l.Customizer||{},l.Customizer.Util=l.Customizer.Util||{},l.Customizer.Widgets=l.Customizer.Widgets||{},l.Customizer.Util.bgtfwIsJSON=function(e){return!(!_.isString(e)||/^\s*$/.test(e))&&(e=(e=(e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e))},l.Customizer.Util.bgtfwParseJSON=function(e){var t;if(l.Customizer.Util.bgtfwIsJSON(e))try{if((t=JSON.parse(e))&&_.isObject(t))return t}catch(e){return!1}return!1},l.Customizer.Util.getInitialPalettes=function(e){var t,o,n;return _.isUndefined(e)&&(e=wp.customize("boldgrid_color_palette")()),!(!(t=l.Customizer.Util.bgtfwParseJSON(e))||_.isUndefined(t.state)||_.isUndefined(t.state.palettes)||_.isUndefined(t.state["active-palette"])||(n=t.state["active-palette"],_.isUndefined(t.state.palettes[n])||(n=t.state.palettes[n],_.isUndefined(n.colors)||(o=n.colors,_.isUndefined(n["neutral-color"])||o.push(n["neutral-color"]),!o.length))))&&o},r=jQuery,a=r("body"),s=r("#boldgrid-override-styles"),d=(new c).init(),r(function(){var e,t,o,n,i,c,u,p,g,f,m,b,h,w,z;e=function(){wp.customize("bgtfw_fixed_header")()?BoldGrid.header_fixed.calc():BoldGrid.custom_header.calc()},n=function(){r(".post-edit-link").on("click",function(){parent.location=r(this).attr("href")})},i=function(e){"pattern"===e?t():(a.css({"background-image":"","background-size":"","background-repeat":"","background-attachment":""}),b()),s.remove()},c=function(e){a.css("background-size",e)},u=function(e){var t;"parallax"===e?(a.addClass("boldgrid-customizer-parallax-effect"),a.css("background-attachment","fixed"),a.css({"background-position":"0px 0px","background-attachment":"fixed"}),a.data("stellar-background-ratio","0.2"),a.stellar(),a.data("plugin_stellar")&&a.data("plugin_stellar").init()):((t=r("body").data("plugin_stellar"))&&t.destroy(),c(wp.customize("boldgrid_background_image_size")()),a.css({"background-attachment":e}),p(),g(),m(),a.removeClass("boldgrid-customizer-parallax-effect"))},p=function(){var e,t;e=wp.customize("boldgrid_background_vertical_position")(),t=a.css("background-position").split(" ")[0]+" "+5*e+"px",a.css("background-position",t)},g=function(){var e;e=5*wp.customize("boldgrid_background_horizontal_position")()+"px "+a.css("background-position").split(" ")[1],a.css("background-position",e)},o=function(e,t){var o=[];_.each(_typographyOptions,function(e,n){"headings"===e.type&&o.push(t+" "+n)}),o=o.join(", "),d.outputColor(e,r(o).not(".site-description"),["color"])},t=function(){var e;(e=wp.customize("boldgrid_background_pattern")())||(e="none"),s.remove(),a.css({"background-image":e,"background-size":"auto","background-repeat":"repeat","background-attachment":"scroll"}),d.outputColor("boldgrid_background_color","body",["background-color","text-default"])},f=function(e){e=e?"url("+e+")":"",a.css({"background-image":e})},m=function(){a.css({"background-repeat":wp.customize("background_repeat")()})},b=function(){var e,o,n;r("#custom-background-css").remove(),t(),"pattern"!==wp.customize("boldgrid_background_type")()&&(e=wp.customize("background_attachment")(),o=wp.customize("boldgrid_background_image_size")(),u(e),c(o),n=wp.customize("background_image")(),f(n),"parallax"!==e&&(p(),g(),m()))},h=function(){var e;wp.customize.bind("ready",_.defer(function(){_.isFunction(parent.wp.customize.section)&&(e=parent.wp.customize.section("boldgrid_footer_panel").controls(),_(e).each(function(e){var t;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(e.id)&&parseInt(wp.customize(e.id)())&&(t="."+e.id.replace("hide_","").replace(/_/g,"-")+"-link",r(t).addClass("hidden"))})),w()}))},w=function(){r(".attribution-theme-mods > .link").removeClass("no-separator").filter(":visible").last().addClass("no-separator")},_.isFunction(parent.wp.customize.section)&&(z=parent.wp.customize.section("boldgrid_footer_panel").controls(),_(z).each(function(e){var t;new RegExp(/^(hide_)+\w*(_attribution)+$/,"m").test(e.id)&&wp.customize(e.id,function(o){t="."+e.id.replace(/hide_/,"").replace(/_/g,"-")+"-link",o.bind(function(e){e?r(t).addClass("hidden"):r(t).removeClass("hidden"),w()})})})),b(),h(),n(),r(".site-description").addClass(_typographyClasses),wp.customize("blogname",function(t){t.bind(function(t){r(".site-title a").text(t),e()})}),wp.customize.selectiveRefresh.bind("partial-content-rendered",function(t){"custom_logo"!==t.partial.id&&"custom_header"!==t.partial.id||e()}),r.each(["external_header_video","header_video"],function(e,t){wp.customize(t,function(e){e.bind(function(){wp.customize.preview.send("url",window.location.href)})})}),r.each(["bgtfw_site_title_typography","bgtfw_tagline_typography"],function(t,o){wp.customize(o,function(t){t.bind(function(o){r.each(["font-size","line-height","font-family","font-weight"],function(n,i){t[i]!==o[i]&&e()})})})}),wp.customize("blogdescription",function(t){t.bind(function(t){t?r(".site-description").text(t).removeClass("invisible"):r(".site-description").text("").addClass("invisible"),e()})}),wp.customize("bgtfw_header_layout_position",function(t){t.bind(function(t){var o;r("body").removeClass("header-top header-left header-right").addClass(t),"header-left"!==t&&"header-right"!==t||(o=wp.customize("bgtfw_header_width")(),parent.kirkiSetSettingValue.set("bgtfw_header_width",o)),e()})}),wp.customize("bgtfw_fixed_header",function(t){t.bind(function(t){var o=r("body");t?o.addClass("header-fixed"):o.removeClass("header-fixed"),e()})}),wp.customize("bgtfw_header_top_layouts",function(t){t.bind(function(t){r("#masthead").removeClass(function(e,t){return(t.match(/(^|\s)layout-\S+/g)||[]).join(" ")}).addClass(t),e()})}),wp.customize("bgtfw_header_width",function(t){t.bind(function(){e()})}),wp.customize("bgtfw_footer_layouts",function(e){e.bind(function(e){r("#colophon").removeClass(function(e,t){return(t.match(/(^|\s)layout-\S+/g)||[]).join(" ")}).addClass(e)})}),wp.customize("boldgrid_color_palette",function(e){e.bind(function(e){var t,o;t=parent.$(".colors-wrapper"),(o=l.Customizer.Util.getInitialPalettes(e))&&_(t).each(function(e){var t=r(e).find("input");_(t).each(function(e,t){var n,i,a;i=(n=r(e).val()).substring(0,n.indexOf(":")+1)+o[t],r(e).val(i),r(e).next().find(".color-palette-color").css("background",o[t]).text(o[t]),r(e).is(":checked")&&(a=r(e).data("customize-setting-link"),_.isUndefined(a)||parent.wp.customize(a).set(i))})})})}),wp.customize("custom_theme_css",function(e){e.bind(function(e){r("#boldgrid-custom-css").html(e)})}),wp.customize("boldgrid_background_vertical_position",function(e){e.bind(p)}),wp.customize("boldgrid_background_horizontal_position",function(e){e.bind(g)}),wp.customize("boldgrid_background_pattern",function(e){e.bind(t)}),wp.customize("boldgrid_background_color",function(e){e.bind(t)}),wp.customize("bgtfw_header_color",function(e){e.bind(function(e){var t,o,n,i,r;d.outputColor("bgtfw_header_color","#masthead, #navi",["background-color","text-default"]),i=e.split(":").pop(),n=".header-left #main-menu, .header-right #main-menu { background-color: "+(r=parent.net.brehaut.Color(i)).setAlpha(.7).toString()+"; }",n+="@media (min-width: 768px) {",n+=".sm-clean ul, .sm-clean ul a, .sm-clean ul a:hover, .sm-clean ul a:focus, .sm-clean ul a:active, .sm-clean ul a.highlighted, .sm-clean span.scroll-up, .sm-clean span.scroll-down, .sm-clean span.scroll-up:hover, .sm-clean span.scroll-down:hover { background-color:"+r.setAlpha(.4).toString()+";}",n+=".sm-clean ul { border: 1px solid "+r.setAlpha(.4).toString()+";}",n+=".sm-clean > li > ul:before, .sm-clean > li > ul:after { border-color: transparent transparent "+r.setAlpha(.4).toString()+" transparent;}",n+="}",document.getElementById("bgtfw-menu-colors")?document.getElementById("bgtfw-menu-colors").innerHTML=n:(o=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.id="bgtfw-menu-colors",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),o.appendChild(t))})}),wp.customize("bgtfw_header_headings_color",function(e){e.bind(function(){o("bgtfw_header_headings_color","#navi-wrap > :not(.bgtfw-widget-row)")})}),wp.customize("bgtfw_footer_headings_color",function(e){e.bind(function(){o("bgtfw_footer_headings_color",".site-footer :not(.bgtfw-widget-row)")})}),wp.customize("boldgrid_background_type",function(e){e.bind(i)}),wp.customize("background_attachment",function(e){e.bind(u)}),wp.customize("background_image",function(e){e.bind(f)}),wp.customize("background_repeat",function(e){e.bind(m)}),wp.customize("boldgrid_background_image_size",function(e){e.bind(c)}),r(document).on("customize-preview-menu-refreshed",function(e,t){r.each(t.newContainer.closest("[data-is-parent-column]"),function(){l.Customizer.Widgets.updatePartial(r(this)),"secondary-menu"===t.container_id&&""!==wp.customize("bgtfw_header_container")()&&document.getElementById(t.container_id).classList.add(wp.customize("bgtfw_header_container")())})}),wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){"boldgrid_header_widgets"!==e.partial.id&&"boldgrid_footer_widgets"!==e.partial.id||l.Customizer.Widgets.updatePartial(e.container)}),l.Customizer.Widgets.updatePartial=function(e){e.find(".comment-reply-link").addClass("btn button-primary color1-text-contrast").css("transition","all .5s"),e.find(".widget_rss ul").addClass("media-list"),e.find(".widget_meta ul, .widget_recent_entries ul, .widget_archive ul, .widget_categories ul, .widget_nav_menu ul, .widget_pages ul").addClass("nav"),e.find(".widget_recent_comments ul#recentcomments").css({"list-style":"none","padding-left":"0"}),e.find(".widget_recent_comments ul#recentcomments li").css("padding","5px 15px"),e.find("table#wp-calendar").addClass("table table-striped"),e.find('.sidebar select, select[name="archive-dropdown"]').addClass("form-control"),e.find(".sidebar .button").removeClass("button").addClass("btn button-primary"),e.find(".woocommerce.widget .ui-slider").css("display","none"),e.find(".woocommerce.widget .ui-slider").css("display","block"),e.find(".woocommerce.widget .ui-slider").addClass("color1-background-color").children().addClass("color2-background-color"),e.find(".button").removeClass("button").addClass("btn button-primary"),e.find(".button.alt").removeClass("button alt").addClass("btn button-secondary")},r(document).on("customize-preview-menu-refreshed",function(e,t){_.isUndefined(BoldGrid)||"main"===t.wpNavMenuArgs.theme_location&&(_.isUndefined(BoldGrid.standard_menu_enabled)||BoldGrid.standard_menu_enabled.init(t.newContainer))})})}]);