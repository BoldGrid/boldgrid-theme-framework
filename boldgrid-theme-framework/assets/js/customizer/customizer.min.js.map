{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./assets/js/customizer/color/palette-selector.js","webpack:///./assets/js/customizer/widget-meta/background-color-partial.js","webpack:///./assets/js/customizer/widget-meta/index.js","webpack:///./assets/js/customizer/toggle/value.js","webpack:///./assets/js/customizer/typography/link-preview.js","webpack:///./assets/js/customizer/background/preview.js","webpack:///./assets/js/customizer/header-layout/preview.js","webpack:///./assets/js/customizer/generic/preview.js","webpack:///./assets/js/customizer/customizer.js","webpack:///./assets/js/customizer/toggle/toggle.js","webpack:///./assets/js/customizer/color/preview.js","webpack:///./assets/js/customizer/preview.js","webpack:///./assets/js/customizer/typography/preview.js","webpack:///./assets/js/customizer/widget-meta/links-color-partial.js","webpack:///./assets/js/customizer/widget-meta/headings-color-partial.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","PaletteSelector","themeMod","arguments","length","undefined","this","getVariableValue","getColorVariable","colorNumber","getColorNumber","concat","substring","indexOf","_paletteSelector","wp","customize","selectiveRefresh","partialConstructor","sidebar_meta_background_color","api","$","Partial","extend","refresh","backgroundColorSetting","params","primarySetting","_","each","placements","placement","colorClassPrefix","container","parent","removeClass","index","css","match","join","replace","addClass","Deferred","resolve","promise","_backgroundColorPartial","keys","forEach","_headingsColorPartial","_linksColorPartial","_toggle","_interopRequireDefault","ToggleValue","_this","id","element","remove","cb","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","apply","assign","_assertThisInitialized","Base","to","_preview","colorLib","window","net","brehaut","LinkPreview","previewUtility","PreviewUtility","paletteSelector","prefixes","selectors","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","prefix","getSelectors","controls","push","_len","args","Array","_key","map","control","updateStyles","_iterator","iterator","next","done","err","return","choices","isFunction","shiftedColorVal","linkColor","_getColor","linkColorHover","decoration","_getDecoration","decorationHover","parseInt","Color","lightenByAmount","toCSS","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","selector","inlineName","updateDynamicStyles","setting","color","getColor","Preview","colorPreview","ColorPreview","init","$body","_onLoad","backgroundImage","_getOverlayCss","outputColor","_setupImageChange","alpha","rgba","setAlpha","toString","_this2","setImage","setBodyClasses","_setupResize","resize","debounce","BoldGrid","custom_header","calc","preview","wpControl","bindControl","_preview2","_preview3","_preview4","_linkPreview","_value","_preview5","controlApi","BOLDGRID","Customizer","Util","Widgets","bgtfwIsJSON","string","isString","test","getAllUrlParams","url","queryString","split","location","search","slice","obj","arr","a","paramNum","paramName","v","paramValue","toLowerCase","bgtfwParseJSON","data","JSON","parse","isObject","error","getTextContrast","brightness","getRed","getGreen","getBlue","lightText","CUSTOMIZER","customizerOptions","colors","light_text","darkText","dark_text","Math","abs","getInitialPalettes","option","palette","activePalette","isUndefined","state","palettes","$customStyles","backgroundPreview","BackgroundPreview","GenericPreview","bindEvents","HeaderPreview","TypographyPreview","updateColorAndPatterns","headingsColorOutput","setupPostEditLink","backgroundTypeUpdate","backgroundSizeUpdate","backgroundAttachmentUpdate","setBackgroundVerticalPosition","setBackgroundHorizontalPosition","backgroundRepeatUpdate","initValues","attributionLinks","attributionSeparators","attributionControls","on","attr","background-image","background-size","background-repeat","background-attachment","pluginStellarData","background-position","stellar","horizontalScrolling","destroy","backgroundPos","section","typography","type","not","backgroundPattern","bgAttach","bgImgSize","bgType","defer","RegExp","filter","last","toggleClass","_typographyClasses","send","href","_len2","_key2","settings","throttle","once","neutral","pop","document","documentElement","style","setProperty","swatches","find","swatch","currentVal","newVal","link","val","text","is","set","body","className","hamburgerFn","hoverFn","setupCurrentMenuItems","menuId","currents","children","hasClass","links","regex","current","_wpCustomizeSettings","self","isMatch","_arr","values","_wpCustomizePreviewNavMenusExports","navMenuInstanceArgs","props","theme_location","menu_id","args_hmac","partial","smartmenus","Toggle","menu","getElementById","hamburger","checked","click","classList","_len3","_key3","isTransparent","includes","footerMenus","menuContrastColor","_i","toggleTitleFn","condition","classes","kirkiSetSettingValue","event","newContainer","closest","updatePartial","container_id","add","list-style","padding-left","nav_menu_instance_args","instance","e","standard_menu_enabled","delay","timeouts","wpNavArgs","isEmpty","fn","bound","_bindControl","classControls","properties","$selector","headingSelectors","getHeadingColorSelectors","getHeadingCSS","inFooter","colorVariable","getMenuColorsCSS","backgroundColor","hoverColors","getHamburgerCSS","getHoverCSS","mod","getActiveLinkColor","styles","updatedColor","colorRegex","headers","header","background","updatedBackground","token","recurse","result","array","exec","trim","linearGradient","prop","newLinearGradient","setMenuConfigs","setHamburgerColors","setHoverColors","setActiveLinkColor","setMenuColors","_bindHoverColors","_bindMenuColors","_bindActiveLinkColors","_bindHamburgerColors","setHeadingColors","menus","_bindConfiguredControls","_bindHeadingColor","_bindHeaderOverlay","_bindEntryHeader","_bindGlobalPageTitles","setPageTitles","_this3","_this4","setHeaderOverlay","_this5","_len4","_key4","_this6","_this7","_this8","_this9","_this10","$head","html","append","_bindTypography","base","rule","amount","round","ceil","floor","innerHTML","head","getElementsByTagName","createElement","styleSheet","cssText","appendChild","createTextNode","insertAfter","addStyle","getCSS","sidebar_meta_links_color","linksColorSetting","colorClass","sidebar_meta_headings_color","headingsColorSetting"],"mappings":"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","file":"./assets/js/customizer/customizer.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 107);\n","module.exports = jQuery;","export class PaletteSelector {\n\n\t/**\n\t * Get the color value for the palette selector control.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t * @param  {Boolean} variable Whether to return color variable or true color value.\n\t *\n\t * @return {string}           CSS Color Variable, HEX, RGB, RGBA or value.\n\t */\n\tgetColor( themeMod, variable = false ) {\n\t\treturn variable ? this.getVariableValue( themeMod ) : this.getColorVariable( themeMod );\n\t}\n\n\t/**\n\t * Get the CSS variable for the palette selector control.\n\t *\n\t * @since 2.0.1\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t *\n\t * @return {string}           CSS Color Variable.\n\t */\n\tgetColorVariable( themeMod ) {\n\t\tlet colorNumber = this.getColorNumber( themeMod );\n\t\treturn `var(--${colorNumber});`;\n\t}\n\n\t/**\n\t * Get the color value for the palette selector control.\n\t *\n\t * @since 2.0.1\n\t *\n\t * @see https://jsperf.com/bgtfw-color-token-parse\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t *\n\t * @return {string}           CSS Color Variable.\n\t */\n\tgetVariableValue( themeMod ) {\n\t\treturn themeMod.substring( themeMod.indexOf( ':' ) + 1 );\n\t}\n\n\t/**\n\t * Get the color number for the palette selector control.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @see https://jsperf.com/bgtfw-color-token-parse\n\t *\n\t * @param  {string} themeMod Theme mod value.\n\t *\n\t * @return {string} Color number.\n\t */\n\tgetColorNumber( themeMod ) {\n\t\treturn themeMod.substring( 0, themeMod.indexOf( ':' ) );\n\t}\n}\n\nexport default PaletteSelector;\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_background_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\t\tbackgroundColorSetting;\n\n\t\t\tbackgroundColorSetting = api( partial.params.primarySetting );\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar colorClassPrefix = new PaletteSelector().getColorNumber( backgroundColorSetting.get() );\n\n\t\t\t\tplacement.container.parent( '.sidebar' ).removeClass( function( index, css ) {\n\t\t\t\t\treturn ( css.match( /(^|\\s)color-?([\\d]|neutral)-(background|text)\\S+/g ) || [] ).join( ' ' );\n\t\t\t\t} );\n\n\t\t\t\tif ( ! ~colorClassPrefix.indexOf( 'neutral' ) ) {\n\t\t\t\t\tcolorClassPrefix = colorClassPrefix.replace( '-', '' );\n\t\t\t\t}\n\n\t\t\t\tplacement.container.parent( '.sidebar' ).addClass( colorClassPrefix + '-background-color ' + colorClassPrefix + '-text-default' );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n","export * from './background-color-partial';\nexport * from './headings-color-partial';\nexport * from './links-color-partial';\n","/* esversion: 6 */\nimport Base from './toggle';\n\n/**\n * This class is responsible for managing the expand and collapse\n * triggers for panels and sections in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class ToggleValue extends Base {\n\n\t/**\n\t * Constructor\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} id ID of the control to bind to.\n\t * @param {String} element EL element to toggle classes on.\n\t * @param {String|Function} remove Classes or method to remove when control is updated.\n\t */\n\tconstructor( id = null, element = null, remove = null, cb = () => {} ) {\n\t\tsuper( ...arguments );\n\t\tObject.assign( this, { id, element, remove, cb } );\n\t}\n\n\t/**\n\t * Handle the toggle of classes on an element.\n\t *\n\t * @2.0.0\n\t *\n\t * @param {Mixed} to New value control is updating to.\n\t */\n\tbound( to ) {\n\t\t$( this.element ).removeClass( this.remove ).addClass( to ) && this.cb();\n\t}\n}\n\nexport default ToggleValue;\n","import { Preview as PreviewUtility } from '../preview';\nimport PaletteSelector from '../color/palette-selector';\n\nconst api = wp.customize;\nconst colorLib = window.net.brehaut;\n\nexport class LinkPreview {\n\n\t/**\n\t * Instantiate other classes to be used.\n\t */\n\tconstructor() {\n\t\tthis.previewUtility = new PreviewUtility();\n\t\tthis.paletteSelector = new PaletteSelector();\n\t\tthis.prefixes = [\n\t\t\t'bgtfw_body',\n\t\t\t'bgtfw_posts_date',\n\t\t\t'bgtfw_posts_byline',\n\t\t\t'bgtfw_posts_tags',\n\t\t\t'bgtfw_posts_cats',\n\t\t\t'bgtfw_posts_navigation',\n\t\t\t'bgtfw_blog_post_header_byline',\n\t\t\t'bgtfw_blog_post_header_date',\n\t\t\t'bgtfw_blog_post_cats',\n\t\t\t'bgtfw_blog_post_tags',\n\t\t\t'bgtfw_blog_post_comments',\n\t\t\t'bgtfw_blog_post_readmore'\n\t\t];\n\t\tthis.selectors = {};\n\t}\n\n\t/**\n\t * When the user changes any of the options in the set, update the css.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\t$( () => {\n\t\t\tlet prefixes = this.prefixes;\n\t\t\tfor ( let prefix of prefixes ) {\n\t\t\t\tthis.selectors[ prefix ] = this.getSelectors( prefix );\n\n\t\t\t\tlet controls = [\n\t\t\t\t\t`${prefix}_link_color`,\n\t\t\t\t\t`${prefix}_link_color_hover`,\n\t\t\t\t\t`${prefix}_link_decoration`,\n\t\t\t\t\t`${prefix}_link_decoration_hover`\n\t\t\t\t];\n\n\t\t\t\t// Body links don't have a _link_color_display option.\n\t\t\t\tif ( 'bgtfw_body' !== prefix ) {\n\t\t\t\t\tcontrols.push( `${prefix}_link_color_display` );\n\t\t\t\t}\n\n\t\t\t\tapi( ...controls, ( ...args ) => {\n\t\t\t\t\targs.map( control => control.bind( () => this.updateStyles( prefix ) ) );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Get the selectors for links.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {array} Selectors to use.\n\t */\n\tgetSelectors( prefix ) {\n\t\tlet selectors = [];\n\t\tif ( parent.wp.customize.control && parent.wp.customize.control( `${prefix}_link_color` ) ) {\n\t\t\tselectors = parent.wp.customize.control( `${prefix}_link_color` ).params.choices.selectors;\n\t\t}\n\n\t\treturn selectors;\n\t}\n\n\t/**\n\t * Update the styles for the content.\n\t *\n\t * @since 2.0.0\n\t */\n\tupdateStyles( prefix ) {\n\t\tlet css = '';\n\t\tif ( false === _.isFunction( api( `${prefix}_link_color_display` ) ) || 'inherit' !== api( `${prefix}_link_color_display` )() ) {\n\t\t\tlet linkColor = this._getColor( `${prefix}_link_color` ),\n\t\t\t\tlinkColorHover = api( `${prefix}_link_color_hover` )() || 0,\n\t\t\t\tdecoration = this._getDecoration( `${prefix}_link_decoration` ),\n\t\t\t\tdecorationHover = this._getDecoration( `${prefix}_link_decoration_hover` ),\n\t\t\t\texcludes = '',\n\t\t\t\tselectors = this.selectors[ prefix ],\n\t\t\t\tshiftedColorVal;\n\n\t\t\tlinkColorHover = parseInt( linkColorHover, 10 ) / 100;\n\t\t\tshiftedColorVal = colorLib.Color( linkColor ).lightenByAmount( linkColorHover ).toCSS();\n\n\t\t\tfor ( let selector of selectors ) {\n\t\t\t\tselector = selector + excludes;\n\t\t\t\tcss += `\n\t\t\t\t\t${selector} {\n\t\t\t\t\t\tcolor: ${linkColor};\n\t\t\t\t\t\ttext-decoration: ${decoration};\n\t\t\t\t\t}\n\t\t\t\t\t${selector}:hover,\n\t\t\t\t\t${selector}:focus {\n\t\t\t\t\t\tcolor: ${shiftedColorVal};\n\t\t\t\t\t\ttext-decoration: ${decorationHover};\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\n\t\tlet inlineName = prefix.replace( /_/g, '-' );\n\t\tthis.previewUtility.updateDynamicStyles( `${inlineName}-link-inline-css`, css );\n\t}\n\n\t/**\n\t * Get the setting text decoration value.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} setting Setting Name.\n\t * @return {string}         CSS value.\n\t */\n\t_getDecoration( setting ) {\n\t\treturn api( setting )();\n\t}\n\n\t/**\n\t * Get the color from a setting.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} setting Setting Name.\n\t * @return {string}         Saved Color.\n\t */\n\t_getColor( setting ) {\n\t\tlet color = api( setting )() || '';\n\t\treturn this.paletteSelector.getColor( color );\n\t}\n\n}\n","import PaletteSelector from '../color/palette-selector';\nimport ColorPreview from '../color/preview';\n\nconst api = wp.customize;\n\n/**\n * Setup all events for previewing background changes.\n *\n * @since 2.0.0\n *\n * @type {Preview}\n */\nexport class Preview {\n\n\t/**\n\t * Instatiate the class.\n\t *\n\t * @since 2.0.0\n\t */\n\tconstructor() {\n\t\tthis.selector = new PaletteSelector();\n\t\tthis.colorPreview = new ColorPreview().init();\n\t\tthis.$body = $( 'body' );\n\t}\n\n\t/**\n\t * Initialize this class, binding all events.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {Preview} Class Instance.\n\t */\n\tinit() {\n\t\t$( () => this._onLoad() );\n\n\t\treturn this;\n\t}\n\n\t/**\n\t* Set the overlay colors.\n\t*\n\t* @since 2.0.0\n\t*/\n\tsetImage() {\n\t\tif ( 'image' === api( 'boldgrid_background_type' )() ) {\n\t\t\tconst backgroundImage = api( 'background_image' )();\n\n\t\t\tlet css = '';\n\t\t\tif ( backgroundImage && api( 'bgtfw_background_overlay' )() ) {\n\t\t\t\tcss = this._getOverlayCss( backgroundImage );\n\t\t\t} else if ( backgroundImage ) {\n\t\t\t\tcss = `url(\"${backgroundImage}\")`;\n\t\t\t}\n\n\t\t\tthis.$body.css( 'background-image', css );\n\t\t}\n\t}\n\n\t/**\n\t * Set the body color classes.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetBodyClasses() {\n\t\tif ( 'image' === api( 'boldgrid_background_type' )() ) {\n\t\t\tif ( api( 'background_image' )() && api( 'bgtfw_background_overlay' )() ) {\n\t\t\t\tthis.colorPreview.outputColor( 'bgtfw_background_overlay_color', 'body', [\n\t\t\t\t\t'background-color', 'text-default'\n\t\t\t\t] );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Process to run when the page loads.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\t\tthis._setupImageChange();\n\t}\n\n\t/**\n\t * Get the css needed to display an overlay.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} backgroundImage Background image property.\n\t * @return {string}                 CSS for background image.\n\t */\n\t_getOverlayCss( backgroundImage ) {\n\t\tconst color = this.selector.getColor(\n\t\t\t\tapi( 'bgtfw_background_overlay_color' )()\n\t\t\t),\n\t\t\talpha = api( 'bgtfw_background_overlay_alpha' )(),\n\t\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\t\trgba = brehautColor.setAlpha( alpha ).toString();\n\n\t\treturn `linear-gradient(to left, ${rgba}, ${rgba}), url(\"${backgroundImage}\")`;\n\t}\n\n\t/**\n\t * When the background image changes or any related properties, update the image.\n\t *\n\t * @since 2.0.0\n\t */\n\t_setupImageChange() {\n\t\tapi(\n\t\t\t'bgtfw_background_overlay_alpha',\n\t\t\t'bgtfw_background_overlay',\n\t\t\t'bgtfw_background_overlay_color',\n\t\t\t'background_image',\n\t\t\t'boldgrid_background_type',\n\t\t\t( ...args ) => {\n\t\t\t\targs.map( control =>\n\t\t\t\t\tcontrol.bind( () => {\n\t\t\t\t\t\tthis.setImage();\n\t\t\t\t\t\tthis.setBodyClasses();\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n}\n","/* global BoldGrid:false */\nconst api = wp.customize;\n\nexport class Preview {\n\n\t/**\n\t * Run these on init.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\tthis._setupResize();\n\t}\n\n\t/**\n\t * When certain controls are updated we should trigger a resize to allow\n\t * all layout calculations to reapply.\n\t *\n\t * This method is debounced to 1 second.\n\t *\n\t * @since 2.0.0\n\t */\n\t_setupResize() {\n\t\tlet resize = _.debounce( () => BoldGrid.custom_header.calc(), 500 );\n\t\tapi( 'bgtfw_header_padding', 'bgtfw_header_border', 'bgtfw_header_margin', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( resize ) );\n\t\t} );\n\t}\n}\n","import { Preview as PreviewUtility } from '../preview';\n\nexport class Preview {\n\tconstructor() {\n\t\tthis.preview = new PreviewUtility();\n\t}\n\n\t/**\n\t * Loop through all controls that are generic controls, and bind the change event.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\tif ( parent.wp.customize.control ) {\n\t\t\tparent.wp.customize.control.each( wpControl => {\n\t\t\t\tif (\n\t\t\t\t\twpControl.params.choices &&\n\t\t\t\t\t'boldgrid_controls' === wpControl.params.choices.name\n\t\t\t\t) {\n\t\t\t\t\tthis.bindControl( wpControl );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Bind a single wordpress controls change event.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {object} wpControl Wordpress control instance.\n\t */\n\tbindControl( wpControl ) {\n\t\twp.customize( wpControl.id, value => {\n\t\t\tvalue.bind( setting => {\n\n\t\t\t\t// If value is not truthy, we are reverting to defaults.\n\t\t\t\tif ( setting ) {\n\t\t\t\t\tthis.preview.updateDynamicStyles(\n\t\t\t\t\t\twpControl.id + '-bgcontrol-inline-css',\n\t\t\t\t\t\tsetting.css\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n}\n","/* global _wpCustomizePreviewNavMenusExports:false, _wpCustomizeSettings:false, BoldGrid:true, BOLDGRID:true */\nimport ColorPreview from './color/preview';\nimport { Preview as GenericPreview } from './generic/preview.js';\nimport { Preview as HeaderPreview } from './header-layout/preview.js';\nimport { Preview as BackgroundPreview } from './background/preview.js';\nimport { LinkPreview } from './typography/link-preview.js';\nimport Toggle from './toggle/toggle';\nimport ToggleValue from './toggle/value';\nimport './widget-meta';\nimport { Preview as TypographyPreview } from './typography/preview';\n\nconst api = wp.customize;\nconst controlApi = parent.wp.customize;\n\nBOLDGRID.Customizer = BOLDGRID.Customizer || {};\nBOLDGRID.Customizer.Util = BOLDGRID.Customizer.Util || {};\nBOLDGRID.Customizer.Widgets = BOLDGRID.Customizer.Widgets || {};\n\n/**\n * Check if the string is valid JSON by the use of regular expressions.\n * This security method is called internally.\n *\n * Examples:\n *\n *  bgtfwIsJSON( 'something' );\n *      // -> false\n *\n *  bgtfwIsJSON( \"\\\"something\\\"\");\n *      // -> true\n *\n *  bgtfwIsJSON( \"{ foo: 2 }\");\n *      // -> false\n *\n *  bgtfwIsJSON( \"{ \\\"foo\\\": 2 }\" );\n *      // -> true\n *\n * @param {string} string String to test for valid JSON syntax.\n *\n * @return {Boolean} True if string contains valid JSON, false on failure.\n */\nBOLDGRID.Customizer.Util.bgtfwIsJSON = function( string ) {\n\n\t// Check if string is a string, and not an empty one.\n\tif ( ! _.isString( string ) || /^\\s*$/.test( string ) ) {\n\t\treturn false;\n\t}\n\n\t// Validate that the string is valid format for being JSON.\n\tstring = string.replace( /\\\\(?:[\"\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@' );\n\tstring = string.replace( /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?/g, ']' );\n\tstring = string.replace( /(?:^|:|,)(?:\\s*\\[)+/g, '' );\n\n\treturn ( /^[\\],:{}\\s]*$/ ).test( string );\n};\n\n\nBOLDGRID.Customizer.Util.getAllUrlParams = function( url ) {\n\n\t// Get query string from url (optional) or window.\n\tlet queryString = url ? url.split( '?' )[1] : window.location.search.slice( 1 );\n\n\t// We'll store the parameters here.\n\tconst obj = {};\n\n\t// If query string exists...\n\tif ( queryString ) {\n\n\t\t// Stuff after # is not part of query string, so get rid of it.\n\t\tqueryString = queryString.split( '#' )[0];\n\n\t\t// Split our query string into its component parts.\n\t\tlet arr = queryString.split( '&' );\n\n\t\tfor ( let i = 0; i < arr.length; i++ ) {\n\n\t\t\t// Separate the keys and the values.\n\t\t\tlet a = arr[i].split( '=' );\n\n\t\t\t// In case params look like: list[]=thing1&list[]=thing2.\n\t\t\tlet paramNum = undefined;\n\t\t\tlet paramName = a[0].replace( /\\[\\d*\\]/, function( v ) {\n\t\t\t\tparamNum = v.slice( 1, -1 );\n\t\t\t\treturn '';\n\t\t\t} );\n\n\t\t\t// Set parameter value (use 'true' if empty).\n\t\t\tlet paramValue = 'undefined' === typeof( a[1] ) ? true : a[1];\n\n\t\t\t// Keep casing consistent.\n\t\t\tparamName = paramName.toLowerCase();\n\t\t\tparamValue = paramValue.toLowerCase();\n\n\t\t\t// If parameter name already exists..\n\t\t\tif ( obj[ paramName ] ) {\n\n\t\t\t\t// Convert value to array (if still string).\n\t\t\t\tif ( 'string' === typeof obj[ paramName ] ) {\n\t\t\t\t\tobj[ paramName ] = [ obj[ paramName ] ];\n\t\t\t\t}\n\n\t\t\t\t// If no array index number specified...\n\t\t\t\tif ( 'undefined' === typeof paramNum ) {\n\n\t\t\t\t\t// Put the value on the end of the array.\n\t\t\t\t\tobj[ paramName ].push( paramValue );\n\n\t\t\t\t// If array index number specified...\n\t\t\t\t} else {\n\n\t\t\t\t\t// Put the value at that index number.\n\t\t\t\t\tobj[ paramName ][ paramNum ] = paramValue;\n\t\t\t\t}\n\n\t\t\t// If param name doesn't exist yet, set it.\n\t\t\t} else {\n\t\t\t\tobj[ paramName ] = paramValue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn obj;\n};\n\n/**\n * Parse JSON safely.\n *\n * Ensure that the param passed is valid JSON, and attempt\n * to return the object back.  This returns false in the event\n * that it can't be parsed or isn't valid JSON.\n *\n * @param {string} string String to parse JSON from.\n *\n * @return {mixed} Returns object if JSON was parsed, or false.\n */\nBOLDGRID.Customizer.Util.bgtfwParseJSON = function( string ) {\n\tvar data;\n\n\tif ( BOLDGRID.Customizer.Util.bgtfwIsJSON( string ) ) {\n\t\ttry {\n\t\t\tdata = JSON.parse( string );\n\t\t\tif ( data && _.isObject( data ) ) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t} catch ( error ) {\n\n\t\t\t// console.warn( 'An error retrieving the active color palette occured!', error );\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nBOLDGRID.Customizer.Util.getTextContrast = function( color ) {\n\tconst brightness = ( color ) => {\n\t\tcolor = window.net.brehaut.Color( color );\n\t\treturn ( ( color.getRed() * 0.299 ) + ( color.getGreen() * 0.587 ) + ( color.getBlue() * 0.114 ) ) * 100;\n\t};\n\tlet lightText = brightness( BOLDGRID.CUSTOMIZER.data.customizerOptions.colors.light_text );\n\tlet darkText = brightness( BOLDGRID.CUSTOMIZER.data.customizerOptions.colors.dark_text );\n\tcolor = brightness( color );\n\n\treturn Math.abs( color - lightText ) > Math.abs( color - darkText ) ? 'var(--light-text)' : 'var(--dark-text)';\n};\n\nBOLDGRID.Customizer.Util.getInitialPalettes = function( option ) {\n\tvar palette, colors, activePalette;\n\n\t// Default value is read from the customizer API if new data is not passed.\n\tif ( _.isUndefined( option ) ) {\n\t\toption = api( 'boldgrid_color_palette' )();\n\t}\n\n\t// Parse the JSON data.\n\tpalette = BOLDGRID.Customizer.Util.bgtfwParseJSON( option );\n\n\t// Ensure it's formatted correctly and get the active palette's colors as an array.\n\tif ( palette && ! _.isUndefined( palette.state ) && ! _.isUndefined( palette.state.palettes ) ) {\n\n\t\tif ( ! _.isUndefined( palette.state['active-palette'] ) ) {\n\n\t\t\tactivePalette = palette.state['active-palette'];\n\n\t\t\tif ( ! _.isUndefined( palette.state.palettes[ activePalette ] ) ) {\n\t\t\t\tactivePalette = palette.state.palettes[ activePalette ];\n\n\t\t\t\tif ( ! _.isUndefined( activePalette.colors ) ) {\n\t\t\t\t\tcolors = activePalette.colors;\n\n\t\t\t\t\t// Check if theme included a neutral color, and add it to palette.\n\t\t\t\t\tif ( ! _.isUndefined( activePalette['neutral-color'] ) ) {\n\t\t\t\t\t\tcolors.push( activePalette['neutral-color'] );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update the wpColorPicker options for initialization.\n\t\t\t\t\tif ( colors.length ) {\n\t\t\t\t\t\treturn colors;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Unable to get the active palette set.\n\treturn false;\n};\n\n/**\n * Theme Customizer enhancements for a better user experience.\n *\n * Contains handlers to make Theme Customizer preview reload changes asynchronously.\n */\n( function( $ ) {\n\tvar $body, $customStyles, colorPreview;\n\n\t$body = $( 'body' );\n\t$customStyles = $( '#boldgrid-override-styles' );\n\n\tcolorPreview = new ColorPreview().init();\n\tlet backgroundPreview = new BackgroundPreview().init();\n\tnew GenericPreview().bindEvents();\n\tnew HeaderPreview().bindEvents();\n\tnew TypographyPreview().bindEvents();\n\tnew LinkPreview().bindEvents();\n\n\t$( function() {\n\t\tvar updateColorAndPatterns,\n\t\t\theadingsColorOutput,\n\t\t\tsetupPostEditLink,\n\t\t\tbackgroundTypeUpdate,\n\t\t\tbackgroundSizeUpdate,\n\t\t\tbackgroundAttachmentUpdate,\n\t\t\tsetBackgroundVerticalPosition,\n\t\t\tsetBackgroundHorizontalPosition,\n\t\t\tbackgroundRepeatUpdate,\n\t\t\tinitValues,\n\t\t\tattributionLinks,\n\t\t\tattributionSeparators,\n\t\t\tattributionControls;\n\n\t\tlet calc = BoldGrid.custom_header.calc;\n\n\t\t/**\n\t\t * Allow the user to click the post edit link in the customizer and go to the editor\n\t\t */\n\t\tsetupPostEditLink = function() {\n\t\t\t$( '.post-edit-link' ).on( 'click', function() {\n\t\t\t\tparent.location = $( this ).attr( 'href' );\n\t\t\t} );\n\t\t};\n\n\t\tbackgroundTypeUpdate = function( to ) {\n\n\t\t\t\tif ( 'pattern' === to ) {\n\t\t\t\t\tupdateColorAndPatterns();\n\t\t\t\t} else {\n\t\t\t\t\t$body.css( {\n\t\t\t\t\t\t'background-image': '',\n\t\t\t\t\t\t'background-size': '',\n\t\t\t\t\t\t'background-repeat': 'no-repeat',\n\t\t\t\t\t\t'background-attachment': ''\n\t\t\t\t\t} );\n\n\t\t\t\t\tinitValues();\n\t\t\t\t}\n\n\t\t\t\t// Remove these styles that should only overwrite on the front end.\n\t\t\t\t$customStyles.remove();\n\t\t};\n\n\t\tbackgroundSizeUpdate = function( to ) {\n\t\t\t$body.css( 'background-size', to );\n\t\t};\n\n\t\tbackgroundAttachmentUpdate = function( to ) {\n\t\t\tvar pluginStellarData;\n\n\t\t\tif ( 'parallax' === to ) {\n\t\t\t\t$body.addClass( 'boldgrid-customizer-parallax-effect' );\n\t\t\t\t$body.css( 'background-attachment', 'fixed' );\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-position': '0px 0px',\n\t\t\t\t\t'background-attachment': 'fixed'\n\t\t\t\t} );\n\n\t\t\t\t$body.data( 'stellar-background-ratio', '0.2' );\n\t\t\t\t$body.stellar( {\n\t\t\t\t\thorizontalScrolling: false\n\t\t\t\t} );\n\n\t\t\t\tif ( $body.data( 'plugin_stellar' ) ) {\n\t\t\t\t\t$body.data( 'plugin_stellar' ).init();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpluginStellarData = $( 'body' ).data( 'plugin_stellar' );\n\t\t\t\tif ( pluginStellarData ) {\n\t\t\t\t\tpluginStellarData.destroy();\n\t\t\t\t}\n\n\t\t\t\tbackgroundSizeUpdate( api( 'boldgrid_background_image_size' )() );\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-attachment': to\n\t\t\t\t} );\n\t\t\t\tsetBackgroundVerticalPosition();\n\t\t\t\tsetBackgroundHorizontalPosition();\n\t\t\t\tbackgroundRepeatUpdate();\n\n\t\t\t\t$body.removeClass( 'boldgrid-customizer-parallax-effect' );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Set the theme background_vertical_position on the preview frame\n\t\t */\n\t\tsetBackgroundVerticalPosition = function() {\n\t\t\tvar to, curBackgroundPos, backgroundPos;\n\t\t\tto = api( 'boldgrid_background_vertical_position' )();\n\t\t\tcurBackgroundPos = $body.css( 'background-position' );\n\t\t\tbackgroundPos = curBackgroundPos.split( ' ' )[0] + ' ' + ( to ) * 5 + 'px';\n\t\t\t$body.css( 'background-position', backgroundPos );\n\t\t};\n\n\n\t\t/**\n\t\t * Set the theme background_horizontal_position on the preview frame\n\t\t */\n\t\tsetBackgroundHorizontalPosition = function() {\n\t\t\tvar to, curBackgroundPos, backgroundPos;\n\n\t\t\tto = api( 'boldgrid_background_horizontal_position' )();\n\t\t\tcurBackgroundPos = $body.css( 'background-position' );\n\t\t\tbackgroundPos = ( to ) * 5 + 'px' + ' ' + curBackgroundPos.split( ' ' )[1];\n\t\t\t$body.css( 'background-position', backgroundPos );\n\t\t};\n\n\t\t/**\n\t\t * Handles front-end headings color changes in previewer.\n\t\t *\n\t\t * This will add classes for the headings color changes to elements during a live preview.\n\t\t * The headings makes use of the global:\n\t\t * BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors,\n\t\t * which contains the selectors defined in the PHP configurations for bgtfw.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param string to       Theme mod value of headings color.\n\t\t * @param string selector CSS selector to apply classes to.\n\t\t */\n\t\theadingsColorOutput = function( themeMod, section ) {\n\t\t\tvar selectors = [];\n\n\t\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( value, key ) {\n\t\t\t\tif ( 'headings' === value.type ) {\n\t\t\t\t\tselectors.push( section + ' ' + key );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tselectors = selectors.join( ', ' );\n\n\t\t\tcolorPreview.outputColor( themeMod, $( selectors ).not( '.site-description' ), [ 'color' ] );\n\t\t};\n\n\t\t/**\n\t\t * Set the theme updateColorAndPatterns on the preview frame\n\t\t */\n\t\tupdateColorAndPatterns = function() {\n\t\t\tvar backgroundPattern;\n\n\t\t\tif ( 'pattern' === api( 'boldgrid_background_type' )() ) {\n\t\t\t\tbackgroundPattern = api( 'boldgrid_background_pattern' )();\n\n\t\t\t\tif ( ! backgroundPattern ) {\n\t\t\t\t\tbackgroundPattern = 'none';\n\t\t\t\t}\n\n\t\t\t\t$customStyles.remove();\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-image': backgroundPattern,\n\t\t\t\t\t'background-size': 'auto',\n\t\t\t\t\t'background-repeat': 'repeat',\n\t\t\t\t\t'background-attachment': 'scroll'\n\t\t\t\t} );\n\n\t\t\t\tcolorPreview.outputColor( 'boldgrid_background_color', 'body', [\n\t\t\t\t\t'background-color', 'text-default'\n\t\t\t\t] );\n\t\t\t}\n\t\t};\n\n\t\tbackgroundRepeatUpdate = function( ) {\n\t\t\t$body.css( {\n\t\t\t\t'background-repeat': api( 'background_repeat' )()\n\t\t\t} );\n\t\t};\n\n\t\tinitValues = function() {\n\t\t\tvar bgAttach, bgImgSize, bgType;\n\n\t\t\t$( '#custom-background-css' ).remove();\n\n\t\t\tbgType = api( 'boldgrid_background_type' )();\n\n\t\t\tif ( 'pattern' === bgType ) {\n\t\t\t\tupdateColorAndPatterns();\n\t\t\t}\n\n\t\t\tif ( 'pattern' !== bgType ) {\n\t\t\t\tbgAttach = api( 'background_attachment' )();\n\t\t\t\tbgImgSize = api( 'boldgrid_background_image_size' )();\n\t\t\t\tbackgroundAttachmentUpdate( bgAttach );\n\t\t\t\tbackgroundSizeUpdate( bgImgSize );\n\t\t\t\tbackgroundPreview.setImage();\n\n\t\t\t\tif ( 'parallax' !== bgAttach ) {\n\t\t\t\t\tsetBackgroundVerticalPosition();\n\t\t\t\t\tsetBackgroundHorizontalPosition();\n\t\t\t\t\tbackgroundRepeatUpdate();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tattributionLinks = function() {\n\t\t\tvar controls;\n\t\t\tapi.bind( 'ready', _.defer( function() {\n\t\t\t\tif ( _.isFunction(  controlApi.section ) ) {\n\t\t\t\t\tcontrols = controlApi.section( 'boldgrid_footer_panel' ).controls();\n\t\t\t\t\t_( controls ).each( function( control ) {\n\t\t\t\t\t\tvar selector,\n\t\t\t\t\t\t\tregex = new RegExp( /^(hide_)+\\w*(_attribution)+$/, 'm' );\n\n\t\t\t\t\t\tif ( regex.test( control.id ) ) {\n\t\t\t\t\t\t\tif ( parseInt( api( control.id )() ) ) {\n\t\t\t\t\t\t\t\tselector = '.' + control.id.replace( 'hide_', '' ).replace( /_/g, '-' ) + '-link';\n\t\t\t\t\t\t\t\t$( selector ).addClass( 'hidden' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tattributionSeparators();\n\t\t\t} ) );\n\t\t};\n\n\t\t/**\n\t\t * Responsible for adjusting the separators in live preview for attribution footer links.\n\t\t */\n\t\tattributionSeparators = function() {\n\t\t\t$( '.attribution-theme-mods > .link' )\n\t\t\t\t.removeClass( 'no-separator' )\n\t\t\t\t.filter( ':visible' )\n\t\t\t\t.last()\n\t\t\t\t.addClass( 'no-separator' );\n\t\t};\n\n\t\tif ( _.isFunction( controlApi.section ) ) {\n\t\t\tattributionControls = controlApi.section( 'boldgrid_footer_panel' ).controls();\n\t\t\t_( attributionControls ).each( function( control ) {\n\t\t\t\tvar selector,\n\t\t\t\t\tregex = new RegExp( /^(hide_)+\\w*(_attribution)+$/, 'm' );\n\n\t\t\t\tif ( regex.test( control.id ) ) {\n\t\t\t\t\tapi( control.id, function( value ) {\n\t\t\t\t\t\tselector = '.' + control.id.replace( /hide_/, '' ).replace( /_/g, '-' ) + '-link';\n\t\t\t\t\t\tvalue.bind( function( to ) {\n\t\t\t\t\t\t\t$( selector ).toggleClass( 'hidden', to );\n\t\t\t\t\t\t\tattributionSeparators();\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tinitValues();\n\t\tattributionLinks();\n\t\tsetupPostEditLink();\n\n\t\t$( '.site-description' ).addClass( window._typographyClasses );\n\n\t\t/**\n\t\t * There's a better way to do this, but I dunno what it is.  This\n\t\t * works for now.  This will just trigger the preview pane to reload\n\t\t * the same page after a user changes their header videos.\n\t\t */\n\t\tapi( 'external_header_video', 'header_video', function( ...args ) {\n\t\t\targs.map( ( control ) => control.bind( () => api.preview.send( 'url', window.location.href ) ) );\n\t\t} );\n\n\t\t/**\n\t\t * Recalculate layouts on font changes.\n\t\t *\n\t\t * @since 2.0.0\n\t\t */\n\t\tapi( 'bgtfw_site_title_typography', 'bgtfw_tagline_typography', ( ...args ) => {\n\t\t\targs.map( ( control ) => {\n\t\t\t\tlet settings = [ 'font-size', 'line-height', 'font-family', 'font-weight' ];\n\t\t\t\tlet update = ( to ) => {\n\t\t\t\t\t_.each( settings, _.once( ( setting ) => control[ setting ] === to[ setting ] || calc() ) );\n\t\t\t\t};\n\t\t\t\tcontrol.bind( _.throttle( update, 250 ) );\n\t\t\t} );\n\t\t} );\n\n\t\tapi( 'bgtfw_site_title_display', value => value.bind( to => {\n\t\t\t$( '.site-title' ).toggleClass( 'screen-reader-text', 'show' !== to );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_tagline_display', value => value.bind( to => {\n\t\t\t$( '.site-description' ).toggleClass( 'screen-reader-text', 'show' !== to );\n\t\t} ) );\n\n\t\tapi( 'boldgrid_color_palette', function( value ) {\n\t\t\tvalue.bind( function( to ) {\n\t\t\t\tvar colors,\n\t\t\t\t\tneutral;\n\n\t\t\t\tcolors = BOLDGRID.Customizer.Util.getInitialPalettes( to );\n\t\t\t\tif ( colors ) {\n\t\t\t\t\tneutral = colors.pop();\n\n\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-neutral', neutral );\n\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-neutral-text-contrast', BOLDGRID.Customizer.Util.getTextContrast( neutral ) );\n\t\t\t\t\t_( colors ).each( function( color, index ) {\n\t\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-' + Math.abs( index + 1 ), color );\n\t\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-' + Math.abs( index + 1 ) + '-text-contrast', BOLDGRID.Customizer.Util.getTextContrast( color ) );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t/**\n\t\t * Update any of the color control's palettes with correct palette from color picker.\n\t\t */\n\t\tapi( 'boldgrid_color_palette', function( value ) {\n\t\t\tvalue.bind( function( to ) {\n\t\t\t\tvar palettes, colors;\n\n\t\t\t\tpalettes = parent.$( '.colors-wrapper' );\n\t\t\t\tcolors = BOLDGRID.Customizer.Util.getInitialPalettes( to );\n\n\t\t\t\t// Update any palettes on open colorpicker instances.\n\t\t\t\tif ( colors ) {\n\t\t\t\t\t_( palettes ).each( function( palette ) {\n\t\t\t\t\t\tvar swatches = $( palette ).find( 'input' );\n\t\t\t\t\t\t_( swatches ).each( function( swatch, index ) {\n\t\t\t\t\t\t\tvar currentVal, newVal, link;\n\t\t\t\t\t\t\tcurrentVal = $( swatch ).val();\n\t\t\t\t\t\t\tif ( 'transparent' !== currentVal ) {\n\t\t\t\t\t\t\t\tnewVal = currentVal.substring( 0, currentVal.indexOf( ':' ) + 1 ) + colors[ index ];\n\t\t\t\t\t\t\t\t$( swatch ).val( newVal );\n\t\t\t\t\t\t\t\t$( swatch ).next().find( '.color-palette-color' ).css( 'background', colors[ index ] ).text( colors[ index ] );\n\n\t\t\t\t\t\t\t\t// Update setting link for control.\n\t\t\t\t\t\t\t\tif ( $( swatch ).is( ':checked' ) ) {\n\t\t\t\t\t\t\t\t\tlink = $( swatch ).data( 'customize-setting-link' );\n\t\t\t\t\t\t\t\t\tif ( ! _.isUndefined( link ) ) {\n\t\t\t\t\t\t\t\t\t\tcontrolApi( link ).set( newVal );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t/* Header Background Color */\n\t\tapi( 'bgtfw_header_color', function( value ) {\n\t\t\tvalue.bind( function() {\n\t\t\t\tcolorPreview.outputColor( 'bgtfw_header_color', '#masthead, #navi', [ 'background-color', 'text-default' ] );\n\t\t\t} );\n\t\t} );\n\n\t\tnew ToggleValue( 'header_container', '#navi, #secondary-menu', 'container', calc );\n\t\tnew ToggleValue( 'bgtfw_blog_page_container', '.blog .site-content, .archive .site-content', 'container', calc );\n\t\tapi( 'bgtfw_fixed_header', value => value.bind( to => {\n\t\t\tdocument.body.className = document.body.className.replace( 'header-slide-in', '' );\n\t\t\tdocument.body.className = document.body.className.replace( 'header-fixed', '' );\n\t\t\tif ( to ) {\n\t\t\t\tif ( 'header-top' === api( 'bgtfw_header_layout_position' )() ) {\n\t\t\t\t\tif ( -1 === document.body.className.indexOf( 'header-slide-in' ) ) {\n\t\t\t\t\t\tdocument.body.className += ' ' + 'header-slide-in';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( -1 === document.body.className.indexOf( 'header-fixed' ) ) {\n\t\t\t\t\t\tdocument.body.className += ' ' + 'header-fixed';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcalc();\n\t\t} ) );\n\n\t\tlet layoutFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)layout-\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\tnew ToggleValue( 'bgtfw_footer_layouts', '#colophon', layoutFn );\n\n\t\t// Setup hamburger menus.\n\t\tlet hamburgerFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)hamburger--\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\tlet hoverFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)hvr-\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\t/**\n\t\t * Customizer always marks home as the current-menu-item.  This will check the query\n\t\t * params of the link in the menu, and compare it to the currently previewed URL and\n\t\t * remove the .current-menu-item classes from links that don't match.  I assume this\n\t\t * should be fixed in core at some point, or we have done something incorrect somewhere,\n\t\t * but for the time being this works.\n\t\t *\n\t\t * @since 2.0.0\n\t\t */\n\t\tlet setupCurrentMenuItems = menuId => {\n\t\t\tvar currents;\n\n\t\t\tif ( 1 === menuId.length ) {\n\t\t\t\tcurrents = $( menuId ).children( '.current-menu-item' );\n\t\t\t} else {\n\t\t\t\tcurrents = $( `#${menuId} > .current-menu-item` );\n\t\t\t}\n\n\t\t\t// Check if it's a parent menu item before removing things.\n\t\t\tif ( currents.length && ! currents.hasClass( 'current-menu-parent' ) ) {\n\t\t\t\tlet links = currents.find( 'a' );\n\t\t\t\tlet regex = new RegExp( '(color-?([\\\\d]|neutral)|transparent)-.?[^\\\\s]+', 'g' );\n\n\t\t\t\t_.each( links, link => {\n\t\t\t\t\tlet current = BOLDGRID.Customizer.Util.getAllUrlParams( _wpCustomizeSettings.url.self );\n\t\t\t\t\tlet href = BOLDGRID.Customizer.Util.getAllUrlParams( $( link ).attr( 'href' ) );\n\t\t\t\t\t! _.isMatch( href, current ) && $( link )\n\t\t\t\t\t\t.parent( 'li' )\n\t\t\t\t\t\t.removeClass( 'current-menu-item' )\n\t\t\t\t\t\t.removeClass( ( index, css ) => {\n\t\t\t\t\t\t\treturn ( css.match( regex ) || [] ).join( ' ' );\n\t\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Get the menu color being used for link color contrast.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param {String} location Menu location.\n\t\t *\n\t\t * @return {String} Name of theme mod to use.\n\t\t */\n\t\tlet menuContrastColor = ( location, menuId ) => {\n\t\t\tlet type = `bgtfw_menu_background_${location}`;\n\t\t\tlet isTransparent = api( type )().includes( 'transparent' );\n\t\t\tif ( isTransparent ) {\n\t\t\t\ttype = 'header';\n\n\t\t\t\tif ( BOLDGRID.CUSTOMIZER.data.menu.footerMenus.includes( location ) ) {\n\t\t\t\t\ttype = 'footer';\n\t\t\t\t}\n\n\t\t\t\ttype = `bgtfw_${type}_color`;\n\t\t\t}\n\n\t\t\tnew ColorPreview().outputColor( type, `#${menuId}`, [ 'background-color' ], isTransparent );\n\t\t};\n\n\t\t// Setup menu controls.\n\t\tfor ( const props of Object.values( _wpCustomizePreviewNavMenusExports.navMenuInstanceArgs ) ) {\n\n\t\t\tif ( props.theme_location ) {\n\n\t\t\t\t// Setup current menu items.\n\t\t\t\tsetupCurrentMenuItems( props.menu_id );\n\n\t\t\t\t// Setup partials.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_hamburger_${props.theme_location}_toggle`, `#${props.menu_id}`, () => {\n\t\t\t\t\tlet id = `nav_menu_instance[${props.args_hmac}]`;\n\t\t\t\t\tif ( wp.customize.selectiveRefresh.partial( id ) ) {\n\n\t\t\t\t\t\t// before triggering a refresh destroy the instance.\n\t\t\t\t\t\t$( `#${props.menu_id}` ).smartmenus( 'destroy' );\n\t\t\t\t\t\twp.customize.selectiveRefresh.partial( id ).refresh();\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t// Setup hamburger menus.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_hamburger_${props.theme_location}`, `#${props.menu_id}-hamburger`, hamburgerFn );\n\n\t\t\t\t// Setup hamburger menu enable/disable.\n\t\t\t\tnew Toggle( `bgtfw_menu_hamburger_${props.theme_location}_toggle`, ( to ) => {\n\n\t\t\t\t\t// If disabled, ensure the hamburger is forced open, and active state is set.\n\t\t\t\t\tlet menu = document.getElementById( `${props.menu_id}-state` );\n\t\t\t\t\tlet hamburger = document.getElementById( `${props.menu_id}-hamburger` );\n\t\t\t\t\tif ( ! to ) {\n\t\t\t\t\t\tif ( ! menu.checked ) {\n\t\t\t\t\t\t\t$( menu ).click();\n\t\t\t\t\t\t\thamburger.classList.remove( 'is-active' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( to ) {\n\t\t\t\t\t\tif ( menu.checked ) {\n\t\t\t\t\t\t\t$( menu ).click();\n\t\t\t\t\t\t\thamburger.classList.remove( 'is-active' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Toggle hidden classes for display.\n\t\t\t\t\t$( `#${props.menu_id}-hamburger, #${props.menu_id}-state` ).toggleClass( 'hidden', ! to ) && calc();\n\t\t\t\t} );\n\n\t\t\t\t// Bind menu items hover effects.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_items_hover_effect_${props.theme_location}`, `#${props.menu_id} > li:not(.current-menu-item)`, hoverFn );\n\n\t\t\t\t// Bind menu background contrast for link colors.\n\t\t\t\tapi( `bgtfw_menu_background_${props.theme_location}`, 'bgtfw_header_color', 'bgtfw_footer_color', ( ...args ) => {\n\t\t\t\t\targs.map( control => control.bind( () => menuContrastColor( props.theme_location, props.menu_id ) ) );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t}\n\n\t\tnew Toggle( 'bgtfw_header_width', calc );\n\t\tnew Toggle( 'bgtfw_footer_headings_color', () => headingsColorOutput( 'bgtfw_footer_headings_color', '.site-footer :not(.bgtfw-widget-row)' ) );\n\t\tnew Toggle( 'blogname', ( to ) => $( '.site-title a' ).text( to ) && calc() );\n\t\tnew Toggle( 'blogdescription', ( to ) => {\n\t\t\t$( '.site-description' ).text( to ).toggleClass( 'invisible', ! to ) && calc();\n\t\t} );\n\n\t\t// Toggle page title wrapper containers.\n\t\tlet toggleTitleFn = ( condition, classes ) => {\n\t\t\tlet body = $( 'body' );\n\t\t\tif ( ! body.hasClass( 'page-header-hidden' ) && ! body.hasClass( 'page-header-shown' ) ) {\n\t\t\t\tfor ( let className of classes ) {\n\t\t\t\t\tif ( body.hasClass( className ) ) {\n\t\t\t\t\t\tbody.toggleClass( 'customizer-page-header-hidden', condition );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tapi( 'bgtfw_pages_title_display', value => value.bind( to => {\n\t\t\tlet condition = 'hide' === to;\n\t\t\ttoggleTitleFn( condition, [ 'page', 'blog', 'archive' ] );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_posts_title_display', value => value.bind( to => {\n\t\t\tlet condition = 'hide' === to && 'none' === api( 'bgtfw_posts_meta_display' )();\n\t\t\ttoggleTitleFn( condition, [ 'single', 'post-template-default' ] );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_posts_meta_display', value => value.bind( to => {\n\t\t\tlet condition = 'none' === to && 'hide' === api( 'bgtfw_posts_title_display' )();\n\t\t\ttoggleTitleFn( condition, [ 'single', 'post-template-default' ] );\n\t\t} ) );\n\n\t\tnew Toggle( 'boldgrid_background_vertical_position', setBackgroundVerticalPosition );\n\t\tnew Toggle( 'boldgrid_background_horizontal_position', setBackgroundHorizontalPosition );\n\t\tnew Toggle( 'boldgrid_background_pattern', updateColorAndPatterns );\n\t\tnew Toggle( 'boldgrid_background_color', updateColorAndPatterns );\n\n\t\tnew Toggle( 'boldgrid_background_type', backgroundTypeUpdate );\n\t\tnew Toggle( 'background_attachment', backgroundAttachmentUpdate );\n\t\tnew Toggle( 'background_repeat', backgroundRepeatUpdate );\n\t\tnew Toggle( 'boldgrid_background_image_size', backgroundSizeUpdate );\n\n\t\tlet setHeaderPosition = ( to ) => {\n\t\t\tif ( 'header-top' !== to ) {\n\t\t\t\tparent.kirkiSetSettingValue.set( 'bgtfw_header_width', api( 'bgtfw_header_width' )() );\n\t\t\t}\n\t\t\tcalc();\n\t\t};\n\n\t\tnew ToggleValue( 'bgtfw_header_layout_position', 'body', 'header-top header-left header-right', setHeaderPosition );\n\n\t\t$( document ).on( 'customize-preview-menu-refreshed', function( event, menu ) {\n\t\t\t$.each( menu.newContainer.closest( '[data-is-parent-column]' ), function() {\n\t\t\t\tBOLDGRID.Customizer.Widgets.updatePartial( $( this ) );\n\t\t\t\tif ( 'secondary-menu' === menu.container_id && '' !== api( 'bgtfw_header_container' )() ) {\n\t\t\t\t\tdocument.getElementById( menu.container_id ).classList.add( api( 'bgtfw_header_container' )() );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t// Reinitialize widgets when our sidebar areas are re-rendered.\n\t\tapi.selectiveRefresh.bind( 'partial-content-rendered', function( placement ) {\n\n\t\t\t// Only update when the dynamic widget sidebars are rerendered.\n\t\t\tif ( 'boldgrid_header_widgets' === placement.partial.id || 'boldgrid_footer_widgets' === placement.partial.id ) {\n\t\t\t\tBOLDGRID.Customizer.Widgets.updatePartial( placement.container );\n\t\t\t}\n\n\t\t\tcalc();\n\t\t} );\n\n\t\tBOLDGRID.Customizer.Widgets.updatePartial = function( selector ) {\n\n\t\t\t// Comment reply link.\n\t\t\tselector.find( '.comment-reply-link' )\n\t\t\t\t.addClass( 'btn button-primary color1-text-contrast' )\n\t\t\t\t.css( 'transition', 'all .5s' );\n\n\t\t\t// The WordPress Default Widgets.\n\t\t\tselector.find( '.widget_rss ul' ).addClass( 'media-list' );\n\t\t\tselector.find( '.widget_meta ul, .widget_recent_entries ul, .widget_archive ul, .widget_categories ul, .widget_nav_menu ul, .widget_pages ul' ).addClass( 'nav' );\n\t\t\tselector.find( '.widget_recent_comments ul#recentcomments' )\n\t\t\t\t.css( { 'list-style': 'none', 'padding-left': '0' } );\n\t\t\tselector.find( '.widget_recent_comments ul#recentcomments li' ).css( 'padding', '5px 15px' );\n\t\t\tselector.find( '.sidebar select, select[name=\"archive-dropdown\"]' ).addClass( 'form-control' );\n\t\t\tselector.find( '.sidebar .button' ).removeClass( 'button' ).addClass( 'btn button-primary' );\n\n\t\t\t// WooCommerce Widgets.\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).css( 'display', 'none' );\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).css( 'display', 'block' );\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).addClass( 'color1-background-color' ).children().addClass( 'color2-background-color' );\n\n\t\t\t// Buttons.\n\t\t\tselector.find( '.button' )\n\t\t\t\t.removeClass( 'button' )\n\t\t\t\t.addClass( 'btn button-primary' );\n\t\t\tselector.find( '.button.alt' )\n\t\t\t\t.removeClass( 'button alt' )\n\t\t\t\t.addClass( 'btn button-secondary' );\n\t\t};\n\n\t\t/**\n\t\t * Before displaying the partal content for nav menu items on the page we want to\n\t\t * destroy the existing instance of our menus tied to the partial because when the\n\t\t * partial is rendered, we will re-initialize the individual menu, and would no\n\t\t * longer have reference back to the initial instance referenced.\n\t\t */\n\t\tapi.selectiveRefresh.bind( 'render-partials-response', function( placement ) {\n\n\t\t\t// Destroy menu instances.\n\t\t\tif ( ! _.isUndefined( placement.nav_menu_instance_args ) ) {\n\t\t\t\t_.each( placement.nav_menu_instance_args, ( instance ) => $( `#${instance.menu_id}` ).smartmenus( 'destroy' ) );\n\t\t\t}\n\t\t} );\n\n\t\t/**\n\t\t * When menu partials are refreshed, we need to ensure that we update the new\n\t\t * container, and initialize a new instance of our menus for proper funcitonality.\n\t\t *\n\t\t * The delay for setupCurrentMenuItems() is important because after\n\t\t * customize-preview-menu-refreshed is trigged _wpCustomizeSettings reflects a\n\t\t * different page ID, so we wait the full duration of the selectiveRefresh event\n\t\t * before attempting to correct the menu classes.\n\t\t */\n\t\t$( document ).on( 'customize-preview-menu-refreshed', function( e, params ) {\n\t\t\tif ( ! _.isUndefined( BoldGrid ) ) {\n\t\t\t\tif ( ! _.isUndefined( BoldGrid.standard_menu_enabled ) ) {\n\n\t\t\t\t\t// Reset current-menu-item classes in customizer.\n\t\t\t\t\t_.delay( () => setupCurrentMenuItems( params.newContainer ), _wpCustomizeSettings.timeouts.selectiveRefresh );\n\n\t\t\t\t\t// Initialize SmartMenu on the updated container and params.\n\t\t\t\t\tif ( ! _.isUndefined( params.wpNavArgs.theme_location ) && ! _.isEmpty( params.wpNavArgs.theme_location ) ) {\n\t\t\t\t\t\tBoldGrid.standard_menu_enabled.init( params.newContainer );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n} )( jQuery );\n","/* esversion: 6 */\nconst api = wp.customize;\n\n/**\n * This class is responsible for managing the expand and collapse\n * triggers for panels and sections in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class Toggle {\n\n\t/**\n\t * Constructor\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} id ID of the control to bind to.\n\t * @param {String} fn Do something with updated value.\n\t */\n\tconstructor( id = null, fn = null ) {\n\t\tObject.assign( this, { id, fn } );\n\t\t$( () => this._onLoad() );\n\t}\n\n\t/**\n\t * Initialize type.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindControl() {\n\t\tapi( this.id, ( value ) => value.bind( ( to ) => 'function' === typeof this.fn ? this.fn.call( this, to ) : this.bound( to ) ) );\n\t}\n\n\t/**\n\t * Onload event.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\t\tthis._bindControl();\n\t}\n\n\t/**\n\t * Noop\n\t *\n\t * @since 2.0.0\n\t */\n\tbound() {}\n}\n\nexport default Toggle;\n","/* global _wpCustomizePreviewNavMenusExports:false, BOLDGRID:false */\nimport PaletteSelector from './palette-selector';\nimport { Preview as PreviewUtility } from '../preview';\n\nexport class Preview  {\n\n\tconstructor() {\n\t\tthis.previewUtility = new PreviewUtility();\n\n\t\tthis.classControls = [\n\t\t\t{\n\t\t\t\tname: 'bgtfw_footer_color',\n\t\t\t\tselector: '#colophon, .footer-content',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_tagline_color',\n\t\t\t\tselector: '.site-description',\n\t\t\t\tproperties: [ 'color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_site_title_color',\n\t\t\t\tselector: '.site-title',\n\t\t\t\tproperties: [ 'color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_post_background_color',\n\t\t\t\tselector: '.palette-primary.archive .post, .palette-primary.blog .post',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_post_header_title_color',\n\t\t\t\tselector: '.archive .post .entry-title .link, .blog .post .entry-title .link',\n\t\t\t\tproperties: [ 'color', 'color-hover' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_header_background_color',\n\t\t\t\tselector: '.palette-primary.archive .post .entry-header, .palette-primary.blog .post .entry-header',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_global_title_background_color',\n\t\t\t\tselector: '.page-header',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_global_title_color',\n\t\t\t\tselector: '.page-header .entry-title .link, .page-header .page-title .link',\n\t\t\t\tproperties: [ 'color', 'color-hover' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_footer_links',\n\t\t\t\tselector: '.footer-content',\n\t\t\t\tproperties: [ 'link-color' ]\n\t\t\t}\n\t\t];\n\t}\n\n\t/**\n\t * Class initialized.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {Preview} Class instance.\n\t */\n\tinit() {\n\t\t$( () => this._onLoad() );\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Handles front-end color changes in previewer.\n\t *\n\t * This will add classes for color changes to elements during a live preview.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param string themeMod Theme mod to use for retrieving a background color.\n\t * @param string selector CSS selector to apply classes to.\n\t * @param array  list of properties to add.\n\t */\n\toutputColor( themeMod, selector, properties, isTransparent ) {\n\t\tlet colorClassPrefix,\n\t\t\t$selector = $( selector ),\n\t\t\tregex = new RegExp( '(color-?([\\\\d]|neutral)|transparent)-(' + properties.join( '|' ) + ')(\\\\s+|$)', 'g' );\n\n\t\tthemeMod = parent.wp.customize( themeMod )();\n\n\t\tif ( ! themeMod || 'none' === themeMod ) {\n\t\t\tthemeMod = '';\n\t\t}\n\n\t\t$selector.removeClass( ( index, css ) => {\n\t\t\treturn ( css.match( regex ) || [] ).join( ' ' );\n\t\t} );\n\n\t\t// Get class prefix.\n\t\tcolorClassPrefix = new PaletteSelector().getColorNumber( themeMod );\n\n\t\t// Add all classes.\n\t\t$selector.addClass( _.map( properties, ( property ) => {\n\t\t\tlet prefix = colorClassPrefix;\n\n\t\t\t// If neutral or link-color, do not remove color hyphen.\n\t\t\tif ( -1 === colorClassPrefix.indexOf( 'neutral' ) && -1 === property.indexOf( 'link-color' ) ) {\n\t\t\t\tprefix = colorClassPrefix.replace( '-', '' );\n\t\t\t}\n\n\t\t\treturn prefix + '-' + property;\n\t\t} ).join( ' ' ) );\n\n\t\tif ( isTransparent ) {\n\t\t\t$selector.addClass( _.map( properties, ( property ) => {\n\t\t\t\tlet prefix = colorClassPrefix;\n\n\t\t\t\t// If neutral or link-color, do not remove color hyphen.\n\t\t\t\tif ( -1 === colorClassPrefix.indexOf( 'neutral' ) && -1 === property.indexOf( 'link-color' ) ) {\n\t\t\t\t\tprefix = colorClassPrefix.replace( '-', '' );\n\t\t\t\t}\n\n\t\t\t\treturn prefix + '-' + property + ' transparent-' + property;\n\t\t\t} ).join( ' ' ) );\n\t\t}\n\t}\n\n\t/**\n\t * Get the css used for headin colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} to Them mod value.\n\t * @return {string}    CSS for headings.\n\t */\n\tgetHeadingCSS( to ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\n\t\tlet css = '',\n\t\t\theadingSelectors = [];\n\n\t\tif ( color ) {\n\t\t\theadingSelectors = this.getHeadingColorSelectors().join( ', ' );\n\n\t\t\tcss = `\n\t\t\t\t${ headingSelectors } {\n\t\t\t\t\tcolor: ${ color };\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get a list of heading selectors from the global.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {array} list of selectors.\n\t */\n\tgetHeadingColorSelectors() {\n\t\tconst selectors = [];\n\n\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( value, key ) {\n\t\t\tif ( 'headings' === value.type ) {\n\t\t\t\tselectors.push( key );\n\t\t\t}\n\t\t} );\n\n\t\treturn selectors;\n\t}\n\n\t/**\n\t * Use the theme mod saved for a heading color to set the heading colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetHeadingColors() {\n\t\tconst css = this.getHeadingCSS( wp.customize( 'bgtfw_headings_color' )() );\n\t\tthis.previewUtility.updateDynamicStyles( 'bgtfw_headings_color', css );\n\t}\n\n\t/**\n\t * Get Hamburger menu CSS.\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetHamburgerCSS( to, menuId ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\t\tlet css = `\n\t\t.${menuId}-btn .hamburger-inner,\n\t\t.${menuId}-btn .hamburger-inner::before,\n\t\t.${menuId}-btn .hamburger-inner::after {\n\t\t\tbackground-color: ${color};\n\t\t}`;\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get active link color CSS.\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetActiveLinkColor( to, menuId ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\t\tlet css = `\n\t\t#${menuId} .current-menu-item > a,\n\t\t#${menuId} .current-menu-ancestor > a,\n\t\t#${menuId} .current-menu-parent > a {\n\t\t\tcolor: ${color};\n\t\t}`;\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get supplementary menu color CSS.\n\t *\n\t * @param {String} location Menu location for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetMenuColorsCSS( location ) {\n\t\tlet type = `bgtfw_menu_background_${location}`;\n\t\tlet inFooter = false;\n\n\t\tif ( wp.customize( type )().includes( 'transparent' ) || _.isUndefined( wp.customize( type )() ) ) {\n\t\t\ttype = 'header';\n\n\t\t\tif ( BOLDGRID.CUSTOMIZER.data.menu.footerMenus.includes( location ) ) {\n\t\t\t\ttype = 'footer';\n\t\t\t\tinFooter = true;\n\t\t\t}\n\n\t\t\ttype = `bgtfw_${type}_color`;\n\t\t}\n\n\t\tlet color = wp.customize( type )();\n\n\t\tlet paletteSelector = new PaletteSelector();\n\n\t\tlet colorVariable = paletteSelector.getColor( color );\n\n\t\tcolor = paletteSelector.getColor( color, true );\n\n\t\tlet alpha = parent.net.brehaut.Color( color );\n\t\tlet css = '';\n\n\t\tlocation = location.replace( /_/g, '-' );\n\n\t\tif ( ! inFooter ) {\n\t\t\tcss += `.header-left #main-menu, .header-right #main-menu { background-color: ${alpha}; }`;\n\t\t}\n\n\t\tcss += '@media (min-width: 768px) {';\n\t\tcss += `#${location}-menu.sm-clean ul {background-color: ${colorVariable};}`;\n\t\tcss += `#${location}-menu.sm-clean ul a, #${location}-menu.sm-clean ul a:hover, #${location}-menu.sm-clean ul a:focus, #${location}-menu.sm-clean ul a:active, #${location}-menu.sm-clean ul a.highlighted, #${location}-menu.sm-clean span.scroll-up, #${location}-menu.sm-clean span.scroll-down, #${location}-menu.sm-clean span.scroll-up:hover, #${location}-menu.sm-clean span.scroll-down:hover {background-color: ${alpha};}`;\n\t\tcss += `#${location}-menu.sm-clean ul { border: 1px solid ${alpha};}`;\n\t\tcss += `#${location}-menu.sm-clean > li > ul:before, #${location}-menu.sm-clean > li > ul:after { border-color: transparent transparent ${colorVariable} transparent;}`;\n\t\tcss += '}';\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set supplementary menu colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Menu location for nav menu instance.\n\t */\n\tsetMenuColors( location ) {\n\t\tlet css = this.getMenuColorsCSS( location );\n\t\tthis.previewUtility.updateDynamicStyles( `menu-colors-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t */\n\tgetHoverCSS( location ) {\n\n\t\tconst color = new PaletteSelector().getColor( wp.customize( `bgtfw_menu_items_hover_color_${location}` )() );\n\t\tconst backgroundColor = new PaletteSelector().getColor( wp.customize( `bgtfw_menu_items_hover_background_${location}` )() );\n\t\tlet css = BOLDGRID.CUSTOMIZER.data.hoverColors;\n\n\t\tlocation = location.replace( /_/g, '-' );\n\n\t\tcss = css.replace( /%1\\$s/g, `#${location}-menu` );\n\t\tcss = css.replace( /%2\\$s/g, backgroundColor );\n\t\tcss = css.replace( /%3\\$s/g, color );\n\t\tcss = css.replace( /%4\\$s/g, backgroundColor );\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set the hamburger colors for menus.\n\t *\n\t * @since 2.0.0\n\t * @param {Object} props Properties assigned for a nav menu instance.\n\t */\n\tsetHamburgerColors( location, menuId ) {\n\t\tlet to = wp.customize( `bgtfw_menu_hamburger_${location}_color` )();\n\t\tlet css = this.getHamburgerCSS( to, menuId );\n\t\tthis.previewUtility.updateDynamicStyles( `bgtfw_menu_hamburger_${location}_color`, css );\n\t}\n\n\t/**\n\t * Set the hover colors for menu items.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Set hover colors for menu items.\n\t */\n\tsetHoverColors( location ) {\n\t\tlet css = this.getHoverCSS( location );\n\t\tthis.previewUtility.updateDynamicStyles( `hover-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t * Set active menu item link colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Location of nav menu instance.\n\t * @param {String} menuId   Unique ID for nav menu instance.\n\t */\n\tsetActiveLinkColor( location, menuId ) {\n\t\tlet mod = `bgtfw_menu_items_active_link_color_${location}`;\n\t\tlet to = wp.customize( mod )();\n\t\tlet css = this.getActiveLinkColor( to, menuId );\n\t\tthis.previewUtility.updateDynamicStyles( `active-link-color-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t * Set dynamic menu color configs.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Location of nav menu instance.\n\t * @param {String} menuId   Unique ID for nav menu instance.\n\t */\n\tsetMenuConfigs( location, menuId ) {\n\t\tthis.classControls.push(\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_border_color_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_border_color_${location}`,\n\t\t\t\tselector: `#${menuId} > li`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_background_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'background-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_link_color_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'link-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_active_link_background_${location}`,\n\t\t\t\tselector: `#${menuId} > li.current-menu-item`,\n\t\t\t\tproperties: [ 'background-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_active_link_border_color_${location}`,\n\t\t\t\tselector: `#${menuId} > li.current-menu-item`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Set the overlay colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetHeaderOverlay() {\n\t\tconst selector = new PaletteSelector(),\n\t\t\tcolor = selector.getColor( wp.customize( 'bgtfw_header_overlay_color' )(), true ),\n\t\t\talpha = wp.customize( 'bgtfw_header_overlay_alpha' )(),\n\t\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\t\trgba = brehautColor.setAlpha( alpha ).toString();\n\n\t\tlet styles = '#wp-custom-header::after{ display: none; }';\n\t\tif ( wp.customize( 'bgtfw_header_overlay' )() ) {\n\t\t\tstyles = `\n\t\t\t\t#wp-custom-header::after {\n\t\t\t\t\tbackground-color: ${rgba} !important;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\tthis.previewUtility.updateDynamicStyles( 'bgtfw-header-overlay-inline-css', styles );\n\t}\n\n\t/**\n\t * Set .entry-header colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetPageTitles( themeMod, selectors ) {\n\t\tconst selector = new PaletteSelector(),\n\t\tcolor = selector.getColor( wp.customize( themeMod )(), true ),\n\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\tupdatedColor = brehautColor.setAlpha( 0.7 ).toString();\n\n\t\tlet parse = ( string ) => {\n\t\t\tvar token = /((?:[^\"']|\".*?\"|'.*?')*?)([(,)]|$)/g;\n\t\t\treturn ( function recurse() {\n\t\t\t\tvar result;\n\t\t\t\tfor ( let array = [];; ) {\n\t\t\t\t\tresult = token.exec( string );\n\t\t\t\t\tif ( '(' === result[2] ) {\n\t\t\t\t\t\tarray.push( result[1].trim() + '(' + recurse().join( ', ' ) + ')' );\n\t\t\t\t\t\tresult = token.exec( string );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarray.push( result[1].trim() );\n\t\t\t\t\t}\n\t\t\t\t\tif ( ',' !== result[2] ) {\n\t\t\t\t\t\treturn array;\n\t\t\t\t\t} else if ( ',' === result[2] && '%' === result[1][ result[1].length - 1 ] ) {\n\t\t\t\t\t\tarray[ array.length - 1 ] += result[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} )( );\n\t\t};\n\n\t\tlet colorRegex = /rgba\\(\\s?([0-9]+),\\s?([0-9]+),\\s?([0-9]+),\\s?([0-9|.]+)\\s?\\)/g;\n\t\tlet headers = $( selectors );\n\n\t\t_.each( headers, function( header ) {\n\t\t\theader = $( header );\n\n\t\t\tlet background = header.css( 'background-image' );\n\t\t\tlet updatedBackground = false;\n\n\t\t\t// Parse background-image properties into an array.\n\t\t\tlet props = parse( background );\n\n\t\t\t// Check for linear-gradient being applied.\n\t\t\tlet linearGradient = props.filter( prop => prop.includes( 'linear-gradient' ) );\n\n\t\t\t// Replace the new color in gradient.\n\t\t\tif ( 0 < linearGradient.length && colorRegex.test( linearGradient[0] ) ) {\n\t\t\t\tlet newLinearGradient = linearGradient[0].replace( /\\s+/g, '' );\n\t\t\t\tnewLinearGradient = newLinearGradient.replace( colorRegex, updatedColor );\n\t\t\t\tupdatedBackground = background.replace( linearGradient[0], newLinearGradient );\n\t\t\t} else {\n\t\t\t\tlet hasImage = props.filter( prop => prop.includes( 'url(' ) );\n\n\t\t\t\t// If a url is specified, then construct a new linear-gradient if one wasn't found.\n\t\t\t\tif ( hasImage ) {\n\t\t\t\t\tupdatedBackground = 'linear-gradient(' + updatedColor + ', ' + updatedColor + '), ' + background;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update the background-image property.\n\t\t\tif ( updatedBackground ) {\n\t\t\t\theader.css( 'background-image', updatedBackground );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Loop over registered nav menu instances and their arguments\n\t * to handle the CSS color controls for hamburgers on each.\n\t *\n\t * @since 2.0.0\n\t */\n\tmenus() {\n\t\tfor ( const props of Object.values( _wpCustomizePreviewNavMenusExports.navMenuInstanceArgs ) ) {\n\t\t\tif ( props.theme_location ) {\n\n\t\t\t\t// Set menu border colors.\n\t\t\t\tthis.setMenuConfigs( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set Defaults.\n\t\t\t\tthis.setHamburgerColors( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set Defaults.\n\t\t\t\tthis.setHoverColors( props.theme_location );\n\n\t\t\t\t// Set active link colors.\n\t\t\t\tthis.setActiveLinkColor( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set supplementary menu CSS.\n\t\t\t\tthis.setMenuColors( props.theme_location );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindHoverColors( props.theme_location );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindMenuColors( props.theme_location );\n\n\t\t\t\t// Setup active link color even handlers.\n\t\t\t\tthis._bindActiveLinkColors( props.theme_location, props.menu_id );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindHamburgerColors( props.theme_location, props.menu_id );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Events to run when the Dom loads.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\n\t\t// Set Defaults.\n\t\tthis.setHeadingColors();\n\t\tthis.menus();\n\n\t\t// Setup event handlers.\n\t\tthis._bindConfiguredControls();\n\t\tthis._bindHeadingColor();\n\t\tthis._bindHeaderOverlay();\n\t\tthis._bindEntryHeader();\n\t\tthis._bindGlobalPageTitles();\n\t}\n\n\t/**\n\t * Bind the event of the .entry-headers changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindEntryHeader() {\n\t\twp.customize( 'bgtfw_blog_header_background_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setPageTitles( 'bgtfw_blog_header_background_color', '.has-post-thumbnail .entry-header:not(.page-header)' ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the .entry-headers changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindGlobalPageTitles() {\n\t\twp.customize( 'bgtfw_global_title_background_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setPageTitles( 'bgtfw_global_title_background_color', '.page-header.has-featured-image-header' ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the overlay changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHeaderOverlay() {\n\t\twp.customize( 'bgtfw_header_overlay_alpha', 'bgtfw_header_overlay', 'bgtfw_header_overlay_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setHeaderOverlay() ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the overlay changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindMenuColors( location ) {\n\t\twp.customize( `bgtfw_menu_background_${location}`, 'bgtfw_header_color', 'bgtfw_footer_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setMenuColors( location ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind all color class controls given through class property.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindConfiguredControls() {\n\t\tfor ( const control of this.classControls ) {\n\t\t\twp.customize( control.name, ( value ) => {\n\t\t\t\tvalue.bind( () => this.outputColor( control.name, control.selector, control.properties ) );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Bind the change events for heading colors changing.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHeadingColor() {\n\t\twp.customize( 'bgtfw_headings_color', ( value ) => {\n\t\t\tvalue.bind( () => this.setHeadingColors() );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the change events for hamburger colors\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHamburgerColors( location, menuId ) {\n\t\twp.customize( `bgtfw_menu_hamburger_${location}_color`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHamburgerColors( location, menuId ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the change events for hamburger colors\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHoverColors( location ) {\n\t\twp.customize( `bgtfw_menu_items_hover_color_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHoverColors( location ) );\n\t\t} );\n\t\twp.customize( `bgtfw_menu_items_hover_background_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHoverColors( location ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind active link color settings\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindActiveLinkColors( location, menuId ) {\n\t\twp.customize( `bgtfw_menu_items_active_link_color_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setActiveLinkColor( location, menuId ) );\n\t\t} );\n\t}\n}\n\nexport default Preview;\n","var $ = jQuery;\n\nexport class Preview {\n\n\t/**\n\t * Create or update stylesheet in the head of the preview iframe.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} id  ID of the style tag.\n\t * @param  {string} css CSS for the style tag.\n\t * @return {jQuery}     DOM element.\n\t */\n\tupdateDynamicStyles( id, css ) {\n\t\tconst $head = $( 'head' );\n\t\tlet $selector = $( '#' + id );\n\n\t\tif ( $selector.length ) {\n\t\t\t$selector.html( css );\n\t\t} else {\n\t\t\t$selector = $( '<style type=\"text/css\" id=\"' + id + '\">' );\n\t\t\t$selector.html( css );\n\t\t\t$head.append( $selector );\n\t\t}\n\n\t\treturn $selector;\n\t}\n\n}\n","/* global BOLDGRID:false */\nconst api = wp.customize;\n\n/**\n * This class is responsible for managing the typograpy\n * live preview in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class Preview {\n\n\t/**\n\t * Initialize class and bind events.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\t$( () => this._bindTypography() );\n\t}\n\n\t/**\n\t * Handle the toggle of classes on an element.\n\t *\n\t * @since 2.0.0\n\t * @param {Mixed} to New value control is updating to.\n\t * @return {String} css CSS to add to page.\n\t */\n\tgetCSS( to ) {\n\t\tif ( _.isUndefined( to ) ) {\n\t\t\tto = api( 'bgtfw_headings_typography' )();\n\t\t}\n\n\t\t// JSON returned sometimes.\n\t\tif ( _.isString( to ) ) {\n\t\t\tto = JSON.parse( to );\n\t\t}\n\n\t\tlet base = api( 'bgtfw_headings_font_size' )();\n\t\tlet unit = 'px';\n\n\t\t// Build CSS.\n\t\tlet css = '';\n\n\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( selector, rule ) {\n\t\t\tvar val;\n\t\t\tif ( 'headings' === selector.type ) {\n\t\t\t\tval = base * selector.amount;\n\t\t\t\tif ( 'ceil' === selector.round ) {\n\t\t\t\t\tval = Math.ceil( val );\n\t\t\t\t}\n\t\t\t\tif ( 'floor' === selector.round ) {\n\t\t\t\t\tval = Math.floor( val );\n\t\t\t\t}\n\t\t\t\tcss += rule + '{font-size:' + val + unit + ';}';\n\t\t\t}\n\t\t} );\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set CSS in the innerHTML of stylesheet or create a new stylesheet to\n\t * append to head.\n\t *\n\t * @since 2.0.0\n\t */\n\taddStyle( css ) {\n\t\tif ( document.getElementById( 'bgtfw-headings-typography' ) ) {\n\t\t\tdocument.getElementById( 'bgtfw-headings-typography' ).innerHTML = css;\n\t\t} else {\n\t\t\tlet head = document.head || document.getElementsByTagName( 'head' )[0];\n\t\t\tlet style = document.createElement( 'style' );\n\n\t\t\tstyle.type = 'text/css';\n\t\t\tstyle.id = 'bgtfw-headings-typography';\n\n\t\t\tif ( style.styleSheet ) {\n\t\t\t\tstyle.styleSheet.cssText = css;\n\t\t\t} else {\n\t\t\t\tstyle.appendChild( document.createTextNode( css ) );\n\t\t\t}\n\n\t\t\thead.appendChild( style );\n\t\t}\n\n\t\t// Check if kirki's post-message already applied inline CSS and move our CSS after for override.\n\t\tif ( document.getElementById( 'kirki-postmessage-bgtfw_headings_typography' ) ) {\n\t\t\t$( '#bgtfw-headings-typography' ).insertAfter( '#kirki-postmessage-bgtfw_headings_typography' );\n\t\t}\n\t}\n\n\t/**\n\t * Bind Typography Controls.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindTypography() {\n\t\tthis.addStyle( this.getCSS( api( 'bgtfw_headings_typography' )() ) );\n\t\tapi( 'bgtfw_headings_typography', value => value.bind( to => this.addStyle( this.getCSS( to ) ) ) );\n\t\tapi( 'bgtfw_headings_font_size', value => value.bind( to => this.addStyle( this.getCSS( to ) ) ) );\n\t}\n}\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_links_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\tlinksColorSetting;\n\n\t\t\tlinksColorSetting = api( partial.params.primarySetting );\n\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar colorClass = new PaletteSelector().getColorNumber( linksColorSetting.get() );\n\n\t\t\t\t$( placement.partial.params.selector ).parent( '.sidebar' ).removeClass( function( index, css ) {\n\t\t\t\t\treturn ( css.match( /(^|\\s)color-?([\\d]|neutral)-(link)\\S+/g ) || [] ).join( ' ' );\n\t\t\t\t} ).addClass( colorClass + '-link-color' );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { Preview } from '../preview';\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_headings_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\t\theadingsColorSetting;\n\n\t\t\theadingsColorSetting = api( partial.params.primarySetting );\n\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar color = new PaletteSelector().getColor( headingsColorSetting.get() ),\n\t\t\t\t\tid = 'dynamic-sidebar-' + placement.partial.id.match( /\\[(.*?)\\]/ ).pop() + '-css';\n\n\t\t\t\tnew Preview().updateDynamicStyles( id, `\n\t\t\t\t\t${placement.partial.params.selector} {\n\t\t\t\t\t\tcolor: ${color};\n\t\t\t\t\t}\n\t\t\t\t` );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n"],"sourceRoot":""}