{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./assets/js/customizer/color/palette-selector.js","webpack:///./assets/js/customizer/typography/preview.js","webpack:///./assets/js/customizer/widget-meta/links-color-partial.js","webpack:///./assets/js/customizer/widget-meta/headings-color-partial.js","webpack:///./assets/js/customizer/widget-meta/background-color-partial.js","webpack:///./assets/js/customizer/widget-meta/index.js","webpack:///./assets/js/customizer/toggle/value.js","webpack:///./assets/js/customizer/typography/link-preview.js","webpack:///./assets/js/customizer/background/preview.js","webpack:///./assets/js/customizer/header-layout/preview.js","webpack:///./assets/js/customizer/generic/preview.js","webpack:///./assets/js/customizer/customizer.js","webpack:///./assets/js/customizer/toggle/toggle.js","webpack:///./assets/js/customizer/color/preview.js","webpack:///./assets/js/customizer/preview.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","PaletteSelector","themeMod","arguments","length","undefined","this","getVariableValue","getColorVariable","colorNumber","getColorNumber","concat","substring","indexOf","api","wp","customize","Preview","_this","$","_bindTypography","to","_","isUndefined","isString","JSON","parse","base","css","each","BOLDGRID","CUSTOMIZER","data","customizerOptions","typography","selectors","selector","rule","val","type","amount","round","Math","ceil","floor","document","getElementById","innerHTML","head","getElementsByTagName","style","createElement","id","styleSheet","cssText","appendChild","createTextNode","insertAfter","_this2","addStyle","getCSS","_paletteSelector","selectiveRefresh","partialConstructor","sidebar_meta_links_color","Partial","extend","refresh","linksColorSetting","params","primarySetting","placements","placement","colorClass","partial","parent","removeClass","index","match","join","addClass","Deferred","resolve","promise","_preview","sidebar_meta_headings_color","headingsColorSetting","color","getColor","pop","updateDynamicStyles","sidebar_meta_background_color","backgroundColorSetting","colorClassPrefix","container","replace","_backgroundColorPartial","keys","forEach","_headingsColorPartial","_linksColorPartial","_toggle","_interopRequireDefault","ToggleValue","element","remove","cb","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","apply","assign","_assertThisInitialized","Base","colorLib","window","net","brehaut","LinkPreview","previewUtility","PreviewUtility","paletteSelector","prefixes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","prefix","getSelectors","controls","push","_len","args","Array","_key","map","control","updateStyles","_iterator","iterator","next","done","err","return","choices","isFunction","shiftedColorVal","linkColor","_getColor","linkColorHover","decoration","_getDecoration","decorationHover","parseInt","Color","lightenByAmount","toCSS","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","inlineName","setting","colorPreview","ColorPreview","init","$body","_onLoad","backgroundImage","_getOverlayCss","outputColor","_setupImageChange","alpha","rgba","setAlpha","toString","setImage","setBodyClasses","_setupResize","resize","debounce","BoldGrid","custom_header","calc","preview","wpControl","bindControl","_preview2","_preview3","_preview4","_linkPreview","_value","_preview5","controlApi","includes","uid","sections","items","item","k","isEmpty","display","Customizer","Util","Widgets","bgtfwIsJSON","string","test","getAllUrlParams","url","queryString","split","location","search","slice","obj","arr","a","paramNum","paramName","v","paramValue","toLowerCase","bgtfwParseJSON","isObject","error","getTextContrast","brightness","getRed","getGreen","getBlue","lightText","colors","light_text","darkText","dark_text","abs","getInitialPalettes","option","palette","activePalette","state","palettes","$customStyles","backgroundPreview","BackgroundPreview","GenericPreview","bindEvents","HeaderPreview","TypographyPreview","updateColorAndPatterns","headingsColorOutput","setupPostEditLink","backgroundTypeUpdate","backgroundSizeUpdate","backgroundAttachmentUpdate","setBackgroundVerticalPosition","setBackgroundHorizontalPosition","backgroundRepeatUpdate","initValues","attributionLinks","attributionSeparators","attributionControls","on","attr","background-image","background-size","background-repeat","background-attachment","pluginStellarData","background-position","stellar","horizontalScrolling","destroy","backgroundPos","section","not","backgroundPattern","bgAttach","bgImgSize","bgType","defer","RegExp","filter","last","toggleClass","_typographyClasses","send","href","_len2","_key2","settings","throttle","once","neutral","documentElement","setProperty","swatches","find","swatch","currentVal","newVal","link","text","is","set","body","className","header_slide_in","hamburgerFn","hoverFn","setupCurrentMenuItems","menuId","currents","children","hasClass","links","regex","current","_wpCustomizeSettings","self","isMatch","_arr","values","_wpCustomizePreviewNavMenusExports","navMenuInstanceArgs","props","theme_location","menu_id","args_hmac","smartmenus","Toggle","menu","hamburger","checked","click","classList","_len3","_key3","isTransparent","footerMenus","menuContrastColor","_i","toggleTitleFn","condition","classes","kirkiSetSettingValue","event","newContainer","closest","updatePartial","container_id","add","list-style","padding-left","nav_menu_instance_args","instance","e","standard_menu_enabled","delay","timeouts","wpNavArgs","fn","bound","_bindControl","classControls","properties","$selector","headingSelectors","getHeadingColorSelectors","getHeadingCSS","inFooter","colorVariable","getMenuColorsCSS","backgroundColor","hoverColors","getHamburgerCSS","getHoverCSS","mod","getActiveLinkColor","styles","updatedColor","colorRegex","headers","header","background","updatedBackground","token","recurse","result","array","exec","trim","linearGradient","prop","newLinearGradient","setMenuConfigs","setHamburgerColors","setHoverColors","setActiveLinkColor","setMenuColors","_bindHoverColors","_bindMenuColors","_bindActiveLinkColors","_bindHamburgerColors","setHeadingColors","menus","_bindConfiguredControls","_bindHeadingColor","_bindHeaderOverlay","_bindEntryHeader","_bindGlobalPageTitles","setPageTitles","_this3","_this4","setHeaderOverlay","_this5","_len4","_key4","_this6","_this7","_this8","_this9","_this10","$head","html","append"],"mappings":"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","file":"./assets/js/customizer/customizer.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 119);\n","module.exports = jQuery;","export class PaletteSelector {\n\n\t/**\n\t * Get the color value for the palette selector control.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t * @param  {Boolean} variable Whether to return color variable or true color value.\n\t *\n\t * @return {string}           CSS Color Variable, HEX, RGB, RGBA or value.\n\t */\n\tgetColor( themeMod, variable = false ) {\n\t\treturn variable ? this.getVariableValue( themeMod ) : this.getColorVariable( themeMod );\n\t}\n\n\t/**\n\t * Get the CSS variable for the palette selector control.\n\t *\n\t * @since 2.0.1\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t *\n\t * @return {string}           CSS Color Variable.\n\t */\n\tgetColorVariable( themeMod ) {\n\t\tlet colorNumber = this.getColorNumber( themeMod );\n\t\treturn `var(--${colorNumber});`;\n\t}\n\n\t/**\n\t * Get the color value for the palette selector control.\n\t *\n\t * @since 2.0.1\n\t *\n\t * @see https://jsperf.com/bgtfw-color-token-parse\n\t *\n\t * @param  {string}  themeMod Theme mod value.\n\t *\n\t * @return {string}           CSS Color Variable.\n\t */\n\tgetVariableValue( themeMod ) {\n\t\treturn themeMod.substring( themeMod.indexOf( ':' ) + 1 );\n\t}\n\n\t/**\n\t * Get the color number for the palette selector control.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @see https://jsperf.com/bgtfw-color-token-parse\n\t *\n\t * @param  {string} themeMod Theme mod value.\n\t *\n\t * @return {string} Color number.\n\t */\n\tgetColorNumber( themeMod ) {\n\t\treturn themeMod.substring( 0, themeMod.indexOf( ':' ) );\n\t}\n}\n\nexport default PaletteSelector;\n","/* global BOLDGRID:false */\nconst api = wp.customize;\n\n/**\n * This class is responsible for managing the typograpy\n * live preview in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class Preview {\n\n\t/**\n\t * Initialize class and bind events.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\t$( () => this._bindTypography() );\n\t}\n\n\t/**\n\t * Handle the toggle of classes on an element.\n\t *\n\t * @since 2.0.0\n\t * @param {Mixed} to New value control is updating to.\n\t * @return {String} css CSS to add to page.\n\t */\n\tgetCSS( to ) {\n\t\tif ( _.isUndefined( to ) ) {\n\t\t\tto = api( 'bgtfw_headings_typography' )();\n\t\t}\n\n\t\t// JSON returned sometimes.\n\t\tif ( _.isString( to ) ) {\n\t\t\tto = JSON.parse( to );\n\t\t}\n\n\t\tlet base = api( 'bgtfw_headings_font_size' )();\n\t\tlet unit = 'px';\n\n\t\t// Build CSS.\n\t\tlet css = '';\n\n\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( selector, rule ) {\n\t\t\tvar val;\n\t\t\tif ( 'headings' === selector.type ) {\n\t\t\t\tval = base * selector.amount;\n\t\t\t\tif ( 'ceil' === selector.round ) {\n\t\t\t\t\tval = Math.ceil( val );\n\t\t\t\t}\n\t\t\t\tif ( 'floor' === selector.round ) {\n\t\t\t\t\tval = Math.floor( val );\n\t\t\t\t}\n\t\t\t\tcss += rule + '{font-size:' + val + unit + ';}';\n\t\t\t}\n\t\t} );\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set CSS in the innerHTML of stylesheet or create a new stylesheet to\n\t * append to head.\n\t *\n\t * @since 2.0.0\n\t */\n\taddStyle( css ) {\n\t\tif ( document.getElementById( 'bgtfw-headings-typography' ) ) {\n\t\t\tdocument.getElementById( 'bgtfw-headings-typography' ).innerHTML = css;\n\t\t} else {\n\t\t\tlet head = document.head || document.getElementsByTagName( 'head' )[0];\n\t\t\tlet style = document.createElement( 'style' );\n\n\t\t\tstyle.type = 'text/css';\n\t\t\tstyle.id = 'bgtfw-headings-typography';\n\n\t\t\tif ( style.styleSheet ) {\n\t\t\t\tstyle.styleSheet.cssText = css;\n\t\t\t} else {\n\t\t\t\tstyle.appendChild( document.createTextNode( css ) );\n\t\t\t}\n\n\t\t\thead.appendChild( style );\n\t\t}\n\n\t\t// Check if kirki's post-message already applied inline CSS and move our CSS after for override.\n\t\tif ( document.getElementById( 'kirki-postmessage-bgtfw_headings_typography' ) ) {\n\t\t\t$( '#bgtfw-headings-typography' ).insertAfter( '#kirki-postmessage-bgtfw_headings_typography' );\n\t\t}\n\t}\n\n\t/**\n\t * Bind Typography Controls.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindTypography() {\n\t\tthis.addStyle( this.getCSS( api( 'bgtfw_headings_typography' )() ) );\n\t\tapi( 'bgtfw_headings_typography', value => value.bind( to => this.addStyle( this.getCSS( to ) ) ) );\n\t\tapi( 'bgtfw_headings_font_size', value => value.bind( to => this.addStyle( this.getCSS( to ) ) ) );\n\t}\n}\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_links_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\tlinksColorSetting;\n\n\t\t\tlinksColorSetting = api( partial.params.primarySetting );\n\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar colorClass = new PaletteSelector().getColorNumber( linksColorSetting.get() );\n\n\t\t\t\t$( placement.partial.params.selector ).parent( '.sidebar' ).removeClass( function( index, css ) {\n\t\t\t\t\treturn ( css.match( /(^|\\s)color-?([\\d]|neutral)-(link)\\S+/g ) || [] ).join( ' ' );\n\t\t\t\t} ).addClass( colorClass + '-link-color' );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { Preview } from '../preview';\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_headings_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\t\theadingsColorSetting;\n\n\t\t\theadingsColorSetting = api( partial.params.primarySetting );\n\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar color = new PaletteSelector().getColor( headingsColorSetting.get() ),\n\t\t\t\t\tid = 'dynamic-sidebar-' + placement.partial.id.match( /\\[(.*?)\\]/ ).pop() + '-css';\n\n\t\t\t\tnew Preview().updateDynamicStyles( id, `\n\t\t\t\t\t${placement.partial.params.selector} {\n\t\t\t\t\t\tcolor: ${color};\n\t\t\t\t\t}\n\t\t\t\t` );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n","/* eslint max-nested-callbacks: [ \"error\", 4 ], consistent-this: [ \"error\", \"partial\" ] */\n\nimport { PaletteSelector } from '../color/palette-selector';\n\n// eslint-disable-next-line camelcase\nwp.customize.selectiveRefresh.partialConstructor.sidebar_meta_background_color = ( function( api, $ ) {\n\t'use strict';\n\n\treturn api.selectiveRefresh.Partial.extend( {\n\n\t\t/**\n\t\t * Refresh.\n\t\t *\n\t\t * Override refresh behavior to apply changes with JS instead of doing\n\t\t * a selective refresh request for PHP rendering (since unnecessary).\n\t\t *\n\t\t * @returns {jQuery.promise}\n\t\t */\n\t\trefresh: function() {\n\t\t\tvar partial = this,\n\t\t\t\tbackgroundColorSetting;\n\n\t\t\tbackgroundColorSetting = api( partial.params.primarySetting );\n\t\t\t_.each( partial.placements(), function( placement ) {\n\t\t\t\tvar colorClassPrefix = new PaletteSelector().getColorNumber( backgroundColorSetting.get() );\n\n\t\t\t\tplacement.container.parent( '.sidebar' ).removeClass( function( index, css ) {\n\t\t\t\t\treturn ( css.match( /(^|\\s)color-?([\\d]|neutral)-(background|text)\\S+/g ) || [] ).join( ' ' );\n\t\t\t\t} );\n\n\t\t\t\tif ( ! ~colorClassPrefix.indexOf( 'neutral' ) ) {\n\t\t\t\t\tcolorClassPrefix = colorClassPrefix.replace( '-', '' );\n\t\t\t\t}\n\n\t\t\t\tplacement.container.parent( '.sidebar' ).addClass( colorClassPrefix + '-background-color ' + colorClassPrefix + '-text-default' );\n\t\t\t} );\n\n\t\t\t// Return resolved promise since no server-side selective refresh will be requested.\n\t\t\treturn $.Deferred().resolve().promise();\n\t\t}\n\t} );\n} )( wp.customize, jQuery );\n","export * from './background-color-partial';\nexport * from './headings-color-partial';\nexport * from './links-color-partial';\n","/* esversion: 6 */\nimport Base from './toggle';\n\n/**\n * This class is responsible for managing the expand and collapse\n * triggers for panels and sections in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class ToggleValue extends Base {\n\n\t/**\n\t * Constructor\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} id ID of the control to bind to.\n\t * @param {String} element EL element to toggle classes on.\n\t * @param {String|Function} remove Classes or method to remove when control is updated.\n\t */\n\tconstructor( id = null, element = null, remove = null, cb = () => {} ) {\n\t\tsuper( ...arguments );\n\t\tObject.assign( this, { id, element, remove, cb } );\n\t}\n\n\t/**\n\t * Handle the toggle of classes on an element.\n\t *\n\t * @2.0.0\n\t *\n\t * @param {Mixed} to New value control is updating to.\n\t */\n\tbound( to ) {\n\t\t$( this.element ).removeClass( this.remove ).addClass( to ) && this.cb();\n\t}\n}\n\nexport default ToggleValue;\n","import { Preview as PreviewUtility } from '../preview';\nimport PaletteSelector from '../color/palette-selector';\n\nconst api = wp.customize;\nconst colorLib = window.net.brehaut;\n\nexport class LinkPreview {\n\n\t/**\n\t * Instantiate other classes to be used.\n\t */\n\tconstructor() {\n\t\tthis.previewUtility = new PreviewUtility();\n\t\tthis.paletteSelector = new PaletteSelector();\n\t\tthis.prefixes = [\n\t\t\t'bgtfw_body',\n\t\t\t'bgtfw_posts_date',\n\t\t\t'bgtfw_posts_byline',\n\t\t\t'bgtfw_posts_tags',\n\t\t\t'bgtfw_posts_cats',\n\t\t\t'bgtfw_posts_navigation',\n\t\t\t'bgtfw_blog_post_header_byline',\n\t\t\t'bgtfw_blog_post_header_date',\n\t\t\t'bgtfw_blog_post_cats',\n\t\t\t'bgtfw_blog_post_tags',\n\t\t\t'bgtfw_blog_post_comments',\n\t\t\t'bgtfw_blog_post_readmore'\n\t\t];\n\t\tthis.selectors = {};\n\t}\n\n\t/**\n\t * When the user changes any of the options in the set, update the css.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\t$( () => {\n\t\t\tlet prefixes = this.prefixes;\n\t\t\tfor ( let prefix of prefixes ) {\n\t\t\t\tthis.selectors[ prefix ] = this.getSelectors( prefix );\n\n\t\t\t\tlet controls = [\n\t\t\t\t\t`${prefix}_link_color`,\n\t\t\t\t\t`${prefix}_link_color_hover`,\n\t\t\t\t\t`${prefix}_link_decoration`,\n\t\t\t\t\t`${prefix}_link_decoration_hover`\n\t\t\t\t];\n\n\t\t\t\t// Body links don't have a _link_color_display option.\n\t\t\t\tif ( 'bgtfw_body' !== prefix ) {\n\t\t\t\t\tcontrols.push( `${prefix}_link_color_display` );\n\t\t\t\t}\n\n\t\t\t\tapi( ...controls, ( ...args ) => {\n\t\t\t\t\targs.map( control => control.bind( () => this.updateStyles( prefix ) ) );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Get the selectors for links.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {array} Selectors to use.\n\t */\n\tgetSelectors( prefix ) {\n\t\tlet selectors = [];\n\t\tif ( parent.wp.customize.control && parent.wp.customize.control( `${prefix}_link_color` ) ) {\n\t\t\tselectors = parent.wp.customize.control( `${prefix}_link_color` ).params.choices.selectors;\n\t\t}\n\n\t\treturn selectors;\n\t}\n\n\t/**\n\t * Update the styles for the content.\n\t *\n\t * @since 2.0.0\n\t */\n\tupdateStyles( prefix ) {\n\t\tlet css = '';\n\t\tif ( false === _.isFunction( api( `${prefix}_link_color_display` ) ) || 'inherit' !== api( `${prefix}_link_color_display` )() ) {\n\t\t\tlet linkColor = this._getColor( `${prefix}_link_color` ),\n\t\t\t\tlinkColorHover = api( `${prefix}_link_color_hover` )() || 0,\n\t\t\t\tdecoration = this._getDecoration( `${prefix}_link_decoration` ),\n\t\t\t\tdecorationHover = this._getDecoration( `${prefix}_link_decoration_hover` ),\n\t\t\t\texcludes = '',\n\t\t\t\tselectors = this.selectors[ prefix ],\n\t\t\t\tshiftedColorVal;\n\n\t\t\tlinkColorHover = parseInt( linkColorHover, 10 ) / 100;\n\t\t\tshiftedColorVal = colorLib.Color( linkColor ).lightenByAmount( linkColorHover ).toCSS();\n\n\t\t\tfor ( let selector of selectors ) {\n\t\t\t\tselector = selector + excludes;\n\t\t\t\tcss += `\n\t\t\t\t\t${selector} {\n\t\t\t\t\t\tcolor: ${linkColor};\n\t\t\t\t\t\ttext-decoration: ${decoration};\n\t\t\t\t\t}\n\t\t\t\t\t${selector}:hover,\n\t\t\t\t\t${selector}:focus {\n\t\t\t\t\t\tcolor: ${shiftedColorVal};\n\t\t\t\t\t\ttext-decoration: ${decorationHover};\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\n\t\tlet inlineName = prefix.replace( /_/g, '-' );\n\t\tthis.previewUtility.updateDynamicStyles( `${inlineName}-link-inline-css`, css );\n\t}\n\n\t/**\n\t * Get the setting text decoration value.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} setting Setting Name.\n\t * @return {string}         CSS value.\n\t */\n\t_getDecoration( setting ) {\n\t\treturn api( setting )();\n\t}\n\n\t/**\n\t * Get the color from a setting.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} setting Setting Name.\n\t * @return {string}         Saved Color.\n\t */\n\t_getColor( setting ) {\n\t\tlet color = api( setting )() || '';\n\t\treturn this.paletteSelector.getColor( color );\n\t}\n\n}\n","import PaletteSelector from '../color/palette-selector';\nimport ColorPreview from '../color/preview';\n\nconst api = wp.customize;\n\n/**\n * Setup all events for previewing background changes.\n *\n * @since 2.0.0\n *\n * @type {Preview}\n */\nexport class Preview {\n\n\t/**\n\t * Instatiate the class.\n\t *\n\t * @since 2.0.0\n\t */\n\tconstructor() {\n\t\tthis.selector = new PaletteSelector();\n\t\tthis.colorPreview = new ColorPreview().init();\n\t\tthis.$body = $( 'body' );\n\t}\n\n\t/**\n\t * Initialize this class, binding all events.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {Preview} Class Instance.\n\t */\n\tinit() {\n\t\t$( () => this._onLoad() );\n\n\t\treturn this;\n\t}\n\n\t/**\n\t* Set the overlay colors.\n\t*\n\t* @since 2.0.0\n\t*/\n\tsetImage() {\n\t\tif ( 'image' === api( 'boldgrid_background_type' )() ) {\n\t\t\tconst backgroundImage = api( 'background_image' )();\n\n\t\t\tlet css = '';\n\t\t\tif ( backgroundImage && api( 'bgtfw_background_overlay' )() ) {\n\t\t\t\tcss = this._getOverlayCss( backgroundImage );\n\t\t\t} else if ( backgroundImage ) {\n\t\t\t\tcss = `url(\"${backgroundImage}\")`;\n\t\t\t}\n\n\t\t\tthis.$body.css( 'background-image', css );\n\t\t}\n\t}\n\n\t/**\n\t * Set the body color classes.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetBodyClasses() {\n\t\tif ( 'image' === api( 'boldgrid_background_type' )() ) {\n\t\t\tif ( api( 'background_image' )() && api( 'bgtfw_background_overlay' )() ) {\n\t\t\t\tthis.colorPreview.outputColor( 'bgtfw_background_overlay_color', 'body', [\n\t\t\t\t\t'background-color', 'text-default'\n\t\t\t\t] );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Process to run when the page loads.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\t\tthis._setupImageChange();\n\t}\n\n\t/**\n\t * Get the css needed to display an overlay.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} backgroundImage Background image property.\n\t * @return {string}                 CSS for background image.\n\t */\n\t_getOverlayCss( backgroundImage ) {\n\t\tconst color = this.selector.getColor(\n\t\t\t\tapi( 'bgtfw_background_overlay_color' )()\n\t\t\t),\n\t\t\talpha = api( 'bgtfw_background_overlay_alpha' )(),\n\t\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\t\trgba = brehautColor.setAlpha( alpha ).toString();\n\n\t\treturn `linear-gradient(to left, ${rgba}, ${rgba}), url(\"${backgroundImage}\")`;\n\t}\n\n\t/**\n\t * When the background image changes or any related properties, update the image.\n\t *\n\t * @since 2.0.0\n\t */\n\t_setupImageChange() {\n\t\tapi(\n\t\t\t'bgtfw_background_overlay_alpha',\n\t\t\t'bgtfw_background_overlay',\n\t\t\t'bgtfw_background_overlay_color',\n\t\t\t'background_image',\n\t\t\t'boldgrid_background_type',\n\t\t\t( ...args ) => {\n\t\t\t\targs.map( control =>\n\t\t\t\t\tcontrol.bind( () => {\n\t\t\t\t\t\tthis.setImage();\n\t\t\t\t\t\tthis.setBodyClasses();\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n}\n","/* global BoldGrid:false */\nconst api = wp.customize;\n\nexport class Preview {\n\n\t/**\n\t * Run these on init.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\tthis._setupResize();\n\t}\n\n\t/**\n\t * When certain controls are updated we should trigger a resize to allow\n\t * all layout calculations to reapply.\n\t *\n\t * This method is debounced to 1 second.\n\t *\n\t * @since 2.0.0\n\t */\n\t_setupResize() {\n\t\tlet resize = _.debounce( () => BoldGrid.custom_header.calc(), 500 );\n\t\tapi( 'bgtfw_header_padding', 'bgtfw_header_border', 'bgtfw_header_margin', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( resize ) );\n\t\t} );\n\t}\n}\n","import { Preview as PreviewUtility } from '../preview';\n\nexport class Preview {\n\tconstructor() {\n\t\tthis.preview = new PreviewUtility();\n\t}\n\n\t/**\n\t * Loop through all controls that are generic controls, and bind the change event.\n\t *\n\t * @since 2.0.0\n\t */\n\tbindEvents() {\n\t\tif ( parent.wp.customize.control ) {\n\t\t\tparent.wp.customize.control.each( wpControl => {\n\t\t\t\tif (\n\t\t\t\t\twpControl.params.choices &&\n\t\t\t\t\t'boldgrid_controls' === wpControl.params.choices.name\n\t\t\t\t) {\n\t\t\t\t\tthis.bindControl( wpControl );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Bind a single wordpress controls change event.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {object} wpControl Wordpress control instance.\n\t */\n\tbindControl( wpControl ) {\n\t\twp.customize( wpControl.id, value => {\n\t\t\tvalue.bind( setting => {\n\n\t\t\t\t// If value is not truthy, we are reverting to defaults.\n\t\t\t\tif ( setting ) {\n\t\t\t\t\tthis.preview.updateDynamicStyles(\n\t\t\t\t\t\twpControl.id + '-bgcontrol-inline-css',\n\t\t\t\t\t\tsetting.css\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n}\n","/* global _wpCustomizePreviewNavMenusExports:false, _wpCustomizeSettings:false, BoldGrid:true, BOLDGRID:true */\nimport ColorPreview from './color/preview';\nimport { Preview as GenericPreview } from './generic/preview.js';\nimport { Preview as HeaderPreview } from './header-layout/preview.js';\nimport { Preview as BackgroundPreview } from './background/preview.js';\nimport { LinkPreview } from './typography/link-preview.js';\nimport Toggle from './toggle/toggle';\nimport ToggleValue from './toggle/value';\nimport './widget-meta';\nimport { Preview as TypographyPreview } from './typography/preview';\n\nconst api = wp.customize;\nconst controlApi = parent.wp.customize;\n\napi.selectiveRefresh.bind( 'partial-content-rendered', placement => {\n\tlet controls = [ 'bgtfw_header_layout', 'bgtfw_sticky_header_layout', 'bgtfw_footer_layout' ];\n\n\tif ( controls.includes( placement.partial.id ) ) {\n\t\tlet css = [];\n\n\t\tcontrols.map( control => {\n\t\t\tlet uid = control.includes( 'header' ) ? control.includes( 'sticky_header' ) ? 's' : 'h' : 'f';\n\n\t\t\t_.each( api( control )(), ( sections, key ) => {\n\t\t\t\tuid += key;\n\t\t\t\tif ( ! _.isUndefined( sections.items ) ) {\n\t\t\t\t\t_.each( sections.items, ( item, k ) => {\n\t\t\t\t\t\tif ( _.isEmpty( item.uid ) ) {\n\t\t\t\t\t\t\tuid += k;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuid = item.uid;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( ! _.isUndefined( item.display ) ) {\n\t\t\t\t\t\t\t_.each( item.display, display => {\n\t\t\t\t\t\t\t\tif ( 'hide' === display.display ) {\n\t\t\t\t\t\t\t\t\tcss.push( `.${ uid } ${ display.selector }` );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\tcss = _.isEmpty( css ) ? '' : `${ css.join( ', ' ) } { display: none !important; }`;\n\n\t\tdocument.getElementById( 'sticky-header-display-inline-css' ).innerHTML = css;\n\t}\n} );\n\nBOLDGRID.Customizer = BOLDGRID.Customizer || {};\nBOLDGRID.Customizer.Util = BOLDGRID.Customizer.Util || {};\nBOLDGRID.Customizer.Widgets = BOLDGRID.Customizer.Widgets || {};\n\n/**\n * Check if the string is valid JSON by the use of regular expressions.\n * This security method is called internally.\n *\n * Examples:\n *\n *  bgtfwIsJSON( 'something' );\n *      // -> false\n *\n *  bgtfwIsJSON( \"\\\"something\\\"\");\n *      // -> true\n *\n *  bgtfwIsJSON( \"{ foo: 2 }\");\n *      // -> false\n *\n *  bgtfwIsJSON( \"{ \\\"foo\\\": 2 }\" );\n *      // -> true\n *\n * @param {string} string String to test for valid JSON syntax.\n *\n * @return {Boolean} True if string contains valid JSON, false on failure.\n */\nBOLDGRID.Customizer.Util.bgtfwIsJSON = function( string ) {\n\n\t// Check if string is a string, and not an empty one.\n\tif ( ! _.isString( string ) || /^\\s*$/.test( string ) ) {\n\t\treturn false;\n\t}\n\n\t// Validate that the string is valid format for being JSON.\n\tstring = string.replace( /\\\\(?:[\"\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@' );\n\tstring = string.replace( /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?/g, ']' );\n\tstring = string.replace( /(?:^|:|,)(?:\\s*\\[)+/g, '' );\n\n\treturn ( /^[\\],:{}\\s]*$/ ).test( string );\n};\n\n\nBOLDGRID.Customizer.Util.getAllUrlParams = function( url ) {\n\n\t// Get query string from url (optional) or window.\n\tlet queryString = url ? url.split( '?' )[1] : window.location.search.slice( 1 );\n\n\t// We'll store the parameters here.\n\tconst obj = {};\n\n\t// If query string exists...\n\tif ( queryString ) {\n\n\t\t// Stuff after # is not part of query string, so get rid of it.\n\t\tqueryString = queryString.split( '#' )[0];\n\n\t\t// Split our query string into its component parts.\n\t\tlet arr = queryString.split( '&' );\n\n\t\tfor ( let i = 0; i < arr.length; i++ ) {\n\n\t\t\t// Separate the keys and the values.\n\t\t\tlet a = arr[i].split( '=' );\n\n\t\t\t// In case params look like: list[]=thing1&list[]=thing2.\n\t\t\tlet paramNum = undefined;\n\t\t\tlet paramName = a[0].replace( /\\[\\d*\\]/, function( v ) {\n\t\t\t\tparamNum = v.slice( 1, -1 );\n\t\t\t\treturn '';\n\t\t\t} );\n\n\t\t\t// Set parameter value (use 'true' if empty).\n\t\t\tlet paramValue = 'undefined' === typeof( a[1] ) ? true : a[1];\n\n\t\t\t// Keep casing consistent.\n\t\t\tparamName = paramName.toLowerCase();\n\t\t\tparamValue = paramValue.toLowerCase();\n\n\t\t\t// If parameter name already exists..\n\t\t\tif ( obj[ paramName ] ) {\n\n\t\t\t\t// Convert value to array (if still string).\n\t\t\t\tif ( 'string' === typeof obj[ paramName ] ) {\n\t\t\t\t\tobj[ paramName ] = [ obj[ paramName ] ];\n\t\t\t\t}\n\n\t\t\t\t// If no array index number specified...\n\t\t\t\tif ( 'undefined' === typeof paramNum ) {\n\n\t\t\t\t\t// Put the value on the end of the array.\n\t\t\t\t\tobj[ paramName ].push( paramValue );\n\n\t\t\t\t// If array index number specified...\n\t\t\t\t} else {\n\n\t\t\t\t\t// Put the value at that index number.\n\t\t\t\t\tobj[ paramName ][ paramNum ] = paramValue;\n\t\t\t\t}\n\n\t\t\t// If param name doesn't exist yet, set it.\n\t\t\t} else {\n\t\t\t\tobj[ paramName ] = paramValue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn obj;\n};\n\n/**\n * Parse JSON safely.\n *\n * Ensure that the param passed is valid JSON, and attempt\n * to return the object back.  This returns false in the event\n * that it can't be parsed or isn't valid JSON.\n *\n * @param {string} string String to parse JSON from.\n *\n * @return {mixed} Returns object if JSON was parsed, or false.\n */\nBOLDGRID.Customizer.Util.bgtfwParseJSON = function( string ) {\n\tvar data;\n\n\tif ( BOLDGRID.Customizer.Util.bgtfwIsJSON( string ) ) {\n\t\ttry {\n\t\t\tdata = JSON.parse( string );\n\t\t\tif ( data && _.isObject( data ) ) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t} catch ( error ) {\n\n\t\t\t// console.warn( 'An error retrieving the active color palette occured!', error );\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nBOLDGRID.Customizer.Util.getTextContrast = function( color ) {\n\tconst brightness = ( color ) => {\n\t\tcolor = window.net.brehaut.Color( color );\n\t\treturn ( ( color.getRed() * 0.299 ) + ( color.getGreen() * 0.587 ) + ( color.getBlue() * 0.114 ) ) * 100;\n\t};\n\tlet lightText = brightness( BOLDGRID.CUSTOMIZER.data.customizerOptions.colors.light_text );\n\tlet darkText = brightness( BOLDGRID.CUSTOMIZER.data.customizerOptions.colors.dark_text );\n\tcolor = brightness( color );\n\n\treturn Math.abs( color - lightText ) > Math.abs( color - darkText ) ? 'var(--light-text)' : 'var(--dark-text)';\n};\n\nBOLDGRID.Customizer.Util.getInitialPalettes = function( option ) {\n\tvar palette, colors, activePalette;\n\n\t// Default value is read from the customizer API if new data is not passed.\n\tif ( _.isUndefined( option ) ) {\n\t\toption = api( 'boldgrid_color_palette' )();\n\t}\n\n\t// Parse the JSON data.\n\tpalette = BOLDGRID.Customizer.Util.bgtfwParseJSON( option );\n\n\t// Ensure it's formatted correctly and get the active palette's colors as an array.\n\tif ( palette && ! _.isUndefined( palette.state ) && ! _.isUndefined( palette.state.palettes ) ) {\n\n\t\tif ( ! _.isUndefined( palette.state['active-palette'] ) ) {\n\n\t\t\tactivePalette = palette.state['active-palette'];\n\n\t\t\tif ( ! _.isUndefined( palette.state.palettes[ activePalette ] ) ) {\n\t\t\t\tactivePalette = palette.state.palettes[ activePalette ];\n\n\t\t\t\tif ( ! _.isUndefined( activePalette.colors ) ) {\n\t\t\t\t\tcolors = activePalette.colors;\n\n\t\t\t\t\t// Check if theme included a neutral color, and add it to palette.\n\t\t\t\t\tif ( ! _.isUndefined( activePalette['neutral-color'] ) ) {\n\t\t\t\t\t\tcolors.push( activePalette['neutral-color'] );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update the wpColorPicker options for initialization.\n\t\t\t\t\tif ( colors.length ) {\n\t\t\t\t\t\treturn colors;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Unable to get the active palette set.\n\treturn false;\n};\n\n/**\n * Theme Customizer enhancements for a better user experience.\n *\n * Contains handlers to make Theme Customizer preview reload changes asynchronously.\n */\n( function( $ ) {\n\tvar $body, $customStyles, colorPreview;\n\n\t$body = $( 'body' );\n\t$customStyles = $( '#boldgrid-override-styles' );\n\n\tcolorPreview = new ColorPreview().init();\n\tlet backgroundPreview = new BackgroundPreview().init();\n\tnew GenericPreview().bindEvents();\n\tnew HeaderPreview().bindEvents();\n\tnew TypographyPreview().bindEvents();\n\tnew LinkPreview().bindEvents();\n\n\t$( function() {\n\t\tvar updateColorAndPatterns,\n\t\t\theadingsColorOutput,\n\t\t\tsetupPostEditLink,\n\t\t\tbackgroundTypeUpdate,\n\t\t\tbackgroundSizeUpdate,\n\t\t\tbackgroundAttachmentUpdate,\n\t\t\tsetBackgroundVerticalPosition,\n\t\t\tsetBackgroundHorizontalPosition,\n\t\t\tbackgroundRepeatUpdate,\n\t\t\tinitValues,\n\t\t\tattributionLinks,\n\t\t\tattributionSeparators,\n\t\t\tattributionControls;\n\n\t\tlet calc = BoldGrid.custom_header.calc;\n\n\t\t/**\n\t\t * Allow the user to click the post edit link in the customizer and go to the editor\n\t\t */\n\t\tsetupPostEditLink = function() {\n\t\t\t$( '.post-edit-link' ).on( 'click', function() {\n\t\t\t\tparent.location = $( this ).attr( 'href' );\n\t\t\t} );\n\t\t};\n\n\t\tbackgroundTypeUpdate = function( to ) {\n\n\t\t\t\tif ( 'pattern' === to ) {\n\t\t\t\t\tupdateColorAndPatterns();\n\t\t\t\t} else {\n\t\t\t\t\t$body.css( {\n\t\t\t\t\t\t'background-image': '',\n\t\t\t\t\t\t'background-size': '',\n\t\t\t\t\t\t'background-repeat': 'no-repeat',\n\t\t\t\t\t\t'background-attachment': ''\n\t\t\t\t\t} );\n\n\t\t\t\t\tinitValues();\n\t\t\t\t}\n\n\t\t\t\t// Remove these styles that should only overwrite on the front end.\n\t\t\t\t$customStyles.remove();\n\t\t};\n\n\t\tbackgroundSizeUpdate = function( to ) {\n\t\t\t$body.css( 'background-size', to );\n\t\t};\n\n\t\tbackgroundAttachmentUpdate = function( to ) {\n\t\t\tvar pluginStellarData;\n\n\t\t\tif ( 'parallax' === to ) {\n\t\t\t\t$body.addClass( 'boldgrid-customizer-parallax-effect' );\n\t\t\t\t$body.css( 'background-attachment', 'fixed' );\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-position': '0px 0px',\n\t\t\t\t\t'background-attachment': 'fixed'\n\t\t\t\t} );\n\n\t\t\t\t$body.data( 'stellar-background-ratio', '0.2' );\n\t\t\t\t$body.stellar( {\n\t\t\t\t\thorizontalScrolling: false\n\t\t\t\t} );\n\n\t\t\t\tif ( $body.data( 'plugin_stellar' ) ) {\n\t\t\t\t\t$body.data( 'plugin_stellar' ).init();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpluginStellarData = $( 'body' ).data( 'plugin_stellar' );\n\t\t\t\tif ( pluginStellarData ) {\n\t\t\t\t\tpluginStellarData.destroy();\n\t\t\t\t}\n\n\t\t\t\tbackgroundSizeUpdate( api( 'boldgrid_background_image_size' )() );\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-attachment': to\n\t\t\t\t} );\n\t\t\t\tsetBackgroundVerticalPosition();\n\t\t\t\tsetBackgroundHorizontalPosition();\n\t\t\t\tbackgroundRepeatUpdate();\n\n\t\t\t\t$body.removeClass( 'boldgrid-customizer-parallax-effect' );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Set the theme background_vertical_position on the preview frame\n\t\t */\n\t\tsetBackgroundVerticalPosition = function() {\n\t\t\tvar to, curBackgroundPos, backgroundPos;\n\t\t\tto = api( 'boldgrid_background_vertical_position' )();\n\t\t\tcurBackgroundPos = $body.css( 'background-position' );\n\t\t\tbackgroundPos = curBackgroundPos.split( ' ' )[0] + ' ' + ( to ) * 5 + 'px';\n\t\t\t$body.css( 'background-position', backgroundPos );\n\t\t};\n\n\n\t\t/**\n\t\t * Set the theme background_horizontal_position on the preview frame\n\t\t */\n\t\tsetBackgroundHorizontalPosition = function() {\n\t\t\tvar to, curBackgroundPos, backgroundPos;\n\n\t\t\tto = api( 'boldgrid_background_horizontal_position' )();\n\t\t\tcurBackgroundPos = $body.css( 'background-position' );\n\t\t\tbackgroundPos = ( to ) * 5 + 'px' + ' ' + curBackgroundPos.split( ' ' )[1];\n\t\t\t$body.css( 'background-position', backgroundPos );\n\t\t};\n\n\t\t/**\n\t\t * Handles front-end headings color changes in previewer.\n\t\t *\n\t\t * This will add classes for the headings color changes to elements during a live preview.\n\t\t * The headings makes use of the global:\n\t\t * BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors,\n\t\t * which contains the selectors defined in the PHP configurations for bgtfw.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param string to       Theme mod value of headings color.\n\t\t * @param string selector CSS selector to apply classes to.\n\t\t */\n\t\theadingsColorOutput = function( themeMod, section ) {\n\t\t\tvar selectors = [];\n\n\t\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( value, key ) {\n\t\t\t\tif ( 'headings' === value.type ) {\n\t\t\t\t\tselectors.push( section + ' ' + key );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tselectors = selectors.join( ', ' );\n\n\t\t\tcolorPreview.outputColor( themeMod, $( selectors ).not( '.site-description' ), [ 'color' ] );\n\t\t};\n\n\t\t/**\n\t\t * Set the theme updateColorAndPatterns on the preview frame\n\t\t */\n\t\tupdateColorAndPatterns = function() {\n\t\t\tvar backgroundPattern;\n\n\t\t\tif ( 'pattern' === api( 'boldgrid_background_type' )() ) {\n\t\t\t\tbackgroundPattern = api( 'boldgrid_background_pattern' )();\n\n\t\t\t\tif ( ! backgroundPattern ) {\n\t\t\t\t\tbackgroundPattern = 'none';\n\t\t\t\t}\n\n\t\t\t\t$customStyles.remove();\n\n\t\t\t\t$body.css( {\n\t\t\t\t\t'background-image': backgroundPattern,\n\t\t\t\t\t'background-size': 'auto',\n\t\t\t\t\t'background-repeat': 'repeat',\n\t\t\t\t\t'background-attachment': 'scroll'\n\t\t\t\t} );\n\n\t\t\t\tcolorPreview.outputColor( 'boldgrid_background_color', 'body', [\n\t\t\t\t\t'background-color', 'text-default'\n\t\t\t\t] );\n\t\t\t}\n\t\t};\n\n\t\tbackgroundRepeatUpdate = function( ) {\n\t\t\t$body.css( {\n\t\t\t\t'background-repeat': api( 'background_repeat' )()\n\t\t\t} );\n\t\t};\n\n\t\tinitValues = function() {\n\t\t\tvar bgAttach, bgImgSize, bgType;\n\n\t\t\t$( '#custom-background-css' ).remove();\n\n\t\t\tbgType = api( 'boldgrid_background_type' )();\n\n\t\t\tif ( 'pattern' === bgType ) {\n\t\t\t\tupdateColorAndPatterns();\n\t\t\t}\n\n\t\t\tif ( 'pattern' !== bgType ) {\n\t\t\t\tbgAttach = api( 'background_attachment' )();\n\t\t\t\tbgImgSize = api( 'boldgrid_background_image_size' )();\n\t\t\t\tbackgroundAttachmentUpdate( bgAttach );\n\t\t\t\tbackgroundSizeUpdate( bgImgSize );\n\t\t\t\tbackgroundPreview.setImage();\n\n\t\t\t\tif ( 'parallax' !== bgAttach ) {\n\t\t\t\t\tsetBackgroundVerticalPosition();\n\t\t\t\t\tsetBackgroundHorizontalPosition();\n\t\t\t\t\tbackgroundRepeatUpdate();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tattributionLinks = function() {\n\t\t\tvar controls;\n\t\t\tapi.bind( 'ready', _.defer( function() {\n\t\t\t\tif ( _.isFunction(  controlApi.section ) ) {\n\t\t\t\t\tcontrols = controlApi.section( 'boldgrid_footer_panel' ).controls();\n\t\t\t\t\t_( controls ).each( function( control ) {\n\t\t\t\t\t\tvar selector,\n\t\t\t\t\t\t\tregex = new RegExp( /^(hide_)+\\w*(_attribution)+$/, 'm' );\n\n\t\t\t\t\t\tif ( regex.test( control.id ) ) {\n\t\t\t\t\t\t\tif ( parseInt( api( control.id )() ) ) {\n\t\t\t\t\t\t\t\tselector = '.' + control.id.replace( 'hide_', '' ).replace( /_/g, '-' ) + '-link';\n\t\t\t\t\t\t\t\t$( selector ).addClass( 'hidden' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tattributionSeparators();\n\t\t\t} ) );\n\t\t};\n\n\t\t/**\n\t\t * Responsible for adjusting the separators in live preview for attribution footer links.\n\t\t */\n\t\tattributionSeparators = function() {\n\t\t\t$( '.attribution-theme-mods > .link' )\n\t\t\t\t.removeClass( 'no-separator' )\n\t\t\t\t.filter( ':visible' )\n\t\t\t\t.last()\n\t\t\t\t.addClass( 'no-separator' );\n\t\t};\n\n\t\tif ( _.isFunction( controlApi.section ) ) {\n\t\t\tattributionControls = controlApi.section( 'boldgrid_footer_panel' ).controls();\n\t\t\t_( attributionControls ).each( function( control ) {\n\t\t\t\tvar selector,\n\t\t\t\t\tregex = new RegExp( /^(hide_)+\\w*(_attribution)+$/, 'm' );\n\n\t\t\t\tif ( regex.test( control.id ) ) {\n\t\t\t\t\tapi( control.id, function( value ) {\n\t\t\t\t\t\tselector = '.' + control.id.replace( /hide_/, '' ).replace( /_/g, '-' ) + '-link';\n\t\t\t\t\t\tvalue.bind( function( to ) {\n\t\t\t\t\t\t\t$( selector ).toggleClass( 'hidden', to );\n\t\t\t\t\t\t\tattributionSeparators();\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tinitValues();\n\t\tattributionLinks();\n\t\tsetupPostEditLink();\n\n\t\t$( '.site-description' ).addClass( window._typographyClasses );\n\n\t\t/**\n\t\t * There's a better way to do this, but I dunno what it is.  This\n\t\t * works for now.  This will just trigger the preview pane to reload\n\t\t * the same page after a user changes their header videos.\n\t\t */\n\t\tapi( 'external_header_video', 'header_video', function( ...args ) {\n\t\t\targs.map( ( control ) => control.bind( () => api.preview.send( 'url', window.location.href ) ) );\n\t\t} );\n\n\t\t/**\n\t\t * Recalculate layouts on font changes.\n\t\t *\n\t\t * @since 2.0.0\n\t\t */\n\t\tapi( 'bgtfw_site_title_typography', 'bgtfw_tagline_typography', ( ...args ) => {\n\t\t\targs.map( ( control ) => {\n\t\t\t\tlet settings = [ 'font-size', 'line-height', 'font-family', 'font-weight' ];\n\t\t\t\tlet update = ( to ) => {\n\t\t\t\t\t_.each( settings, _.once( ( setting ) => control[ setting ] === to[ setting ] || calc() ) );\n\t\t\t\t};\n\t\t\t\tcontrol.bind( _.throttle( update, 250 ) );\n\t\t\t} );\n\t\t} );\n\n\t\tapi( 'bgtfw_site_title_display', value => value.bind( to => {\n\t\t\t$( '.site-title' ).toggleClass( 'screen-reader-text', 'show' !== to );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_tagline_display', value => value.bind( to => {\n\t\t\t$( '.site-description' ).toggleClass( 'screen-reader-text', 'show' !== to );\n\t\t} ) );\n\n\t\tapi( 'boldgrid_color_palette', function( value ) {\n\t\t\tvalue.bind( function( to ) {\n\t\t\t\tvar colors,\n\t\t\t\t\tneutral;\n\n\t\t\t\tcolors = BOLDGRID.Customizer.Util.getInitialPalettes( to );\n\t\t\t\tif ( colors ) {\n\t\t\t\t\tneutral = colors.pop();\n\n\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-neutral', neutral );\n\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-neutral-text-contrast', BOLDGRID.Customizer.Util.getTextContrast( neutral ) );\n\t\t\t\t\t_( colors ).each( function( color, index ) {\n\t\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-' + Math.abs( index + 1 ), color );\n\t\t\t\t\t\tdocument.documentElement.style.setProperty( '--color-' + Math.abs( index + 1 ) + '-text-contrast', BOLDGRID.Customizer.Util.getTextContrast( color ) );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t/**\n\t\t * Update any of the color control's palettes with correct palette from color picker.\n\t\t */\n\t\tapi( 'boldgrid_color_palette', function( value ) {\n\t\t\tvalue.bind( function( to ) {\n\t\t\t\tvar palettes, colors;\n\n\t\t\t\tpalettes = parent.$( '.colors-wrapper' );\n\t\t\t\tcolors = BOLDGRID.Customizer.Util.getInitialPalettes( to );\n\n\t\t\t\t// Update any palettes on open colorpicker instances.\n\t\t\t\tif ( colors ) {\n\t\t\t\t\t_( palettes ).each( function( palette ) {\n\t\t\t\t\t\tvar swatches = $( palette ).find( 'input' );\n\t\t\t\t\t\t_( swatches ).each( function( swatch, index ) {\n\t\t\t\t\t\t\tvar currentVal, newVal, link;\n\t\t\t\t\t\t\tcurrentVal = $( swatch ).val();\n\t\t\t\t\t\t\tif ( 'transparent' !== currentVal ) {\n\t\t\t\t\t\t\t\tnewVal = currentVal.substring( 0, currentVal.indexOf( ':' ) + 1 ) + colors[ index ];\n\t\t\t\t\t\t\t\t$( swatch ).val( newVal );\n\t\t\t\t\t\t\t\t$( swatch ).next().find( '.color-palette-color' ).css( 'background', colors[ index ] ).text( colors[ index ] );\n\n\t\t\t\t\t\t\t\t// Update setting link for control.\n\t\t\t\t\t\t\t\tif ( $( swatch ).is( ':checked' ) ) {\n\t\t\t\t\t\t\t\t\tlink = $( swatch ).data( 'customize-setting-link' );\n\t\t\t\t\t\t\t\t\tif ( ! _.isUndefined( link ) ) {\n\t\t\t\t\t\t\t\t\t\tcontrolApi( link ).set( newVal );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t/* Header Background Color */\n\t\tapi( 'bgtfw_header_color', function( value ) {\n\t\t\tvalue.bind( function() {\n\t\t\t\tcolorPreview.outputColor( 'bgtfw_header_color', '#masthead, #navi', [ 'background-color', 'text-default' ] );\n\t\t\t} );\n\t\t} );\n\n\t\tnew ToggleValue( 'header_container', '#navi, #secondary-menu', 'container', calc );\n\t\tnew ToggleValue( 'bgtfw_blog_page_container', '.blog .site-content, .archive .site-content', 'container', calc );\n\t\tapi( 'bgtfw_fixed_header', value => value.bind( to => {\n\t\t\tdocument.body.className = document.body.className.replace( 'header-slide-in', '' );\n\t\t\tdocument.body.className = document.body.className.replace( 'header-fixed', '' );\n\t\t\tif ( to ) {\n\t\t\t\tif ( 'header-top' === api( 'bgtfw_header_layout_position' )() ) {\n\t\t\t\t\tif ( -1 === document.body.className.indexOf( 'header-slide-in' ) ) {\n\t\t\t\t\t\tdocument.body.className += ' ' + 'header-slide-in';\n\t\t\t\t\t}\n\t\t\t\t\tBoldGrid.header_slide_in.init();\n\t\t\t\t\t$( '.bgtfw-sticky-header' ).attr( 'style', '' );\n\t\t\t\t} else {\n\t\t\t\t\tif ( -1 === document.body.className.indexOf( 'header-fixed' ) ) {\n\t\t\t\t\t\tdocument.body.className += ' ' + 'header-fixed';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$( '.bgtfw-sticky-header' ).attr( 'style', 'display: none !important' );\n\t\t\t}\n\t\t\tcalc();\n\t\t} ) );\n\n\t\tlet layoutFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)layout-\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\tnew ToggleValue( 'bgtfw_footer_layouts', '#colophon', layoutFn );\n\n\t\t// Setup hamburger menus.\n\t\tlet hamburgerFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)hamburger--\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\tlet hoverFn = ( index, className ) => {\n\t\t\treturn ( className.match ( /(^|\\s)hvr-\\S+/g ) || [] ).join( ' ' );\n\t\t};\n\n\t\t/**\n\t\t * Customizer always marks home as the current-menu-item.  This will check the query\n\t\t * params of the link in the menu, and compare it to the currently previewed URL and\n\t\t * remove the .current-menu-item classes from links that don't match.  I assume this\n\t\t * should be fixed in core at some point, or we have done something incorrect somewhere,\n\t\t * but for the time being this works.\n\t\t *\n\t\t * @since 2.0.0\n\t\t */\n\t\tlet setupCurrentMenuItems = menuId => {\n\t\t\tvar currents;\n\n\t\t\tif ( 1 === menuId.length ) {\n\t\t\t\tcurrents = $( menuId ).children( '.current-menu-item' );\n\t\t\t} else {\n\t\t\t\tcurrents = $( `#${menuId} > .current-menu-item` );\n\t\t\t}\n\n\t\t\t// Check if it's a parent menu item before removing things.\n\t\t\tif ( currents.length && ! currents.hasClass( 'current-menu-parent' ) ) {\n\t\t\t\tlet links = currents.find( 'a' );\n\t\t\t\tlet regex = new RegExp( '(color-?([\\\\d]|neutral)|transparent)-.?[^\\\\s]+', 'g' );\n\n\t\t\t\t_.each( links, link => {\n\t\t\t\t\tlet current = BOLDGRID.Customizer.Util.getAllUrlParams( _wpCustomizeSettings.url.self );\n\t\t\t\t\tlet href = BOLDGRID.Customizer.Util.getAllUrlParams( $( link ).attr( 'href' ) );\n\t\t\t\t\t! _.isMatch( href, current ) && $( link )\n\t\t\t\t\t\t.parent( 'li' )\n\t\t\t\t\t\t.removeClass( 'current-menu-item' )\n\t\t\t\t\t\t.removeClass( ( index, css ) => {\n\t\t\t\t\t\t\treturn ( css.match( regex ) || [] ).join( ' ' );\n\t\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Get the menu color being used for link color contrast.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param {String} location Menu location.\n\t\t *\n\t\t * @return {String} Name of theme mod to use.\n\t\t */\n\t\tlet menuContrastColor = ( location, menuId ) => {\n\t\t\tlet type = `bgtfw_menu_background_${location}`;\n\t\t\tlet isTransparent = api( type )().includes( 'transparent' );\n\t\t\tif ( isTransparent ) {\n\t\t\t\ttype = 'header';\n\n\t\t\t\tif ( BOLDGRID.CUSTOMIZER.data.menu.footerMenus.includes( location ) ) {\n\t\t\t\t\ttype = 'footer';\n\t\t\t\t}\n\n\t\t\t\ttype = `bgtfw_${type}_color`;\n\t\t\t}\n\n\t\t\tnew ColorPreview().outputColor( type, `#${menuId}`, [ 'background-color' ], isTransparent );\n\t\t};\n\n\t\t// Setup menu controls.\n\t\tfor ( const props of Object.values( _wpCustomizePreviewNavMenusExports.navMenuInstanceArgs ) ) {\n\n\t\t\tif ( props.theme_location ) {\n\n\t\t\t\t// Setup current menu items.\n\t\t\t\tsetupCurrentMenuItems( props.menu_id );\n\n\t\t\t\t// Setup partials.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_hamburger_${props.theme_location}_toggle`, `#${props.menu_id}`, () => {\n\t\t\t\t\tlet id = `nav_menu_instance[${props.args_hmac}]`;\n\t\t\t\t\tif ( wp.customize.selectiveRefresh.partial( id ) ) {\n\n\t\t\t\t\t\t// before triggering a refresh destroy the instance.\n\t\t\t\t\t\t$( `#${props.menu_id}` ).smartmenus( 'destroy' );\n\t\t\t\t\t\twp.customize.selectiveRefresh.partial( id ).refresh();\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t// Setup hamburger menus.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_hamburger_${props.theme_location}`, `#${props.menu_id}-hamburger`, hamburgerFn );\n\n\t\t\t\t// Setup hamburger menu enable/disable.\n\t\t\t\tnew Toggle( `bgtfw_menu_hamburger_${props.theme_location}_toggle`, ( to ) => {\n\n\t\t\t\t\t// If disabled, ensure the hamburger is forced open, and active state is set.\n\t\t\t\t\tlet menu = document.getElementById( `${props.menu_id}-state` );\n\t\t\t\t\tlet hamburger = document.getElementById( `${props.menu_id}-hamburger` );\n\t\t\t\t\tif ( ! to ) {\n\t\t\t\t\t\tif ( ! menu.checked ) {\n\t\t\t\t\t\t\t$( menu ).click();\n\t\t\t\t\t\t\thamburger.classList.remove( 'is-active' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( to ) {\n\t\t\t\t\t\tif ( menu.checked ) {\n\t\t\t\t\t\t\t$( menu ).click();\n\t\t\t\t\t\t\thamburger.classList.remove( 'is-active' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Toggle hidden classes for display.\n\t\t\t\t\t$( `#${props.menu_id}-hamburger, #${props.menu_id}-state` ).toggleClass( 'hidden', ! to ) && calc();\n\t\t\t\t} );\n\n\t\t\t\t// Bind menu items hover effects.\n\t\t\t\tnew ToggleValue( `bgtfw_menu_items_hover_effect_${props.theme_location}`, `#${props.menu_id} > li:not(.current-menu-item)`, hoverFn );\n\n\t\t\t\t// Bind menu background contrast for link colors.\n\t\t\t\tapi( `bgtfw_menu_background_${props.theme_location}`, 'bgtfw_header_color', 'bgtfw_footer_color', ( ...args ) => {\n\t\t\t\t\targs.map( control => control.bind( () => menuContrastColor( props.theme_location, props.menu_id ) ) );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t}\n\n\t\tnew Toggle( 'bgtfw_header_width', calc );\n\t\tnew Toggle( 'bgtfw_footer_headings_color', () => headingsColorOutput( 'bgtfw_footer_headings_color', '.site-footer :not(.bgtfw-widget-row)' ) );\n\t\tnew Toggle( 'blogname', ( to ) => $( '.site-title a' ).text( to ) && calc() );\n\t\tnew Toggle( 'blogdescription', ( to ) => {\n\t\t\t$( '.site-description' ).text( to ).toggleClass( 'invisible', ! to ) && calc();\n\t\t} );\n\n\t\t// Toggle page title wrapper containers.\n\t\tlet toggleTitleFn = ( condition, classes ) => {\n\t\t\tlet body = $( 'body' );\n\t\t\tif ( ! body.hasClass( 'page-header-hidden' ) && ! body.hasClass( 'page-header-shown' ) ) {\n\t\t\t\tfor ( let className of classes ) {\n\t\t\t\t\tif ( body.hasClass( className ) ) {\n\t\t\t\t\t\tbody.toggleClass( 'customizer-page-header-hidden', condition );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tapi( 'bgtfw_pages_title_display', value => value.bind( to => {\n\t\t\tlet condition = 'hide' === to;\n\t\t\ttoggleTitleFn( condition, [ 'page', 'blog', 'archive' ] );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_posts_title_display', value => value.bind( to => {\n\t\t\tlet condition = 'hide' === to && 'none' === api( 'bgtfw_posts_meta_display' )();\n\t\t\ttoggleTitleFn( condition, [ 'single', 'post-template-default' ] );\n\t\t} ) );\n\n\t\tapi( 'bgtfw_posts_meta_display', value => value.bind( to => {\n\t\t\tlet condition = 'none' === to && 'hide' === api( 'bgtfw_posts_title_display' )();\n\t\t\ttoggleTitleFn( condition, [ 'single', 'post-template-default' ] );\n\t\t} ) );\n\n\t\tnew Toggle( 'boldgrid_background_vertical_position', setBackgroundVerticalPosition );\n\t\tnew Toggle( 'boldgrid_background_horizontal_position', setBackgroundHorizontalPosition );\n\t\tnew Toggle( 'boldgrid_background_pattern', updateColorAndPatterns );\n\t\tnew Toggle( 'boldgrid_background_color', updateColorAndPatterns );\n\n\t\tnew Toggle( 'boldgrid_background_type', backgroundTypeUpdate );\n\t\tnew Toggle( 'background_attachment', backgroundAttachmentUpdate );\n\t\tnew Toggle( 'background_repeat', backgroundRepeatUpdate );\n\t\tnew Toggle( 'boldgrid_background_image_size', backgroundSizeUpdate );\n\n\t\tlet setHeaderPosition = ( to ) => {\n\t\t\tif ( 'header-top' !== to ) {\n\t\t\t\tparent.kirkiSetSettingValue.set( 'bgtfw_header_width', api( 'bgtfw_header_width' )() );\n\t\t\t}\n\t\t\tcalc();\n\t\t};\n\n\t\tnew ToggleValue( 'bgtfw_header_layout_position', 'body', 'header-top header-left header-right', setHeaderPosition );\n\n\t\t$( document ).on( 'customize-preview-menu-refreshed', function( event, menu ) {\n\t\t\t$.each( menu.newContainer.closest( '[data-is-parent-column]' ), function() {\n\t\t\t\tBOLDGRID.Customizer.Widgets.updatePartial( $( this ) );\n\t\t\t\tif ( 'secondary-menu' === menu.container_id && '' !== api( 'bgtfw_header_container' )() ) {\n\t\t\t\t\tdocument.getElementById( menu.container_id ).classList.add( api( 'bgtfw_header_container' )() );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t// Reinitialize widgets when our sidebar areas are re-rendered.\n\t\tapi.selectiveRefresh.bind( 'partial-content-rendered', function( placement ) {\n\n\t\t\t// Only update when the dynamic widget sidebars are rerendered.\n\t\t\tif ( 'boldgrid_header_widgets' === placement.partial.id || 'boldgrid_footer_widgets' === placement.partial.id ) {\n\t\t\t\tBOLDGRID.Customizer.Widgets.updatePartial( placement.container );\n\t\t\t}\n\n\t\t\tcalc();\n\t\t} );\n\n\t\tBOLDGRID.Customizer.Widgets.updatePartial = function( selector ) {\n\n\t\t\t// Comment reply link.\n\t\t\tselector.find( '.comment-reply-link' )\n\t\t\t\t.addClass( 'btn button-primary color1-text-contrast' )\n\t\t\t\t.css( 'transition', 'all .5s' );\n\n\t\t\t// The WordPress Default Widgets.\n\t\t\tselector.find( '.widget_rss ul' ).addClass( 'media-list' );\n\t\t\tselector.find( '.widget_meta ul, .widget_recent_entries ul, .widget_archive ul, .widget_categories ul, .widget_nav_menu ul, .widget_pages ul' ).addClass( 'nav' );\n\t\t\tselector.find( '.widget_recent_comments ul#recentcomments' )\n\t\t\t\t.css( { 'list-style': 'none', 'padding-left': '0' } );\n\t\t\tselector.find( '.widget_recent_comments ul#recentcomments li' ).css( 'padding', '5px 15px' );\n\t\t\tselector.find( '.sidebar select, select[name=\"archive-dropdown\"]' ).addClass( 'form-control' );\n\t\t\tselector.find( '.sidebar .button' ).removeClass( 'button' ).addClass( 'btn button-primary' );\n\n\t\t\t// WooCommerce Widgets.\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).css( 'display', 'none' );\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).css( 'display', 'block' );\n\t\t\tselector.find( '.woocommerce.widget .ui-slider' ).addClass( 'color1-background-color' ).children().addClass( 'color2-background-color' );\n\n\t\t\t// Buttons.\n\t\t\tselector.find( '.button' )\n\t\t\t\t.removeClass( 'button' )\n\t\t\t\t.addClass( 'btn button-primary' );\n\t\t\tselector.find( '.button.alt' )\n\t\t\t\t.removeClass( 'button alt' )\n\t\t\t\t.addClass( 'btn button-secondary' );\n\t\t};\n\n\t\t/**\n\t\t * Before displaying the partal content for nav menu items on the page we want to\n\t\t * destroy the existing instance of our menus tied to the partial because when the\n\t\t * partial is rendered, we will re-initialize the individual menu, and would no\n\t\t * longer have reference back to the initial instance referenced.\n\t\t */\n\t\tapi.selectiveRefresh.bind( 'render-partials-response', function( placement ) {\n\n\t\t\t// Destroy menu instances.\n\t\t\tif ( ! _.isUndefined( placement.nav_menu_instance_args ) ) {\n\t\t\t\t_.each( placement.nav_menu_instance_args, ( instance ) => $( `#${instance.menu_id}` ).smartmenus( 'destroy' ) );\n\t\t\t}\n\t\t} );\n\n\t\t/**\n\t\t * When menu partials are refreshed, we need to ensure that we update the new\n\t\t * container, and initialize a new instance of our menus for proper funcitonality.\n\t\t *\n\t\t * The delay for setupCurrentMenuItems() is important because after\n\t\t * customize-preview-menu-refreshed is trigged _wpCustomizeSettings reflects a\n\t\t * different page ID, so we wait the full duration of the selectiveRefresh event\n\t\t * before attempting to correct the menu classes.\n\t\t */\n\t\t$( document ).on( 'customize-preview-menu-refreshed', function( e, params ) {\n\t\t\tif ( ! _.isUndefined( BoldGrid ) ) {\n\t\t\t\tif ( ! _.isUndefined( BoldGrid.standard_menu_enabled ) ) {\n\n\t\t\t\t\t// Reset current-menu-item classes in customizer.\n\t\t\t\t\t_.delay( () => setupCurrentMenuItems( params.newContainer ), _wpCustomizeSettings.timeouts.selectiveRefresh );\n\n\t\t\t\t\t// Initialize SmartMenu on the updated container and params.\n\t\t\t\t\tif ( ! _.isUndefined( params.wpNavArgs.theme_location ) && ! _.isEmpty( params.wpNavArgs.theme_location ) ) {\n\t\t\t\t\t\tBoldGrid.standard_menu_enabled.init( params.newContainer );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n} )( jQuery );\n","/* esversion: 6 */\nconst api = wp.customize;\n\n/**\n * This class is responsible for managing the expand and collapse\n * triggers for panels and sections in the WordPress customizer.\n *\n * @since 2.0.0\n */\nexport class Toggle {\n\n\t/**\n\t * Constructor\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} id ID of the control to bind to.\n\t * @param {String} fn Do something with updated value.\n\t */\n\tconstructor( id = null, fn = null ) {\n\t\tObject.assign( this, { id, fn } );\n\t\t$( () => this._onLoad() );\n\t}\n\n\t/**\n\t * Initialize type.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindControl() {\n\t\tapi( this.id, ( value ) => value.bind( ( to ) => 'function' === typeof this.fn ? this.fn.call( this, to ) : this.bound( to ) ) );\n\t}\n\n\t/**\n\t * Onload event.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\t\tthis._bindControl();\n\t}\n\n\t/**\n\t * Noop\n\t *\n\t * @since 2.0.0\n\t */\n\tbound() {}\n}\n\nexport default Toggle;\n","/* global _wpCustomizePreviewNavMenusExports:false, BOLDGRID:false */\nimport PaletteSelector from './palette-selector';\nimport { Preview as PreviewUtility } from '../preview';\n\nexport class Preview  {\n\n\tconstructor() {\n\t\tthis.previewUtility = new PreviewUtility();\n\n\t\tthis.classControls = [\n\t\t\t{\n\t\t\t\tname: 'bgtfw_footer_color',\n\t\t\t\tselector: '#colophon, .footer-content',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_tagline_color',\n\t\t\t\tselector: '.site-description',\n\t\t\t\tproperties: [ 'color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_site_title_color',\n\t\t\t\tselector: '.site-title',\n\t\t\t\tproperties: [ 'color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_post_background_color',\n\t\t\t\tselector: '.palette-primary.archive .post, .palette-primary.blog .post',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_post_header_title_color',\n\t\t\t\tselector: '.archive .post .entry-title .link, .blog .post .entry-title .link',\n\t\t\t\tproperties: [ 'color', 'color-hover' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_blog_header_background_color',\n\t\t\t\tselector: '.palette-primary.archive .post .entry-header, .palette-primary.blog .post .entry-header',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_global_title_background_color',\n\t\t\t\tselector: '.page-header',\n\t\t\t\tproperties: [ 'background-color', 'text-default' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_global_title_color',\n\t\t\t\tselector: '.page-header .entry-title .link, .page-header .page-title .link',\n\t\t\t\tproperties: [ 'color', 'color-hover' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'bgtfw_footer_links',\n\t\t\t\tselector: '.footer-content',\n\t\t\t\tproperties: [ 'link-color' ]\n\t\t\t}\n\t\t];\n\t}\n\n\t/**\n\t * Class initialized.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {Preview} Class instance.\n\t */\n\tinit() {\n\t\t$( () => this._onLoad() );\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Handles front-end color changes in previewer.\n\t *\n\t * This will add classes for color changes to elements during a live preview.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param string themeMod Theme mod to use for retrieving a background color.\n\t * @param string selector CSS selector to apply classes to.\n\t * @param array  list of properties to add.\n\t */\n\toutputColor( themeMod, selector, properties, isTransparent ) {\n\t\tlet colorClassPrefix,\n\t\t\t$selector = $( selector ),\n\t\t\tregex = new RegExp( '(color-?([\\\\d]|neutral)|transparent)-(' + properties.join( '|' ) + ')(\\\\s+|$)', 'g' );\n\n\t\tthemeMod = parent.wp.customize( themeMod )();\n\n\t\tif ( ! themeMod || 'none' === themeMod ) {\n\t\t\tthemeMod = '';\n\t\t}\n\n\t\t$selector.removeClass( ( index, css ) => {\n\t\t\treturn ( css.match( regex ) || [] ).join( ' ' );\n\t\t} );\n\n\t\t// Get class prefix.\n\t\tcolorClassPrefix = new PaletteSelector().getColorNumber( themeMod );\n\n\t\t// Add all classes.\n\t\t$selector.addClass( _.map( properties, ( property ) => {\n\t\t\tlet prefix = colorClassPrefix;\n\n\t\t\t// If neutral or link-color, do not remove color hyphen.\n\t\t\tif ( -1 === colorClassPrefix.indexOf( 'neutral' ) && -1 === property.indexOf( 'link-color' ) ) {\n\t\t\t\tprefix = colorClassPrefix.replace( '-', '' );\n\t\t\t}\n\n\t\t\treturn prefix + '-' + property;\n\t\t} ).join( ' ' ) );\n\n\t\tif ( isTransparent ) {\n\t\t\t$selector.addClass( _.map( properties, ( property ) => {\n\t\t\t\tlet prefix = colorClassPrefix;\n\n\t\t\t\t// If neutral or link-color, do not remove color hyphen.\n\t\t\t\tif ( -1 === colorClassPrefix.indexOf( 'neutral' ) && -1 === property.indexOf( 'link-color' ) ) {\n\t\t\t\t\tprefix = colorClassPrefix.replace( '-', '' );\n\t\t\t\t}\n\n\t\t\t\treturn prefix + '-' + property + ' transparent-' + property;\n\t\t\t} ).join( ' ' ) );\n\t\t}\n\t}\n\n\t/**\n\t * Get the css used for headin colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} to Them mod value.\n\t * @return {string}    CSS for headings.\n\t */\n\tgetHeadingCSS( to ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\n\t\tlet css = '',\n\t\t\theadingSelectors = [];\n\n\t\tif ( color ) {\n\t\t\theadingSelectors = this.getHeadingColorSelectors().join( ', ' );\n\n\t\t\tcss = `\n\t\t\t\t${ headingSelectors } {\n\t\t\t\t\tcolor: ${ color };\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get a list of heading selectors from the global.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @return {array} list of selectors.\n\t */\n\tgetHeadingColorSelectors() {\n\t\tconst selectors = [];\n\n\t\t_.each( BOLDGRID.CUSTOMIZER.data.customizerOptions.typography.selectors, function( value, key ) {\n\t\t\tif ( 'headings' === value.type ) {\n\t\t\t\tselectors.push( key );\n\t\t\t}\n\t\t} );\n\n\t\treturn selectors;\n\t}\n\n\t/**\n\t * Use the theme mod saved for a heading color to set the heading colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetHeadingColors() {\n\t\tconst css = this.getHeadingCSS( wp.customize( 'bgtfw_headings_color' )() );\n\t\tthis.previewUtility.updateDynamicStyles( 'bgtfw_headings_color', css );\n\t}\n\n\t/**\n\t * Get Hamburger menu CSS.\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetHamburgerCSS( to, menuId ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\t\tlet css = `\n\t\t.${menuId}-btn .hamburger-inner,\n\t\t.${menuId}-btn .hamburger-inner::before,\n\t\t.${menuId}-btn .hamburger-inner::after {\n\t\t\tbackground-color: ${color};\n\t\t}`;\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get active link color CSS.\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetActiveLinkColor( to, menuId ) {\n\t\tconst color = new PaletteSelector().getColor( to );\n\t\tlet css = `\n\t\t#${menuId} .current-menu-item > a,\n\t\t#${menuId} .current-menu-ancestor > a,\n\t\t#${menuId} .current-menu-parent > a {\n\t\t\tcolor: ${color};\n\t\t}`;\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Get supplementary menu color CSS.\n\t *\n\t * @param {String} location Menu location for nav menu instance.\n\t *\n\t * @return {String} css The CSS to add.\n\t */\n\tgetMenuColorsCSS( location ) {\n\t\tlet type = `bgtfw_menu_background_${location}`;\n\t\tlet inFooter = false;\n\n\t\tif ( wp.customize( type )().includes( 'transparent' ) || _.isUndefined( wp.customize( type )() ) ) {\n\t\t\ttype = 'header';\n\n\t\t\tif ( BOLDGRID.CUSTOMIZER.data.menu.footerMenus.includes( location ) ) {\n\t\t\t\ttype = 'footer';\n\t\t\t\tinFooter = true;\n\t\t\t}\n\n\t\t\ttype = `bgtfw_${type}_color`;\n\t\t}\n\n\t\tlet color = wp.customize( type )();\n\n\t\tlet paletteSelector = new PaletteSelector();\n\n\t\tlet colorVariable = paletteSelector.getColor( color );\n\n\t\tcolor = paletteSelector.getColor( color, true );\n\n\t\tlet alpha = parent.net.brehaut.Color( color );\n\t\tlet css = '';\n\n\t\tlocation = location.replace( /_/g, '-' );\n\n\t\tif ( ! inFooter ) {\n\t\t\tcss += `.header-left #main-menu, .header-right #main-menu { background-color: ${alpha}; }`;\n\t\t}\n\n\t\tcss += '@media (min-width: 768px) {';\n\t\tcss += `#${location}-menu.sm-clean ul {background-color: ${colorVariable};}`;\n\t\tcss += `#${location}-menu.sm-clean ul a, #${location}-menu.sm-clean ul a:hover, #${location}-menu.sm-clean ul a:focus, #${location}-menu.sm-clean ul a:active, #${location}-menu.sm-clean ul a.highlighted, #${location}-menu.sm-clean span.scroll-up, #${location}-menu.sm-clean span.scroll-down, #${location}-menu.sm-clean span.scroll-up:hover, #${location}-menu.sm-clean span.scroll-down:hover {background-color: ${alpha};}`;\n\t\tcss += `#${location}-menu.sm-clean ul { border: 1px solid ${alpha};}`;\n\t\tcss += `#${location}-menu.sm-clean > li > ul:before, #${location}-menu.sm-clean > li > ul:after { border-color: transparent transparent ${colorVariable} transparent;}`;\n\t\tcss += '}';\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set supplementary menu colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Menu location for nav menu instance.\n\t */\n\tsetMenuColors( location ) {\n\t\tlet css = this.getMenuColorsCSS( location );\n\t\tthis.previewUtility.updateDynamicStyles( `menu-colors-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t *\n\t * @param {String} to Thememod's color value.\n\t * @param {String} menuId Menu ID for nav menu instance.\n\t */\n\tgetHoverCSS( location ) {\n\n\t\tconst color = new PaletteSelector().getColor( wp.customize( `bgtfw_menu_items_hover_color_${location}` )() );\n\t\tconst backgroundColor = new PaletteSelector().getColor( wp.customize( `bgtfw_menu_items_hover_background_${location}` )() );\n\t\tlet css = BOLDGRID.CUSTOMIZER.data.hoverColors;\n\n\t\tlocation = location.replace( /_/g, '-' );\n\n\t\tcss = css.replace( /%1\\$s/g, `#${location}-menu` );\n\t\tcss = css.replace( /%2\\$s/g, backgroundColor );\n\t\tcss = css.replace( /%3\\$s/g, color );\n\t\tcss = css.replace( /%4\\$s/g, backgroundColor );\n\n\t\treturn css;\n\t}\n\n\t/**\n\t * Set the hamburger colors for menus.\n\t *\n\t * @since 2.0.0\n\t * @param {Object} props Properties assigned for a nav menu instance.\n\t */\n\tsetHamburgerColors( location, menuId ) {\n\t\tlet to = wp.customize( `bgtfw_menu_hamburger_${location}_color` )();\n\t\tlet css = this.getHamburgerCSS( to, menuId );\n\t\tthis.previewUtility.updateDynamicStyles( `bgtfw_menu_hamburger_${location}_color`, css );\n\t}\n\n\t/**\n\t * Set the hover colors for menu items.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Set hover colors for menu items.\n\t */\n\tsetHoverColors( location ) {\n\t\tlet css = this.getHoverCSS( location );\n\t\tthis.previewUtility.updateDynamicStyles( `hover-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t * Set active menu item link colors.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Location of nav menu instance.\n\t * @param {String} menuId   Unique ID for nav menu instance.\n\t */\n\tsetActiveLinkColor( location, menuId ) {\n\t\tlet mod = `bgtfw_menu_items_active_link_color_${location}`;\n\t\tlet to = wp.customize( mod )();\n\t\tlet css = this.getActiveLinkColor( to, menuId );\n\t\tthis.previewUtility.updateDynamicStyles( `active-link-color-${location}-inline-css`, css );\n\t}\n\n\t/**\n\t * Set dynamic menu color configs.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param {String} location Location of nav menu instance.\n\t * @param {String} menuId   Unique ID for nav menu instance.\n\t */\n\tsetMenuConfigs( location, menuId ) {\n\t\tthis.classControls.push(\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_border_color_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_border_color_${location}`,\n\t\t\t\tselector: `#${menuId} > li`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_background_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'background-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_link_color_${location}`,\n\t\t\t\tselector: `#${menuId}`,\n\t\t\t\tproperties: [ 'link-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_active_link_background_${location}`,\n\t\t\t\tselector: `#${menuId} > li.current-menu-item`,\n\t\t\t\tproperties: [ 'background-color' ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: `bgtfw_menu_items_active_link_border_color_${location}`,\n\t\t\t\tselector: `#${menuId} > li.current-menu-item`,\n\t\t\t\tproperties: [ 'border-color' ]\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Set the overlay colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetHeaderOverlay() {\n\t\tconst selector = new PaletteSelector(),\n\t\t\tcolor = selector.getColor( wp.customize( 'bgtfw_header_overlay_color' )(), true ),\n\t\t\talpha = wp.customize( 'bgtfw_header_overlay_alpha' )(),\n\t\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\t\trgba = brehautColor.setAlpha( alpha ).toString();\n\n\t\tlet styles = '#wp-custom-header::after{ display: none; }';\n\t\tif ( wp.customize( 'bgtfw_header_overlay' )() ) {\n\t\t\tstyles = `\n\t\t\t\t#wp-custom-header::after {\n\t\t\t\t\tbackground-color: ${rgba} !important;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\tthis.previewUtility.updateDynamicStyles( 'bgtfw-header-overlay-inline-css', styles );\n\t}\n\n\t/**\n\t * Set .entry-header colors.\n\t *\n\t * @since 2.0.0\n\t */\n\tsetPageTitles( themeMod, selectors ) {\n\t\tconst selector = new PaletteSelector(),\n\t\tcolor = selector.getColor( wp.customize( themeMod )(), true ),\n\t\tbrehautColor = parent.net.brehaut.Color( color ),\n\t\tupdatedColor = brehautColor.setAlpha( 0.7 ).toString();\n\n\t\tlet parse = ( string ) => {\n\t\t\tvar token = /((?:[^\"']|\".*?\"|'.*?')*?)([(,)]|$)/g;\n\t\t\treturn ( function recurse() {\n\t\t\t\tvar result;\n\t\t\t\tfor ( let array = [];; ) {\n\t\t\t\t\tresult = token.exec( string );\n\t\t\t\t\tif ( '(' === result[2] ) {\n\t\t\t\t\t\tarray.push( result[1].trim() + '(' + recurse().join( ', ' ) + ')' );\n\t\t\t\t\t\tresult = token.exec( string );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarray.push( result[1].trim() );\n\t\t\t\t\t}\n\t\t\t\t\tif ( ',' !== result[2] ) {\n\t\t\t\t\t\treturn array;\n\t\t\t\t\t} else if ( ',' === result[2] && '%' === result[1][ result[1].length - 1 ] ) {\n\t\t\t\t\t\tarray[ array.length - 1 ] += result[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} )( );\n\t\t};\n\n\t\tlet colorRegex = /rgba\\(\\s?([0-9]+),\\s?([0-9]+),\\s?([0-9]+),\\s?([0-9|.]+)\\s?\\)/g;\n\t\tlet headers = $( selectors );\n\n\t\t_.each( headers, function( header ) {\n\t\t\theader = $( header );\n\n\t\t\tlet background = header.css( 'background-image' );\n\t\t\tlet updatedBackground = false;\n\n\t\t\t// Parse background-image properties into an array.\n\t\t\tlet props = parse( background );\n\n\t\t\t// Check for linear-gradient being applied.\n\t\t\tlet linearGradient = props.filter( prop => prop.includes( 'linear-gradient' ) );\n\n\t\t\t// Replace the new color in gradient.\n\t\t\tif ( 0 < linearGradient.length && colorRegex.test( linearGradient[0] ) ) {\n\t\t\t\tlet newLinearGradient = linearGradient[0].replace( /\\s+/g, '' );\n\t\t\t\tnewLinearGradient = newLinearGradient.replace( colorRegex, updatedColor );\n\t\t\t\tupdatedBackground = background.replace( linearGradient[0], newLinearGradient );\n\t\t\t} else {\n\t\t\t\tlet hasImage = props.filter( prop => prop.includes( 'url(' ) );\n\n\t\t\t\t// If a url is specified, then construct a new linear-gradient if one wasn't found.\n\t\t\t\tif ( hasImage ) {\n\t\t\t\t\tupdatedBackground = 'linear-gradient(' + updatedColor + ', ' + updatedColor + '), ' + background;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update the background-image property.\n\t\t\tif ( updatedBackground ) {\n\t\t\t\theader.css( 'background-image', updatedBackground );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Loop over registered nav menu instances and their arguments\n\t * to handle the CSS color controls for hamburgers on each.\n\t *\n\t * @since 2.0.0\n\t */\n\tmenus() {\n\t\tfor ( const props of Object.values( _wpCustomizePreviewNavMenusExports.navMenuInstanceArgs ) ) {\n\t\t\tif ( props.theme_location ) {\n\n\t\t\t\t// Set menu border colors.\n\t\t\t\tthis.setMenuConfigs( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set Defaults.\n\t\t\t\tthis.setHamburgerColors( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set Defaults.\n\t\t\t\tthis.setHoverColors( props.theme_location );\n\n\t\t\t\t// Set active link colors.\n\t\t\t\tthis.setActiveLinkColor( props.theme_location, props.menu_id );\n\n\t\t\t\t// Set supplementary menu CSS.\n\t\t\t\tthis.setMenuColors( props.theme_location );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindHoverColors( props.theme_location );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindMenuColors( props.theme_location );\n\n\t\t\t\t// Setup active link color even handlers.\n\t\t\t\tthis._bindActiveLinkColors( props.theme_location, props.menu_id );\n\n\t\t\t\t// Setup event handlers.\n\t\t\t\tthis._bindHamburgerColors( props.theme_location, props.menu_id );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Events to run when the Dom loads.\n\t *\n\t * @since 2.0.0\n\t */\n\t_onLoad() {\n\n\t\t// Set Defaults.\n\t\tthis.setHeadingColors();\n\t\tthis.menus();\n\n\t\t// Setup event handlers.\n\t\tthis._bindConfiguredControls();\n\t\tthis._bindHeadingColor();\n\t\tthis._bindHeaderOverlay();\n\t\tthis._bindEntryHeader();\n\t\tthis._bindGlobalPageTitles();\n\t}\n\n\t/**\n\t * Bind the event of the .entry-headers changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindEntryHeader() {\n\t\twp.customize( 'bgtfw_blog_header_background_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setPageTitles( 'bgtfw_blog_header_background_color', '.has-post-thumbnail .entry-header:not(.page-header)' ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the .entry-headers changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindGlobalPageTitles() {\n\t\twp.customize( 'bgtfw_global_title_background_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setPageTitles( 'bgtfw_global_title_background_color', '.page-header.has-featured-image-header' ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the overlay changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHeaderOverlay() {\n\t\twp.customize( 'bgtfw_header_overlay_alpha', 'bgtfw_header_overlay', 'bgtfw_header_overlay_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setHeaderOverlay() ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the event of the overlay changing colors.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindMenuColors( location ) {\n\t\twp.customize( `bgtfw_menu_background_${location}`, 'bgtfw_header_color', 'bgtfw_footer_color', ( ...args ) => {\n\t\t\targs.map( ( control ) => control.bind( () => this.setMenuColors( location ) ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind all color class controls given through class property.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindConfiguredControls() {\n\t\tfor ( const control of this.classControls ) {\n\t\t\twp.customize( control.name, ( value ) => {\n\t\t\t\tvalue.bind( () => this.outputColor( control.name, control.selector, control.properties ) );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Bind the change events for heading colors changing.\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHeadingColor() {\n\t\twp.customize( 'bgtfw_headings_color', ( value ) => {\n\t\t\tvalue.bind( () => this.setHeadingColors() );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the change events for hamburger colors\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHamburgerColors( location, menuId ) {\n\t\twp.customize( `bgtfw_menu_hamburger_${location}_color`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHamburgerColors( location, menuId ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind the change events for hamburger colors\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindHoverColors( location ) {\n\t\twp.customize( `bgtfw_menu_items_hover_color_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHoverColors( location ) );\n\t\t} );\n\t\twp.customize( `bgtfw_menu_items_hover_background_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setHoverColors( location ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Bind active link color settings\n\t *\n\t * @since 2.0.0\n\t */\n\t_bindActiveLinkColors( location, menuId ) {\n\t\twp.customize( `bgtfw_menu_items_active_link_color_${location}`, ( value ) => {\n\t\t\tvalue.bind( () => this.setActiveLinkColor( location, menuId ) );\n\t\t} );\n\t}\n}\n\nexport default Preview;\n","var $ = jQuery;\n\nexport class Preview {\n\n\t/**\n\t * Create or update stylesheet in the head of the preview iframe.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param  {string} id  ID of the style tag.\n\t * @param  {string} css CSS for the style tag.\n\t * @return {jQuery}     DOM element.\n\t */\n\tupdateDynamicStyles( id, css ) {\n\t\tconst $head = $( 'head' );\n\t\tlet $selector = $( '#' + id );\n\n\t\tif ( $selector.length ) {\n\t\t\t$selector.html( css );\n\t\t} else {\n\t\t\t$selector = $( '<style type=\"text/css\" id=\"' + id + '\">' );\n\t\t\t$selector.html( css );\n\t\t\t$head.append( $selector );\n\t\t}\n\n\t\treturn $selector;\n\t}\n\n}\n"],"sourceRoot":""}