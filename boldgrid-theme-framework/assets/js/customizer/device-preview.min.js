window.wp=window.wp||{},function(e){function s(e,s){if(e&&s){var i=e.className,t=i.indexOf(s);t===-1?i+=" "+s:i=i.substr(0,t)+i.substr(t+s.length),e.className=i}}var i;i=wp.customizer=wp.customizer||{},i.screen={data:_wpCustomizerDevicePreview,model:{},view:{},template:wp.template},i.screen.model=Backbone.Model.extend({}),i.screen.view.Devices=wp.Backbone.View.extend({className:"device",activeClass:"current",events:{"click .device":"preview"},el:"body",previewFrame:e("#customize-preview"),html:i.screen.template("device"),render:function(){this.$el.append(this.html),this.$el.find('[data-device="desktop"]').addClass(this.activeClass),this.previewFrame.addClass("desktop"),i.screen.data.settings.mobileTheme&&this.previewFrame.append('<p id="mobile-message">'+i.screen.data.settings.mobileMessage+"</p>")},preview:function(s){var i=e(s.target),t=i.data("device");i.hasClass(this.activeClass)||(e(".device").removeClass(this.activeClass),i.addClass(this.activeClass),this.previewFrame.removeClass("desktop tablet mobile"),this.previewFrame.addClass(t))}}),i.screen.Run={init:function(){this.view=new i.screen.view.Devices({}),this.view.render()}},jQuery("#customize-footer-actions > button").on("click",function(){s(document.getElementById("devices"),"hidden")}),jQuery(document).ready(_.bind(i.screen.Run.init,i.screen.Run))}(jQuery);