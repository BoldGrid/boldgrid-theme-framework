var BOLDGRID=BOLDGRID||{};BOLDGRID.CustomizerEdit=BOLDGRID.CustomizerEdit||{},function(t){"use strict";var i,o,n;n=parent.wp.customize,BOLDGRID.CustomizerEdit={i18n:window.boldgridFrameworkCustomizerEdit||{},buttonCollisionSet:1,targetHighlightTop:!0,userIsScrolling:!1,buttonHeight:0,buttonWidth:0,defaultZindex:200,init:function(){i._onReady(),i._onLoad()},_onReady:function(){t(document).ready(i.adjustEmptyMenus)},_onLoad:function(){t(window).on("load",function(){o=t("body"),i.start(),i._customizer(),setTimeout(function(){i.placeButtons()},3e3)})},_customizer:function(){var i;(i=t("#main-menu")).length&&i.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd","ul",function(t){BOLDGRID.CustomizerEdit.placeButtons(),t.stopPropagation()}),wp.customize.preview.bind("setting",function(){clearTimeout(t.data(this,"previewBind")),t.data(this,"previewBind",setTimeout(function(){BOLDGRID.CustomizerEdit.placeButtons()},400))}),wp.customize.selectiveRefresh.bind("partial-content-rendered",function(){BOLDGRID.CustomizerEdit.destroy(),BOLDGRID.CustomizerEdit.start()}),t(document).on("customize-preview-menu-refreshed",function(){BOLDGRID.CustomizerEdit.destroy(),BOLDGRID.CustomizerEdit.start()}),t(".header-fixed .site-header").on("scroll",_.debounce(function(){BOLDGRID.CustomizerEdit.placeButtons()},400))},start:function(){i.$targetHighlight=t("#target-highlight"),i.addButtons(),i.buttonHeight=t("button[data-control]:visible").first().outerHeight(),i.buttonWidth=t("button[data-control]:visible").first().outerWidth(),i.placeButtons(),t(window).resize(function(){clearTimeout(t.data(this,"resizeTimer")),t.data(this,"resizeTimer",setTimeout(function(){i.placeButtons()},400))}),t(i.i18n.config.hamburgers).click(function(){setTimeout(i.placeButtons,400)}),t(window).scroll(function(){i.userIsScrolling=!0,clearTimeout(t.data(this,"scrollTimer")),t.data(this,"scrollTimer",setTimeout(function(){i.userIsScrolling=!1,i.windowScroll()},100))})},addButtons:function(){var o,e,a=_.isFunction(n.section)?n.section("menu_locations").controls():[],s=t(".empty-menu");_(i.i18n.config.buttons.general).each(function(o){o.postType&&!o.postType.includes(i.i18n.postType)||1===t(o.selector).length&&i.addButton(o)}),e=i.getSections("sidebar-widgets-"),_(e).each(function(t){var o={control:t.id,selector:"#"+t.idSplit[1]+".sidebar",objectType:"section",isParentColumn:!0};i.addButton(o)}),_(a).each(function(n){var e;(o=i.getMenuId(n))&&(t("#"+o).attr("data-parent-column","#"+o),e={type:"nav_menu",control:n.setting._value,selector:"#"+o},i.addButton(e))}),_(s).each(function(o){var n={type:null,control:"new_menu_name",selector:"#"+t(o).attr("id"),icon:"dashicons-plus"};i.addButton(n)})},adjustEmptyMenus:function(){t(".empty-menu").parent(".navbar").addClass("empty-navbar")},buttonClick:function(o){var e,a=o.attr("data-control"),s=parent.window._wpCustomizeControlsL10n.cancel,r={width:400,resizable:!1,modal:!0},l=i.i18n.goThereNow,c=t(o.attr("data-selector")),d=t(".collapse-sidebar",parent.document),u=t(".customize-controls-preview-toggle .controls",parent.document),p=t(".wp-full-overlay",parent.document),h=o.attr("data-object-type");r.buttons={},r.buttons[l]=function(){parent.window.location=i.i18n.editPostLink},r.buttons[s]=function(){t(this).dialog("close")},"false"===d.attr("aria-expanded")&&d.click(),u.is(":visible")&&p.toggleClass("preview-only"),"entry-title"===a&&("page"===i.i18n.postType?a="bgtfw_pages_title_display":"post"===i.i18n.postType&&(a="bgtfw_posts_title_display")),"entry-content"!==a?"section"!==h&&"panel"!==h?("new_menu_name"===a?(e=c.attr("data-theme-location"),n.control("nav_menu_locations["+e+"]").focus()):n.control(a).focus(),setTimeout(function(){var i,o=t(":focus",parent.document);"hide_boldgrid_attribution"===a&&(o=t('ul#sub-accordion-section-boldgrid_footer_panel > li[id^="customize-control-hide_"][id$="_attribution"]',parent.document)),"hide_boldgrid_attribution"===a&&0==n("boldgrid_enable_footer")()&&(o=t(n.control("boldgrid_enable_footer").selector,parent.document)),0===a.lastIndexOf("nav_menu",0)&&(o=t(".customize-control-nav_menu_name",parent.document)),o.closest("div").hasClass("switch")&&(o=o.closest("li")),i=o.css("transition"),o.css({"min-height":o.outerHeight(),"min-width":o.outerWidth(),transition:"all 0s"}).effect("bounce",{times:3,distance:10},"slow",function(){t(this).css("transition",i)})},750)):n[h](a).focus():t("#"+a).dialog(r)},buttonMouseEnter:function(o,n,e){var a,s=n.offset().top,r=e.offset(),l=n.outerHeight(),c=0;0===l&&n.find("*").each(function(){var i=t(this).outerHeight();i>l&&(l=i)}),"1"===o.attr("data-fixed-ancestor")?(i.$targetHighlight.css("position","fixed"),s=n.offset().top-t(window).scrollTop()):i.$targetHighlight.css("position","absolute"),i.$targetHighlight.stop(!0).css("width",e.outerWidth()).css("height",l).css("top",s).css("z-index",o.css("z-index")).css("left",r.left).css("visibility","visible"),i.targetHighlightTop=setInterval(function(){c+=10,s="1"===o.attr("data-fixed-ancestor")?n.offset().top-t(window).scrollTop():n.offset().top,i.$targetHighlight.css("top",s),c>=400&&clearInterval(i.targetHighlightTop)},10),o.hasClass("new")&&(a=parseInt(o.attr("data-with-title-width")),o.stop(!0).html(" "+o.attr("data-title")).animate({"max-width":a+"px",left:i.right(o)-a},400)),i.isParentEmpty(n)&&(n.stop(!0).animate({height:i.buttonHeight},400),i.$targetHighlight.stop(!0).css("visibility","visible").animate({height:i.buttonHeight},400))},buttonMouseLeave:function(t,o){t.hasClass("new")&&t.stop(!0).animate({"max-width":30,left:t.attr("data-left")},400,function(){t.html("")}),clearInterval(i.targetHighlightTop),i.isParentEmpty(o)?(o.stop(!0).animate({height:"0px"},500),i.$targetHighlight.height()<=2?i.$targetHighlight.css("visibility","hidden"):i.$targetHighlight.stop(!0).animate({height:"0px"},400,function(){i.$targetHighlight.css("visibility","hidden")})):i.$targetHighlight.css("visibility","hidden")},collide:function(t,i){var o=!0,n=parseInt(t.attr("data-left")),e=parseInt(i.attr("data-left")),a=parseInt(t.attr("data-top")),s=parseInt(i.attr("data-top")),r=t.outerHeight(!0),l=i.outerHeight(!0),c=t.outerWidth(!0),d=i.outerWidth(!0);return(a+r<s||a>s+l||n+c<e||n>e+d)&&(o=!1),o},findCollision:function(){var o=[],n=t(".site-footer").last(),e=n.offset().top+n.outerHeight(!0);i.buttonCollisionSet=1,t("button[data-control]:visible").each(function(){o.push(t(this))}),o.sort(i.sortButtonsAsc),t.each(o,function(n,e){var a=t(e);n<o.length-1&&t.each(o,function(o,n){var e=t(n);a.is(e)||i.collide(a,e)&&i.fixCollision(a,e)})}),o.sort(i.sortButtonsDesc),_(o).each(function(i){var o,n,a=t(i),s=parseInt(a.attr("data-top"))+a.outerHeight(!0);s>e&&(o=s-e,n=a.attr("data-collision-set"),_.isUndefined(n)||t.each(t("[data-collision-set="+n+"]"),function(){var i=t(this),n=parseInt(i.attr("data-top")-o);i.attr("data-top",n)}))})},fixButtonPlacement:function(){t('[data-control][style*="position: fixed"][data-fixed-ancestor="0"]:not(.highlight-button)').each(function(){var o=t(this);o.css("position","absolute").css("top",t(window).scrollTop()),i.placeButton(o),i.findCollision()})},fixCollision:function(t,o){var n=parseInt(t.attr("data-top"))>parseInt(o.attr("data-top"))?t:o,e=t.is(n)?o:t,a=e.attr("data-collision-set");n.attr("data-top",parseInt(e.attr("data-top"))+i.buttonHeight),void 0===a&&(a=i.buttonCollisionSet,i.buttonCollisionSet++),n.attr("data-collision-set",a),e.attr("data-collision-set",a)},getFixedAncestors:function(i){return i.parents().filter(function(){return"fixed"===t(this).css("position")})},getMenuId:function(i){var o,n;return(o=t('[data-customize-partial-placement-context*="'+i.themeLocation.replace("_","-")+'-menu-location"]').data())&&(n=_.isEmpty(o.customizePartialPlacementContext.container_id)?_.isEmpty(o.customizePartialPlacementContext.menu_id)?null:o.customizePartialPlacementContext.menu_id:o.customizePartialPlacementContext.container_id),n},getSections:function(t){var i=[];return n.section.each(function(o){o.id.startsWith(t)&&(o.idSplit=o.id.split(t),i.push(o))}),i},inView:function(i){var o=t(window),n=o.scrollTop(),e=n+o.height(),a=i.offset().top,s=a+i.height();return a<=e&&s>=n},isParentEmpty:function(t){return t.hasClass("empty-menu")},parentColumn:function(t){var i=null,o=!1,n=["div[class*=col-]","div[class^=row]","div[class^=container]","div","p"],e=t.attr("data-is-parent-column"),a=t.attr("data-parent-column");return e?t:(a&&n.unshift(a),_(n).each(function(n){!1===o&&(i=t.closest(n)).length>0&&(o=!0)}),i)},placeButton:function(n){var e,a,s=t(n.attr("data-selector")),r=s.offset(),l=i.parentColumn(s),c=parseInt(n.attr("data-moves")),d=0===c?0:400,u=i.getFixedAncestors(s),p=u.length>0?"1":"0",h="absolute",f=i.right(l),m=o.outerWidth(!0);n.attr("data-fixed-ancestor",p),u.length?(e=parseInt(u.last().css("z-index")),Number.isInteger(e)&&e>i.defaultZindex&&n.css("z-index",e+1)):n.css("z-index",""),s.hasClass("hidden")||s.hasClass("invisible")||!s.is(":visible")?0===c?n.hide():n.fadeOut():(n.fadeIn(),f+i.buttonWidth>m&&(f=m-i.buttonWidth),"1"===n.attr("data-fixed-ancestor")?(h="fixed",a=r.top-t(window).scrollTop()):a=r.top,c++,n.attr({"data-last-animation":"placeButton","data-moves":c,"data-top":a,"data-left":f,"data-duration":d}).css("position",h).removeAttr("data-collision-set"))},placeButtons:function(){t("button[data-control]").each(function(){var o=t(this).data("selector");t(o).length?i.placeButton(t(this)):i.removeButton(t(this))}),i.findCollision(),i.positionByData()},positionByData:function(){t("button[data-control]").each(function(){var i=t(this);i.hasClass("highlight-button")&&"fixed"===i.css("position")||i.hasClass("new")&&i.is(":animated")||i.attr("data-last-animation","positionByData").animate({top:parseInt(i.attr("data-top")),left:parseInt(i.attr("data-left"))},parseInt(i.attr("data-duration")))})},right:function(t,i){return i=!_.isUndefined(i)&&i,t.offset().left+t.outerWidth(i)},sortButtonsAsc:function(o,n){var e,a,s,r,l=o.offset().top,c=n.offset().top;return l===c&&(s=(e=t(o.attr("data-selector"))).offset().top,i.isParentEmpty(e)&&(s-=1),l=s,r=(a=t(n.attr("data-selector"))).offset().top,i.isParentEmpty(a)&&(r-=1),c=r),l<c?-1:l>c?1:0},sortButtonsDesc:function(t,i){var o=t.offset().top,n=i.offset().top;return n<o?-1:n>o?1:0},topInView:function(i){var o=t(window),n=o.scrollTop(),e=n+o.height(),a=i.offset().top;return 0===n&&a<0||a>=n&&a<=e},windowScroll:function(){var o,n,e;if(t('[data-control][style*="position: fixed"][data-fixed-ancestor="0"]:not(.highlight-button)').each(function(){var o=t(this),n=t(o.attr("data-selector"));o.css("position","absolute").css("top",t(window).scrollTop()),i.topInView(n)?(i.placeButton(o),i.findCollision(),i.positionByData()):o.attr("data-last-animation","animation-c").animate({top:"-="+i.buttonHeight},400,function(){i.placeButton(o),i.findCollision(),i.positionByData()})}),1===(o=t('.highlight-button[data-control][data-fixed-ancestor="0"]')).length){if(n=t(o.attr("data-selector")),e="fixed"===o.css("position"),i.topInView(n)&&e)return o.attr("data-last-animation","animation-b").css("position","absolute").css("top",t(window).scrollTop()),i.placeButton(o),i.findCollision(),void i.positionByData();if(!i.topInView(n)&&!e)return void o.stop(!0).attr("data-last-animation","animation-a").css("position","fixed").css("top",-1*o.outerHeight()).animate({top:"0px"},400);if(!i.inView(n)&&e)return void o.animate({top:"-="+i.buttonHeight},400,function(){i.placeButton(o),i.findCollision(),i.positionByData()})}},addButton:function(n){var e,a,s=n.type?n.type:null,r=t("<button></button>"),l=t(n.selector),c=null===s?n.control:s+"["+n.control+"]",d=i.getFixedAncestors(l).length>0?"1":"0",u=l.hasClass("empty-menu");0===o.find('[data-selector="'+n.selector+'"]').length&&(n.requireText&&""===l.text().replace(/\s/g,"")||(e=_.isUndefined(n.icon)?i.i18n.config.defaultIcon:n.icon,r.addClass(e),n.isParentColumn&&l.attr("data-is-parent-column",!0),n.parentColumn&&l.attr("data-parent-column",n.parentColumn),a=i.parentColumn(l),u&&r.addClass("new").attr("data-title",i.i18n.menu),r.attr({"data-control":c,"data-selector":n.selector,"data-moves":0,"data-fixed-ancestor":d}),n.objectType&&r.attr("data-object-type",n.objectType),o.append(r),u&&r.css("max-width","100%").html(" "+r.attr("data-title")).attr("data-with-title-width",r.outerWidth(!0)).css("max-width","").html(""),r.hover(function(){i.buttonMouseEnter(r,l,a)},function(){i.buttonMouseLeave(r,l)}),r.on("click",function(){i.buttonClick(r)}),l.hover(function(){r.addClass("highlight-button"),i.topInView(l)||"fixed"===r.css("position")||!1!==i.userIsScrolling||r.attr("data-last-animation","ancar").css("position","fixed").css("top",-1*r.outerHeight()).animate({top:"0px"},400)},function(){r.removeClass("highlight-button")})))},removeButton:function(t){t.remove()},destroy:function(){t("button[data-control]").remove()}},i=BOLDGRID.CustomizerEdit}(jQuery),BOLDGRID.CustomizerEdit.init();