const api=wp.customize;export class Expand{constructor(){$(()=>_.extend(this,...arguments,{previousUrl:null,preview:api.previewer.previewUrl})&&this._onLoad()),this.clear=(()=>this.previousUrl=null)}_type(){api[this.type](this.typeId,e=>this._bindType(e))}_bindType(e){e.expanded.bind(e=>this._bindExpanded(e))}_bindExpanded(e){e?this.expanded():this.collapsed()}expanded(){this.previousUrl=this.preview.get(),this.preview.set(this.url),this.preview.bind(this.clear)}collapsed(){this.preview.unbind(this.clear),this.previousRedirect&&this.previousUrl&&this.preview.set(this.previousUrl)}_onLoad(){this._type()}}export default Expand;