const api=wp.customize;export class Expand{constructor({type:e=null,typeId:i=null,url:t=null}={}){$(()=>_.extend(this,...arguments,{previousUrl:null,preview:api.previewer.previewUrl})&&this._onLoad())}_type(){api[this.type](this.typeId,e=>this._bindType(e))}_bindType(e){e.expanded.bind(e=>this._bindExpanded(e))}_bindExpanded(e){let i=()=>this.previousUrl=null;e?this.expanded(i):this.collapsed(i)}expanded(e){this.previousUrl=this.preview.get(),this.preview.set(this.url),this.preview.bind(e)}collapsed(e){this.preview.unbind(e),this.previousUrl&&this.preview.set(this.previousUrl)}_onLoad(){this._type()}};export default Expand;