var BOLDGRID=BOLDGRID||{};BOLDGRID.StarterContentPlugins=BOLDGRID.StarterContentPlugins||{},function(n){"use strict";var t;BOLDGRID.StarterContentPlugins={i18n:window.bgtfwCustomizerStarterContentPlugins||{},installPluginsSuccess:!1,activatePluginsSuccess:!1,done:!1,$form:null,$spinner:null,$installButton:null,$messages:null,installPlugins:function(){var i,s,e,l={_wpnonce:t.i18n.bulkPluginsNonce,action:"tgmpa-bulk-install",plugin:t.i18n.pluginData.to_install};s=function(){t.installPluginsSuccess=!1,t.done=!0,t.$form.submit()},e=function(i){i=void 0===i?t.i18n.noResponseInstall:i;var e=n("<div>"+i+"</div>").find(".error");e.length>0?(t.$messages.show().find(".starter-content-error").empty().append(e),s()):(t.installPluginsSuccess=!0,t.activatePlugins())},t.$installButton.addClass("disabled").css("pointer-events","none"),t.$spinner.css("visibility","visible").css("float","none").css("margin-left","0px"),0===l.plugin.length?e("No plugins to install."):((i=n.post(ajaxurl+"?page=bgtfw-install-plugins",l)).done(e),i.fail(s))},activatePlugins:function(){var i,s,e,l,a={_wpnonce:t.i18n.bulkPluginsNonce,action:"tgmpa-bulk-activate",plugin:t.i18n.pluginData.to_activate};s=function(){t.activatePluginsSuccess=!1},e=function(i){i=void 0===i?t.i18n.noResponseActivate:i;var e=n("<div>"+i+"</div>").find(".error");e.length>0?(t.$messages.show().find(".starter-content-error").empty().append(e),s()):t.activatePluginsSuccess=!0},l=function(){t.done=!0,t.$form.submit()},0===a.plugin.length?(t.activatePluginsSuccess=!0,l()):((i=n.post(ajaxurl+"?page=bgtfw-install-plugins",a)).done(e),i.fail(s),i.always(l))},init:function(){t._onReady()},onFormSubmit:function(i){if(t.$form=n(this),t.$spinner=t.$form.find(".spinner"),t.$installButton=t.$form.find(".button"),t.$messages=t.$form.find(".starter-content-messages"),t.done)return!(!t.installPluginsSuccess||!t.activatePluginsSuccess)||(t.$form.find(".notice-error").attr("style","display:block !important"),t.$spinner.hide(),!1);i.preventDefault(),t.installPlugins()},_onReady:function(){n(function(){n("form.starter-content-install").on("submit",t.onFormSubmit)})}},t=BOLDGRID.StarterContentPlugins}(jQuery),BOLDGRID.StarterContentPlugins.init();