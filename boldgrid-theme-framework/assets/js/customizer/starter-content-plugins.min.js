var BOLDGRID=BOLDGRID||{};BOLDGRID.StarterContentPlugins=BOLDGRID.StarterContentPlugins||{},function(n){"use strict";var t;BOLDGRID.StarterContentPlugins={i18n:window.bgtfwCustomizerStarterContentPlugins||{},installPluginsSuccess:!1,activatePluginsSuccess:!1,postPluginsSuccess:!1,done:!1,$form:null,$spinner:null,$installButton:null,$messages:null,installPlugins:function(){var i,s,o={_wpnonce:t.i18n.bulkPluginsNonce,action:"tgmpa-bulk-install",plugin:t.i18n.pluginData.to_install};i=function(){t.installPluginsSuccess=!1,t.done=!0,t.$form.submit()},s=function(s){s=void 0===s?t.i18n.noResponseInstall:s;var o=n("<div>"+s+"</div>").find(".error");o.length>0?(t.showErrors(o),i()):(t.installPluginsSuccess=!0,t.activatePlugins())},t.$installButton.addClass("disabled").css("pointer-events","none"),t.$spinner.css("visibility","visible").css("float","none").css("margin-left","0px"),0===o.plugin.length?s("No plugins to install."):n.post(ajaxurl+"?page=bgtfw-install-plugins",o).done(s).fail(i)},activatePlugins:function(){var i,s,o={_wpnonce:t.i18n.bulkPluginsNonce,action:"tgmpa-bulk-activate",plugin:t.i18n.pluginData.to_activate};i=function(){t.activatePluginsSuccess=!1,t.done=!0,t.$form.submit()},s=function(s){s=void 0===s?t.i18n.noResponseActivate:s;var o=n("<div>"+s+"</div>").find(".error");o.length>0?(t.showErrors(o),i()):(t.activatePluginsSuccess=!0,t.postPluginSetup())},0===o.plugin.length?s("No plugins to install."):n.post(ajaxurl+"?page=bgtfw-install-plugins",o).done(s).fail(i)},postPluginSetup:function(){var i,s,o={action:"bgtfw-post-plugin-setup",_wpnonce:t.i18n.bulkPluginsNonce};s=function(i){i=void 0===i||"0"===i?t.i18n.unknownPostError:i;var s=n("<div>"+i+"</div>").find(".error");s.length>0?t.showErrors(s):t.postPluginsSuccess=!0},i=function(){t.done=!0,t.$form.submit()},n.post(ajaxurl,o).done(s).always(i)},init:function(){t._onReady()},onFormSubmit:function(i){if(t.$form=n(this),t.$spinner=t.$form.find(".spinner"),t.$installButton=t.$form.find(".button"),t.$messages=t.$form.find(".starter-content-messages"),t.done)return!!(t.installPluginsSuccess&&t.activatePluginsSuccess&&t.postPluginsSuccess)||(t.$form.find(".notice-error").attr("style","display:block !important"),t.$spinner.hide(),!1);i.preventDefault(),t.installPlugins()},showErrors:function(n){t.$messages.show().find(".starter-content-error").empty().append(n)},_onReady:function(){n(function(){n("form.starter-content-install").on("submit",t.onFormSubmit)})}},t=BOLDGRID.StarterContentPlugins}(jQuery),BOLDGRID.StarterContentPlugins.init();