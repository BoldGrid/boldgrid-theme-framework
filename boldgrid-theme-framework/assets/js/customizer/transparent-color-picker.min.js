jQuery(document).ready(function(a){Color.prototype.toString=function(a){if("no-alpha"===a)return this.toCSS("rgba","1").replace(/\s+/g,"");if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var r=6-t.length-1;r>=0;r--)t="0"+t;return"#"+t},a(".pluto-color-control").each(function(){var t,r=a(this),e=r.val().replace(/\s+/g,""),i=r.attr("data-palette");t="false"!==i&&i!==!1&&("true"===i||i===!0||r.attr("data-palette").split(",")),r.wpColorPicker({clear:function(){},change:function(a,t){var e=r.val(),i=r.attr("data-customize-setting-link");wp.customize(i,function(a){a.set(e)});var n=r.parents(".wp-picker-container:first").find(".transparency");n.css("backgroundColor",t.color.toString("no-alpha"))},palettes:t}),a('<div class="pluto-alpha-container"><div class="slider-alpha"></div><div class="transparency"></div></div>').appendTo(r.parents(".wp-picker-container"));var n,o=r.parents(".wp-picker-container:first").find(".slider-alpha");e.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(n=100*parseFloat(e.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]),n=parseInt(n)):n=100,o.slider({slide:function(t,e){a(this).find(".ui-slider-handle").text(e.value);var i=r.val(),n=r.attr("data-customize-setting-link");wp.customize(n,function(a){a.set(i)})},create:function(){var t=a(this).slider("value");a(this).find(".ui-slider-handle").text(t)},value:n,range:"max",step:1,min:1,max:100}),o.slider().on("slidechange",function(t,e){var i=parseFloat(e.value),n=r.data("a8cIris"),o=r.data("wpWpColorPicker");n._color._alpha=i/100,r.val(n._color.toString()),o.toggler.css({backgroundColor:r.val()});var l=r.val();a(r).wpColorPicker("color",l)})})});