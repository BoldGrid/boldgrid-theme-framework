import{Preview as PreviewUtility}from"../preview";import PaletteSelector from"../color/palette-selector";const api=wp.customize;export class LinkPreview{constructor(){this.previewUtility=new PreviewUtility,this.paletteSelector=new PaletteSelector}bindEvents(){api("bgtfw_body_link_color","bgtfw_body_link_color_hover","bgtfw_body_link_decoration","bgtfw_body_link_decoration_hover",(...t)=>{t.map(t=>{t.bind(()=>this.updateStyles())})})}updateStyles(){let t=this._getColor("bgtfw_body_link_color"),e=this._getColor("bgtfw_body_link_color_hover"),o=this._getDecoration("bgtfw_body_link_decoration"),i=this._getDecoration("bgtfw_body_link_decoration_hover"),n=["#content a"],r="";for(let l of n)r+=`\n\t\t\t\t${l+=":not(.btn):not(.button-primary):not(.button-secondary)"} {\n\t\t\t\t\tcolor: ${t};\n\t\t\t\t\ttext-decoration: ${o};\n\t\t\t\t}\n\t\t\t\t${l}:hover {\n\t\t\t\t\tcolor: ${e};\n\t\t\t\t\ttext-decoration: ${i};\n\t\t\t\t}\n\t\t\t`;this.previewUtility.updateDynamicStyles("bgftw-body-link-inline-css",r)}_getDecoration(t){return api(t)()?"underline":"none"}_getColor(t){let e=api(t)()||"";return this.paletteSelector.getColor(e)}};