var BOLDGRID=BOLDGRID||{};BOLDGRID.CUSTOMIZER=BOLDGRID.CUSTOMIZER||{},function(e){"use strict";BOLDGRID.CUSTOMIZER.WidgetPreview={};var t=BOLDGRID.CUSTOMIZER.WidgetPreview;t.hover_bound=!1,t.section_click_bound=!1,e(function(){$window.on("boldgrid_customizer_refresh",onload),r()}),onload=function(){t.section_selector=a(),t.$previewer=jQuery(wp.customize.previewer.container).find("iframe").last().contents(),o(),i(),t.$widget_overlay=e('<div id="boldgrid-widget-area-overlay" class="widget-area-overlay hidden"><h2>Widget Area</h2></div>'),t.$previewer.find("body").append(t.$widget_overlay)};var i=function(){!0!==t.section_click_bound&&(e(t.section_selector).on("click",function(){d(),t.$previewer.find("[data-widget-area][data-empty-area]").css({width:"",height:""})}),t.section_click_bound=!0)},o=function(){var i=function(){if(t.complete_event=!0,!e(this).hasClass("open")){var i=t.$previewer.find('[data-widget-area="'+this.id+'"]');i.is(":visible")&&i.length&&(i.attr("data-empty-area")&&(i.css({width:"100%",height:"50px"}),t.$widget_overlay.find("h2").prepend('<span class="empty-phrase-heading">Empty <span>'),t.$widget_overlay.addClass("empty-widget-area")),n(i))}},o=function(){if(!1!==t.complete_event){t.complete_event=!1;var e=t.$previewer.find('[data-widget-area="'+this.id+'"]');e.is(":visible")&&e.length&&(e.attr("data-empty-area")&&e.css({width:"",height:""}),d())}};t.section_selector&&!1===t.hover_bound&&(t.hover_bound=!0,e(t.section_selector).hoverIntent(i,o))},d=function(){t.$widget_overlay.find(".empty-phrase-heading").remove(),t.$widget_overlay.addClass("hidden").removeClass("empty-widget-area")},n=function(i){var o=i[0].getBoundingClientRect(),d=i.outerHeight(!0),n=i.outerWidth(!0);i.find("*").each(function(){var t=e(this),i=t.outerHeight(!0),o=t.outerWidth(!0);i>d&&(d=i),o>n&&(n=o)}),t.$widget_overlay.css({width:o.width,height:d,left:i.offset().left,top:i.offset().top}).removeClass("hidden"),t.$previewer.find("html, body").stop().animate({scrollTop:i.offset().top-65},750)},a=function(){var t=wp.customize.panel("widgets").sections(),i="",o=!0;return e.each(t,function(e){!1===o&&(i+=","),i+="#accordion-section-"+this.id+":not(.open)",o=!1}),i},r=function(){e("#accordion-panel-widgets .customize-info.accordion-section").after('<p class="boldgrid-subdescription">A Widget is a small block that performs a specific function. We have provided some prefilled widget areas for you. You can hover over the Widget Areas below to see where they are located on the page.</p>'),wp.customize("boldgrid_footer_widgets").get()&&"0"!==wp.customize("boldgrid_header_widgets").get()?e("#accordion-panel-widgets .accordion-sub-container").append('<p class="boldgrid-subdescription bottom-description">To change the number of columns in your header or footer, use the following buttons. </p>').append('<div class="boldgrid-subdescription"><button  type="button" data-focus-control="boldgrid_header_widgets" class="button">Header Columns</button><button class="button" type="button" data-focus-control="boldgrid_footer_widgets">Footer Columns</button><div>').append('<div class="boldgrid-subdescription edit-in-admin"><a href="'+Boldgrid_Thememod_Markup.siteurl+'/wp-admin/widgets.php" type="button" class="button">Edit in Admin</a><div>'):e("#accordion-panel-widgets .accordion-sub-container").append('<p class="boldgrid-subdescription bottom-description">You can add more widget areas in your header or footer, just use the following buttons: </p>').append('<div class="boldgrid-subdescription"><button  type="button" data-focus-control="boldgrid_header_widgets" class="button">Header Widgets</button><button class="button" type="button" data-focus-control="boldgrid_footer_widgets">Footer Widgets</button><div>').append('<div class="boldgrid-subdescription edit-in-admin"><a href="'+Boldgrid_Thememod_Markup.siteurl+'/wp-admin/widgets.php" type="button" class="button">Edit in Admin</a><div>'),e("#accordion-panel-nav_menus .accordion-sub-container").append('<div class="boldgrid-subdescription edit-in-admin"><a href="'+Boldgrid_Thememod_Markup.siteurl+'/wp-admin/nav-menus.php" type="button" class="button">Edit in Admin</a><div>')}}(jQuery);