var BOLDGRID=BOLDGRID||{};BOLDGRID.COLOR_PALETTE=BOLDGRID.COLOR_PALETTE||{},BOLDGRID.COLOR_PALETTE.Preview=BOLDGRID.COLOR_PALETTE.Preview||{},function(e){"use strict";var t=BOLDGRID.COLOR_PALETTE.Preview;t.$new_style=null,e(function(){parent.BOLDGRID&&parent.BOLDGRID.COLOR_PALETTE.Modify.text_area_val&&t.update_css(parent.BOLDGRID.COLOR_PALETTE.Modify.text_area_val)}),t.update_css=function(a){var s=JSON.parse(a),n=e("body"),r=parent.BOLDGRID.COLOR_PALETTE.Modify.body_classes,L="";r&&e.each(r,function(){L+=this+" "}),n.removeClass(L).addClass(s.state["active-palette"]).data("current-body-class",s.state["active-palette"]);var O=document.createElement("style");O.type="text/css",O.innerHTML=parent.BOLDGRID.COLOR_PALETTE.Modify.compiled_css;var _=new RegExp(parent.BOLDGRIDSass.output_css_filename,"i"),i=!1;e("head link[href]").each(function(){e(this).attr("href")&&e(this).attr("href").match(_)&&(i=!0,t.$new_style&&t.$new_style.remove(),t.$new_style=e(O),t.$new_style.insertAfter(e(this)))}),!1===i&&(t.$new_style&&t.$new_style.remove(),t.$new_style=e(O),e("head").append(t.$new_style))},wp.customize("boldgrid_color_palette",function(e){e.bind(t.update_css)})}(jQuery);